"use strict";(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[273],{2273(e,t,s){s.r(t),s.d(t,{default:()=>ge});var a=s(7405),r=s(9643),l=s(5459),n=s(608),o=s(5019);var i=s(3766),d=s(7945),c=s(4488),x=s(9561),m=s(6878),u=s(8094),h=s(6507);const g={pending:{label:"To Do",color:"bg-amber-500",textColor:"text-amber-700 dark:text-amber-300",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800",icon:(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"})})},in_progress:{label:"In Progress",color:"bg-blue-500",textColor:"text-blue-700 dark:text-blue-300",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",icon:(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,h.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})},completed:{label:"Done",color:"bg-emerald-500",textColor:"text-emerald-700 dark:text-emerald-300",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800",icon:(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}},p=e=>{let{task:t,onToggle:s,onStatusChange:l,onDelete:n,onViewDetails:o,showExpandButton:p=!0,draggable:b=!1,isDragging:k=!1}=e;const[v,f]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[y,N]=(0,r.useState)({top:0,left:0}),C=(0,r.useRef)(null),D=(0,r.useRef)(null),{attributes:L,listeners:M,setNodeRef:S,transform:A}=(0,d.PM)({id:t.id.toString(),data:{task:t,type:"task"},disabled:!b}),W=A?{transform:c.Ks.Translate.toString(A),zIndex:1e3}:void 0,B=(0,m.g$)(t),T="in_progress"===B,O="completed"===B,z=g[B];return(0,r.useEffect)(()=>{j&&(()=>{if(C.current){const e=C.current.getBoundingClientRect();N({top:e.bottom+window.scrollY+8,left:e.left+window.scrollX})}})()},[j]),(0,r.useEffect)(()=>{const e=e=>{D.current&&!D.current.contains(e.target)&&C.current&&!C.current.contains(e.target)&&w(!1)};if(j)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[j]),(0,h.jsxs)("div",(0,a.A)((0,a.A)({ref:b?S:void 0,style:W},b?(0,a.A)((0,a.A)({},L),M):{}),{},{className:"group relative bg-white dark:bg-slate-800 rounded-2xl shadow-sm border transition-all duration-200 hover:shadow-md overflow-hidden ".concat(k?"opacity-50 scale-95":""," ").concat(O?"border-slate-200 dark:border-slate-700":T?"border-blue-300 dark:border-blue-500":"border-slate-100 dark:border-slate-700"," ").concat(b?"cursor-grab active:cursor-grabbing":""),children:[(0,h.jsx)("div",{className:"px-5 py-3 ".concat(z.bgColor," border-b ").concat(z.borderColor),children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"relative",children:(0,h.jsxs)("button",{ref:C,onClick:()=>w(!j),className:"inline-flex items-center gap-2.5 px-4 py-2 rounded-lg text-sm font-bold transition-all ".concat(z.bgColor," ").concat(z.textColor," border-2 ").concat(z.borderColor," hover:shadow-lg hover:scale-105"),children:[(0,h.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(z.color," shadow-sm")}),z.label,(0,h.jsx)("svg",{className:"w-4 h-4 opacity-70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(u.YJ,{priority:t.priority}),(0,h.jsx)(u.iU,{category:t.category})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-1",children:[o&&(0,h.jsx)("button",{onClick:e=>{e.stopPropagation(),o(t)},className:"p-2 text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-white/50 dark:hover:bg-slate-700/50 rounded-lg transition-all",title:"View details",children:(0,h.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,h.jsx)("button",{onClick:e=>{e.stopPropagation(),n(t.id)},className:"p-2 text-slate-500 dark:text-slate-400 hover:text-rose-600 dark:hover:text-rose-400 hover:bg-white/50 dark:hover:bg-slate-700/50 rounded-lg transition-all",title:"Delete task",children:(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),(0,h.jsx)("div",{className:"p-5 ".concat(O?"bg-slate-50/60 dark:bg-slate-800/50":T?"bg-gradient-to-br from-blue-50/30 to-indigo-50/30 dark:from-blue-900/10 dark:to-indigo-900/10":"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-800/50"),children:(0,h.jsxs)("div",{className:"flex items-start gap-4",children:[(0,h.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,h.jsx)("div",{className:"w-10 h-10 flex items-center justify-center rounded-2xl transition-all ".concat(O?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white shadow-lg shadow-emerald-200 dark:shadow-emerald-900/30":T?"bg-gradient-to-br from-blue-400 to-indigo-500 text-white shadow-lg shadow-blue-200 dark:shadow-blue-900/30":"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-500 dark:text-indigo-400"),children:(0,h.jsx)("span",{className:"text-xl",children:(0,m.xN)(t.priority)})})}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("h3",{className:"text-xl font-bold transition-all mb-2 ".concat(O?"text-slate-400 dark:text-slate-500 line-through decoration-2 decoration-slate-300 dark:decoration-slate-600":T?"text-blue-700 dark:text-blue-300":"text-slate-800 dark:text-slate-100"),children:t.text}),t.description&&(0,h.jsxs)("div",{className:"transition-all duration-300 ease-in-out ".concat(v?"max-h-96 opacity-100":"max-h-24 opacity-90"," overflow-hidden relative"),children:[(0,h.jsx)("div",{className:"mb-4",children:(0,h.jsx)("p",{className:"text-slate-600 dark:text-slate-300 whitespace-pre-wrap leading-relaxed ".concat(O?"text-slate-400 dark:text-slate-500":""),children:t.description})}),t.description.length>100&&p&&(0,h.jsxs)("button",{onClick:()=>f(!v),className:"text-xs font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[v?"Show less":"Show more",(0,h.jsx)("svg",{className:"w-3 h-3 transition-transform duration-300 ".concat(v?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,h.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs mt-3",children:[t.dueDate&&(0,h.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border ".concat(new Date(t.dueDate)<new Date&&!O?"bg-rose-50 border-rose-200 text-rose-600 dark:bg-rose-900/20 dark:border-rose-800 dark:text-rose-400":"bg-blue-50 border-blue-100 text-blue-600 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400"),children:[(0,h.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.dueDate,new Date(t.dueDate)<new Date&&!O&&(0,h.jsx)("span",{className:"font-bold ml-1",children:"(Overdue)"})]}),(0,h.jsxs)("span",{className:"text-slate-400 dark:text-slate-500 flex items-center gap-1",children:[(0,h.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,x.Yq)(t.createdAt)]}),t.description&&(0,h.jsx)("span",{className:"text-slate-400 dark:text-slate-500",children:(0,m.qo)(t.description)})]})]})]})}),j&&(0,i.createPortal)((0,h.jsx)("div",{ref:D,className:"fixed bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden z-[9999]",style:{top:"".concat(y.top,"px"),left:"".concat(y.left,"px"),width:"224px"},children:(0,h.jsxs)("div",{className:"p-2",children:[(0,h.jsx)("div",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide px-3 py-2",children:"Change Status"}),Object.keys(g).map(e=>{const a=g[e],r=B===e;return(0,h.jsxs)("button",{onClick:()=>{return a=e,l?l(t.id,a):"completed"===a&&s(t.id),void w(!1);var a},className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-all ".concat(r?"".concat(a.bgColor," ").concat(a.textColor," ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-800"):"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-700 dark:text-slate-200"),children:[(0,h.jsx)("div",{className:"w-5 h-5 rounded-full flex items-center justify-center ".concat(a.color," shadow-sm"),children:a.icon}),(0,h.jsx)("span",{className:"flex-1 text-left",children:a.label}),r&&(0,h.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,h.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e)})]})}),document.body)]}))};const b=["Personal","Work","Shopping","Health","Urgent"];var k=s(3590);const v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;const s=new Date(t);switch(e.frequency){case"daily":s.setDate(s.getDate()+e.interval);break;case"weekly":if(e.daysOfWeek&&e.daysOfWeek.length>0){const t=[...e.daysOfWeek].sort((e,t)=>e-t),a=s.getDay(),r=t.find(e=>e>a);void 0!==r?s.setDate(s.getDate()+(r-a)):s.setDate(s.getDate()+(7-a)+t[0]+7*(e.interval-1))}else s.setDate(s.getDate()+7*e.interval);break;case"monthly":e.dayOfMonth?(s.setMonth(s.getMonth()+e.interval),s.setDate(e.dayOfMonth),s.getDate()!==e.dayOfMonth&&s.setDate(0)):s.setMonth(s.getMonth()+e.interval);break;case"yearly":e.monthOfYear?(s.setFullYear(s.getFullYear()+e.interval),s.setMonth(e.monthOfYear-1),e.dayOfMonth&&s.setDate(e.dayOfMonth)):s.setFullYear(s.getFullYear()+e.interval);break;case"custom":e.customDays&&e.customDays.length>0&&s.setDate(s.getDate()+e.customDays[0])}return s}function w(e){switch(e.frequency){case"daily":return 1===e.interval?"Daily":"Every ".concat(e.interval," days");case"weekly":if(e.daysOfWeek&&e.daysOfWeek.length>0){if(7===e.daysOfWeek.length)return"Daily";if(JSON.stringify(e.daysOfWeek.sort())===JSON.stringify([1,2,3,4,5]))return"Weekdays";if(JSON.stringify(e.daysOfWeek.sort())===JSON.stringify([0,6]))return"Weekends";const t=e.daysOfWeek.map(e=>v[e]).join(", ");return 1===e.interval?"Weekly on ".concat(t):"Every ".concat(e.interval," weeks on ").concat(t)}return 1===e.interval?"Weekly":"Every ".concat(e.interval," weeks");case"monthly":if(e.dayOfMonth){const t=function(e){const t=["th","st","nd","rd"],s=e%100;return e+(t[(s-20)%10]||t[s]||t[0])}(e.dayOfMonth);return 1===e.interval?"Monthly on the ".concat(t):"Every ".concat(e.interval," months on the ").concat(t)}return 1===e.interval?"Monthly":"Every ".concat(e.interval," months");case"yearly":if(e.monthOfYear&&e.dayOfMonth){const t=f[e.monthOfYear-1];return 1===e.interval?"Yearly on ".concat(t," ").concat(e.dayOfMonth):"Every ".concat(e.interval," years on ").concat(t," ").concat(e.dayOfMonth)}return 1===e.interval?"Yearly":"Every ".concat(e.interval," years");case"custom":return"Custom schedule";default:return"Recurring"}}const y=[{pattern:/\btoday\b/i,resolver:()=>new Date},{pattern:/\btomorrow\b/i,resolver:()=>D(new Date,1)},{pattern:/\byesterday\b/i,resolver:()=>D(new Date,-1)},{pattern:/\bnext\s+monday\b/i,resolver:()=>L(1)},{pattern:/\bnext\s+tuesday\b/i,resolver:()=>L(2)},{pattern:/\bnext\s+wednesday\b/i,resolver:()=>L(3)},{pattern:/\bnext\s+thursday\b/i,resolver:()=>L(4)},{pattern:/\bnext\s+friday\b/i,resolver:()=>L(5)},{pattern:/\bnext\s+saturday\b/i,resolver:()=>L(6)},{pattern:/\bnext\s+sunday\b/i,resolver:()=>L(0)},{pattern:/\bmon\b/i,resolver:()=>L(1)},{pattern:/\btue\b/i,resolver:()=>L(2)},{pattern:/\bwed\b/i,resolver:()=>L(3)},{pattern:/\bthu\b/i,resolver:()=>L(4)},{pattern:/\bthurs\b/i,resolver:()=>L(4)},{pattern:/\bfri\b/i,resolver:()=>L(5)},{pattern:/\bsat\b/i,resolver:()=>L(6)},{pattern:/\bsun\b/i,resolver:()=>L(0)},{pattern:/\bnext\s+week\b/i,resolver:()=>D(new Date,7)},{pattern:/\bend\s+of\s+week\b/i,resolver:()=>function(){const e=new Date,t=new Date(e),s=(5-e.getDay()+7)%7||7;return t.setDate(e.getDate()+s),t}()},{pattern:/\bthis\s+weekend\b/i,resolver:()=>L(6)},{pattern:/\bnext\s+month\b/i,resolver:()=>function(e,t){const s=new Date(e);return s.setMonth(s.getMonth()+t),s}(new Date,1)},{pattern:/\bend\s+of\s+month\b/i,resolver:()=>function(){const e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0)}()},{pattern:/\bin\s+(\d+)\s+days?\b/i,resolver:()=>D(new Date,1)},{pattern:/\bin\s+(\d+)\s+weeks?\b/i,resolver:()=>D(new Date,7)}],N=[{pattern:/\bhigh\s+priority\b/i,priority:"high"},{pattern:/\burgent\b/i,priority:"high"},{pattern:/\basap\b/i,priority:"high"},{pattern:/\bimportant\b/i,priority:"high"},{pattern:/\b!!!+\b/,priority:"high"},{pattern:/\bcritical\b/i,priority:"high"},{pattern:/\bmedium\s+priority\b/i,priority:"medium"},{pattern:/\bnormal\b/i,priority:"medium"},{pattern:/\b!!\b/,priority:"medium"},{pattern:/\blow\s+priority\b/i,priority:"low"},{pattern:/\bwhenever\b/i,priority:"low"},{pattern:/\bsometime\b/i,priority:"low"},{pattern:/\b!\b/,priority:"low"},{pattern:/\bnot\s+urgent\b/i,priority:"low"}],C=[{pattern:/#work\b/i,category:"work"},{pattern:/#personal\b/i,category:"personal"},{pattern:/#health\b/i,category:"health"},{pattern:/#finance\b/i,category:"finance"},{pattern:/#shopping\b/i,category:"shopping"},{pattern:/#learning\b/i,category:"learning"},{pattern:/#home\b/i,category:"home"},{pattern:/#fitness\b/i,category:"health"},{pattern:/#urgent\b/i,category:"work"}];function D(e,t){const s=new Date(e);return s.setDate(s.getDate()+t),s}function L(e){const t=new Date,s=new Date(t),a=(e-t.getDay()+7)%7||7;return s.setDate(t.getDate()+a),s}function M(e){return e.toISOString().split("T")[0]}function S(e){const t=e.toLowerCase().trim();for(const{pattern:a,resolver:r}of y)if(a.test(t))return r();const s=new Date(e);return isNaN(s.getTime())?null:s}const A={meeting:["Prepare agenda","Send calendar invite","Review previous notes","Prepare presentation","Send follow-up email"],presentation:["Outline key points","Create slides","Add visuals/diagrams","Practice delivery","Get feedback"],report:["Gather data","Create outline","Write draft","Review and edit","Get approval"],grocery:["Make shopping list","Check pantry","Get reusable bags","Plan meals for week"],travel:["Book flights","Reserve accommodation","Plan itinerary","Pack luggage","Check documents"],exercise:["Warm up","Main workout","Cool down","Track progress"],clean:["Declutter surfaces","Dust furniture","Vacuum floors","Clean bathroom","Take out trash"],cook:["Find recipe","Get ingredients","Prep ingredients","Cook meal","Clean up"]},W={meeting:["meeting","call","sync","standup","review"],presentation:["presentation","slides","deck","demo"],report:["report","document","write","draft"],grocery:["grocery","shopping","buy","store"],travel:["trip","travel","vacation","flight","hotel"],exercise:["workout","exercise","gym","run","fitness"],clean:["clean","tidy","organize","declutter"],cook:["cook","bake","recipe","dinner","meal"]},B={high:["urgent","asap","critical","important","deadline","emergency","overdue"],medium:["soon","this week","moderate","normal"],low:["later","eventually","someday","when possible","optional"]},T={work:["meeting","report","deadline","client","project","email","presentation"],personal:["birthday","family","friend","hobby","personal"],health:["doctor","exercise","gym","medicine","appointment","workout"],finance:["bill","payment","budget","tax","invoice","bank"],shopping:["buy","purchase","order","store","grocery"],home:["clean","repair","maintenance","garden","laundry"]};function O(e){const t=e.toLowerCase();for(const[s,a]of Object.entries(W))if(a.some(e=>t.includes(e)))return A[s]||[];return[]}function z(e){const t=e.toLowerCase();for(const[s,a]of Object.entries(B))if(a.some(e=>t.includes(e)))return s;return null}function P(e){const t=e.toLowerCase();for(const[s,a]of Object.entries(T))if(a.some(e=>t.includes(e)))return s;return null}function V(e){const t=e.toLowerCase();return t.includes("exercise")||t.includes("workout")||t.includes("gym")?{hour:7,reason:"Best time for physical activity"}:t.includes("focus")||t.includes("deep work")||t.includes("writing")?{hour:9,reason:"Peak mental clarity in the morning"}:t.includes("meeting")||t.includes("call")?{hour:10,reason:"Most people are available mid-morning"}:t.includes("design")||t.includes("creative")||t.includes("brainstorm")?{hour:14,reason:"Creative energy often peaks in afternoon"}:t.includes("email")||t.includes("admin")||t.includes("review")?{hour:16,reason:"Good time for administrative tasks"}:null}var E=s(3644);const H=[{id:"every_day",label:"Daily",description:"Repeats every day",icon:"\ud83d\udcc5",pattern:{frequency:"daily",interval:1}},{id:"every_weekday",label:"Weekdays",description:"Monday through Friday",icon:"\ud83d\udcc6",pattern:{frequency:"weekly",interval:1,daysOfWeek:[1,2,3,4,5]}},{id:"every_week",label:"Weekly",description:"Repeats every week",icon:"\ud83d\udd04",pattern:{frequency:"weekly",interval:1}},{id:"every_2_weeks",label:"Bi-weekly",description:"Every two weeks",icon:"\u21bb",pattern:{frequency:"weekly",interval:2}},{id:"every_month",label:"Monthly",description:"Repeats every month",icon:"\ud83d\uddd3\ufe0f",pattern:{frequency:"monthly",interval:1}},{id:"every_quarter",label:"Quarterly",description:"Every three months",icon:"\ud83d\udcca",pattern:{frequency:"monthly",interval:3}},{id:"every_year",label:"Yearly",description:"Repeats every year",icon:"\ud83c\udf82",pattern:{frequency:"yearly",interval:1}},{id:"custom",label:"Custom",description:"Custom schedule",icon:"\u2699\ufe0f",pattern:{frequency:"custom",interval:1}}],I={daily:"Day(s)",weekly:"Week(s)",monthly:"Month(s)",yearly:"Year(s)",custom:"Custom"},R=[{value:0,label:"Sun",fullLabel:"Sunday"},{value:1,label:"Mon",fullLabel:"Monday"},{value:2,label:"Tue",fullLabel:"Tuesday"},{value:3,label:"Wed",fullLabel:"Wednesday"},{value:4,label:"Thu",fullLabel:"Thursday"},{value:5,label:"Fri",fullLabel:"Friday"},{value:6,label:"Sat",fullLabel:"Saturday"}],_=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],q=Array.from({length:31},(e,t)=>({value:t+1,label:"".concat(t+1)})),F=[{value:"never",label:"Never"},{value:"on_date",label:"On date"},{value:"after_occurrences",label:"After occurrences"}],Y=e=>{let{value:t,onChange:s,startDate:l=new Date}=e;const{theme:n}=(0,E.D)(),[o,i]=(0,r.useState)(null),[d,c]=(0,r.useState)("never"),[x,m]=(0,r.useState)(!1),[u,g]=(0,r.useState)(t||{frequency:"daily",interval:1});(0,r.useEffect)(()=>{t&&(g(t),t.endDate?c("on_date"):t.maxOccurrences?c("after_occurrences"):c("never"))},[t]);const p=e=>{const t=(0,a.A)((0,a.A)({},u),e);g(t),s(t)},b=t?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const s=[];let a=new Date;for(let r=0;r<t;r++)a=j(e,a),s.push(new Date(a));return s}(t,3):[];return(0,h.jsxs)("div",{className:"p-4 rounded-xl ".concat("dark"===n?"bg-slate-700/50":"bg-slate-50"),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Repeat"}),t&&(0,h.jsx)("button",{onClick:()=>{i(null),m(!1),g({frequency:"daily",interval:1}),s(null)},className:"text-xs text-slate-500 hover:text-rose-500 transition-colors",children:"Clear"})]}),(0,h.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:H.map(e=>(0,h.jsxs)("button",{onClick:()=>(e=>{i(e);const t=H.find(t=>t.id===e);t&&("custom"===e?m(!0):(m(!1),s(t.pattern)))})(e.id),className:"\n              p-2 rounded-lg text-center transition-all text-xs\n              ".concat(o===e.id?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 ring-2 ring-indigo-400":"bg-white dark:bg-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-500","\n            "),children:[(0,h.jsx)("span",{className:"block text-base mb-0.5",children:e.icon}),(0,h.jsx)("span",{children:e.label})]},e.id))}),x&&(0,h.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-200 dark:border-slate-600",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Every"}),(0,h.jsx)("input",{type:"number",min:1,max:99,value:u.interval,onChange:e=>p({interval:parseInt(e.target.value)||1}),className:"w-16 px-2 py-1 rounded text-sm text-center ".concat("dark"===n?"bg-slate-600 text-slate-100 border-slate-500":"bg-white text-slate-800 border-slate-200"," border")}),(0,h.jsx)("select",{value:u.frequency,onChange:e=>p({frequency:e.target.value}),className:"flex-1 px-2 py-1 rounded text-sm ".concat("dark"===n?"bg-slate-600 text-slate-100 border-slate-500":"bg-white text-slate-800 border-slate-200"," border"),children:Object.entries(I).map(e=>{let[t,s]=e;return(0,h.jsx)("option",{value:t,children:s},t)})})]}),"weekly"===u.frequency&&(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2 block",children:"On days"}),(0,h.jsx)("div",{className:"flex gap-1",children:R.map(e=>{var t;return(0,h.jsx)("button",{onClick:()=>(e=>{const t=u.daysOfWeek||[],s=t.includes(e)?t.filter(t=>t!==e):[...t,e].sort();p({daysOfWeek:s})})(e.value),className:"\n                      w-8 h-8 rounded text-xs font-medium transition-all\n                      ".concat(null!==(t=u.daysOfWeek)&&void 0!==t&&t.includes(e.value)?"bg-indigo-500 text-white":"bg-white dark:bg-slate-600 text-slate-600 dark:text-slate-300 hover:bg-indigo-100 dark:hover:bg-slate-500","\n                    "),title:e.fullLabel,children:e.label},e.value)})})]}),"monthly"===u.frequency&&(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"On day"}),(0,h.jsx)("select",{value:u.dayOfMonth||1,onChange:e=>p({dayOfMonth:parseInt(e.target.value)}),className:"flex-1 px-2 py-1 rounded text-sm ".concat("dark"===n?"bg-slate-600 text-slate-100 border-slate-500":"bg-white text-slate-800 border-slate-200"," border"),children:q.map(e=>(0,h.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"yearly"===u.frequency&&(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"In"}),(0,h.jsx)("select",{value:u.monthOfYear||1,onChange:e=>p({monthOfYear:parseInt(e.target.value)}),className:"flex-1 px-2 py-1 rounded text-sm ".concat("dark"===n?"bg-slate-600 text-slate-100 border-slate-500":"bg-white text-slate-800 border-slate-200"," border"),children:_.map(e=>(0,h.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,h.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"on day"}),(0,h.jsx)("select",{value:u.dayOfMonth||1,onChange:e=>p({dayOfMonth:parseInt(e.target.value)}),className:"w-16 px-2 py-1 rounded text-sm ".concat("dark"===n?"bg-slate-600 text-slate-100 border-slate-500":"bg-white text-slate-800 border-slate-200"," border"),children:q.slice(0,28).map(e=>(0,h.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,h.jsxs)("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-600",children:[(0,h.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2 block",children:"Ends"}),(0,h.jsx)("div",{className:"flex gap-2 mb-2",children:F.map(e=>(0,h.jsx)("button",{onClick:()=>{return t=e.value,c(t),void p("never"===t?{endDate:void 0,maxOccurrences:void 0}:"on_date"===t?{maxOccurrences:void 0}:{endDate:void 0});var t},className:"\n                    flex-1 py-1.5 px-2 rounded text-xs font-medium transition-all\n                    ".concat(d===e.value?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300":"bg-white dark:bg-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-100","\n                  "),children:e.label},e.value))}),"on_date"===d&&(0,h.jsx)("input",{type:"date",value:u.endDate||"",onChange:e=>p({endDate:e.target.value}),min:l.toISOString().split("T")[0],className:"w-full px-2 py-1 rounded text-sm ".concat("dark"===n?"bg-slate-600 text-slate-100 border-slate-500":"bg-white text-slate-800 border-slate-200"," border")}),"after_occurrences"===d&&(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"After"}),(0,h.jsx)("input",{type:"number",min:1,max:999,value:u.maxOccurrences||10,onChange:e=>p({maxOccurrences:parseInt(e.target.value)||10}),className:"w-20 px-2 py-1 rounded text-sm text-center ".concat("dark"===n?"bg-slate-600 text-slate-100 border-slate-500":"bg-white text-slate-800 border-slate-200"," border")}),(0,h.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"times"})]})]})]}),t&&b.length>0&&(0,h.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-600",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,h.jsx)("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,h.jsx)("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:w(t)})]}),(0,h.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[(0,h.jsx)("span",{className:"font-medium",children:"Upcoming:"}),(0,h.jsx)("ul",{className:"mt-1 space-y-0.5",children:b.map((e,t)=>(0,h.jsxs)("li",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400"}),e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]},t))})]})]})]})};var J=s(6423),$=s(356);const U=e=>{let{onSelect:t,onClose:s}=e;const{theme:l}=(0,E.D)(),{templates:n,categories:o,incrementUsage:i,getMostUsed:d}=(0,J.bg)(),[c,x]=(0,r.useState)("all"),[m,u]=(0,r.useState)(""),[g,p]=(0,r.useState)(null),[b,k]=(0,r.useState)({}),[v,f]=(0,r.useState)([]),j=(0,r.useMemo)(()=>{let e=n;if("all"!==c&&(e=e.filter(e=>e.category===c)),m){const t=m.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}return e},[n,c,m]),w=(0,r.useMemo)(()=>d(4),[d]),y=e=>{p(e),k((0,$.q7)(e.variables)),f([])};return(0,h.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,h.jsxs)("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-2xl ".concat("dark"===l?"bg-slate-800":"bg-white"," shadow-2xl flex flex-col"),children:[(0,h.jsx)("div",{className:"p-6 border-b ".concat("dark"===l?"border-slate-700":"border-slate-200"),children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[g?(0,h.jsxs)("button",{onClick:()=>{p(null),k({}),f([])},className:"flex items-center gap-2 text-slate-600 dark:text-slate-300 hover:text-slate-800 dark:hover:text-white",children:[(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Templates"]}):(0,h.jsx)("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Choose a Template"}),(0,h.jsx)("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:(0,h.jsx)("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,h.jsx)("div",{className:"flex-1 overflow-y-auto",children:g?(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,h.jsx)("span",{className:"text-4xl",children:g.icon}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100",children:g.name}),(0,h.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:g.description})]})]}),g.variables&&g.variables.length>0&&(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Fill in the details"}),(0,h.jsx)("div",{className:"space-y-4",children:g.variables.map(e=>(0,h.jsxs)("div",{children:[(0,h.jsxs)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:[e.name,e.required&&(0,h.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,h.jsx)("input",{type:"text",value:b[e.name]||"",onChange:t=>{return s=e.name,r=t.target.value,k(e=>(0,a.A)((0,a.A)({},e),{},{[s]:r})),void f([]);var s,r},placeholder:e.placeholder,className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===l?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-800 placeholder-slate-400"," focus:outline-none focus:ring-2 focus:ring-indigo-500")})]},e.name))})]}),v.length>0&&(0,h.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:v.map((e,t)=>(0,h.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:e},t))}),(0,h.jsxs)("div",{className:"p-4 rounded-xl ".concat("dark"===l?"bg-slate-700/50":"bg-slate-50"),children:[(0,h.jsx)("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Preview"}),(0,h.jsx)("p",{className:"font-medium text-slate-800 dark:text-slate-100",children:(0,$.Dv)(g.template.text,b)}),g.template.subtasks&&(0,h.jsxs)("div",{className:"mt-3 space-y-1",children:[g.template.subtasks.slice(0,3).map((e,t)=>(0,h.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[(0,h.jsx)("div",{className:"w-4 h-4 rounded border border-slate-300 dark:border-slate-500"}),(0,$.Dv)(e.text,b)]},t)),g.template.subtasks.length>3&&(0,h.jsxs)("p",{className:"text-xs text-slate-400",children:["+",g.template.subtasks.length-3," more subtasks"]})]})]})]}):(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsx)("div",{className:"mb-6",children:(0,h.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Search templates...",className:"w-full px-4 py-3 rounded-xl border ".concat("dark"===l?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-800 placeholder-slate-400"," focus:outline-none focus:ring-2 focus:ring-indigo-500")})}),(0,h.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6",children:[(0,h.jsx)("button",{onClick:()=>x("all"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat("all"===c?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"),children:"All"}),o.map(e=>{let{category:t,count:s}=e;return(0,h.jsxs)("button",{onClick:()=>x(t),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(c===t?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"),children:[J.sp[t].icon," ",J.sp[t].label]},t)})]}),!m&&"all"===c&&w.length>0&&(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-3",children:"Most Used"}),(0,h.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.map(e=>(0,h.jsxs)("button",{onClick:()=>y(e),className:"p-4 rounded-xl text-left transition-all hover:scale-105 ".concat("dark"===l?"bg-slate-700/50 hover:bg-slate-700":"bg-slate-50 hover:bg-slate-100"),children:[(0,h.jsx)("span",{className:"text-2xl mb-2 block",children:e.icon}),(0,h.jsx)("p",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm truncate",children:e.name})]},e.id))})]}),(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(e=>(0,h.jsx)("button",{onClick:()=>y(e),className:"p-4 rounded-xl text-left transition-all hover:scale-[1.02] ".concat("dark"===l?"bg-slate-700/50 hover:bg-slate-700 border border-slate-600":"bg-white hover:bg-slate-50 border border-slate-200"),children:(0,h.jsxs)("div",{className:"flex items-start gap-3",children:[(0,h.jsx)("span",{className:"text-2xl",children:e.icon}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("p",{className:"font-medium text-slate-800 dark:text-slate-100 truncate",children:e.name}),e.usageCount>0&&(0,h.jsxs)("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 px-2 py-0.5 rounded-full",children:[e.usageCount,"x"]})]}),(0,h.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",children:e.description}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,h.jsx)("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:J.sp[e.category].label}),e.template.subtasks&&(0,h.jsxs)("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:["\u2022 ",e.template.subtasks.length," subtasks"]})]})]})]})},e.id))}),0===j.length&&(0,h.jsx)("div",{className:"text-center py-12 text-slate-400",children:"No templates found"})]})}),g&&(0,h.jsxs)("div",{className:"p-4 border-t ".concat("dark"===l?"border-slate-700":"border-slate-200"," flex justify-end gap-3"),children:[(0,h.jsx)("button",{onClick:s,className:"px-4 py-2 rounded-lg ".concat("dark"===l?"bg-slate-700 hover:bg-slate-600 text-slate-300":"bg-slate-100 hover:bg-slate-200 text-slate-700"),children:"Cancel"}),(0,h.jsx)("button",{onClick:()=>{var e;if(!g)return;const a=(0,$.QV)(g.variables,b);if(!a.valid)return void f(a.missing.map(e=>"".concat(e," is required")));const r=(0,$.Dv)(g.template.text,b),l=g.template.description?(0,$.Dv)(g.template.description,b):"",n=null===(e=g.template.subtasks)||void 0===e?void 0:e.map((e,t)=>({id:"subtask-".concat(Date.now(),"-").concat(t),text:(0,$.Dv)(e.text,b),completed:e.completed}));i(g.id),t({text:r,description:l,priority:g.template.priority,category:g.template.category,subtasks:n||[],recurrencePattern:g.template.recurrencePattern,dueDate:g.template.dueDate}),s()},className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-medium",children:"Use Template"})]})]})})},G=["\u2b50","\ud83d\udccc","\ud83c\udfaf","\ud83d\udca1","\ud83d\udd25","\u2728","\ud83d\ude80","\ud83d\udcdd","\ud83d\udccb","\ud83d\udd16"],K=e=>{let{task:t,onClose:s,onSuccess:a}=e;const{theme:l}=(0,E.D)(),{createFromTask:n}=(0,J.bg)(),[o,i]=(0,r.useState)(t.text),[d,c]=(0,r.useState)(""),[x,m]=(0,r.useState)("custom"),[u,g]=(0,r.useState)("\u2b50"),[p,b]=(0,r.useState)("");return(0,h.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,h.jsxs)("div",{className:"w-full max-w-md rounded-2xl ".concat("dark"===l?"bg-slate-800":"bg-white"," shadow-2xl"),children:[(0,h.jsx)("div",{className:"p-6 border-b ".concat("dark"===l?"border-slate-700":"border-slate-200"),children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Save as Template"}),(0,h.jsx)("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:(0,h.jsx)("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,h.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.trim()?(n(t,o.trim(),d.trim(),x,u),null===a||void 0===a||a(),s()):b("Template name is required")},className:"p-6 space-y-4",children:[(0,h.jsxs)("div",{className:"p-4 rounded-xl ".concat("dark"===l?"bg-slate-700/50":"bg-slate-50"),children:[(0,h.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Creating template from:"}),(0,h.jsx)("p",{className:"font-medium text-slate-800 dark:text-slate-100",children:t.text}),t.subtasks&&t.subtasks.length>0&&(0,h.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:["Includes ",t.subtasks.length," subtasks"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Icon"}),(0,h.jsx)("div",{className:"flex flex-wrap gap-2",children:G.map(e=>(0,h.jsx)("button",{type:"button",onClick:()=>g(e),className:"w-10 h-10 text-xl rounded-lg transition-all ".concat(u===e?"bg-indigo-100 dark:bg-indigo-900/40 ring-2 ring-indigo-500":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600"),children:e},e))})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Template Name *"}),(0,h.jsx)("input",{type:"text",value:o,onChange:e=>{i(e.target.value),b("")},placeholder:"e.g., Weekly Review",className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===l?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-800 placeholder-slate-400"," focus:outline-none focus:ring-2 focus:ring-indigo-500 ").concat(p?"border-red-500":"")}),p&&(0,h.jsx)("p",{className:"text-sm text-red-500 mt-1",children:p})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Description"}),(0,h.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),placeholder:"What is this template for?",rows:2,className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===l?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-800 placeholder-slate-400"," focus:outline-none focus:ring-2 focus:ring-indigo-500")})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Category"}),(0,h.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["work","personal","health","finance","learning","custom"].map(e=>(0,h.jsxs)("button",{type:"button",onClick:()=>m(e),className:"px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat(x===e?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"),children:[J.sp[e].icon," ",J.sp[e].label]},e))})]}),(0,h.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,h.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 rounded-lg ".concat("dark"===l?"bg-slate-700 hover:bg-slate-600 text-slate-300":"bg-slate-100 hover:bg-slate-200 text-slate-700"),children:"Cancel"}),(0,h.jsx)("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-medium",children:"Create Template"})]})]})]})})},X=e=>{let{taskText:t,onApply:s,onClose:l,existingSubtasks:n=[]}=e;const[o,i]=(0,r.useState)([]),[d,c]=(0,r.useState)(""),[x,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{m(!0);const e=setTimeout(()=>{const e=O(t),s=function(e){return{breakdown:O(e),priority:z(e),category:P(e),time:V(e)}}(t),a=[...e.map((e,t)=>({id:"breakdown-".concat(t),text:e,selected:!n.includes(e)}))];s.time&&a.push({id:"time-suggestion",text:"".concat(s.time.reason," - ").concat(t),selected:!1}),i(a),m(!1)},300);return()=>clearTimeout(e)},[t,n]);const u=()=>{d.trim()&&(i(e=>[...e,{id:"custom-".concat(Date.now()),text:d.trim(),selected:!0}]),c(""))},g=o.filter(e=>e.selected).length,p=g===o.length&&o.length>0;return(0,h.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,h.jsx)("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:l}),(0,h.jsxs)("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[(0,h.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Break Down Task"}),(0,h.jsxs)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:['"',t.slice(0,50),t.length>50?"...":"",'"']})]}),(0,h.jsxs)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[x?(0,h.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,h.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),(0,h.jsx)("span",{className:"ml-3 text-slate-500 dark:text-slate-400",children:"Analyzing task..."})]}):0===o.length?(0,h.jsxs)("div",{className:"text-center py-8",children:[(0,h.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full mb-4",children:(0,h.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,h.jsx)("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"No suggestions available for this task type."}),(0,h.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Add custom subtasks below."})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Suggested subtasks"}),(0,h.jsx)("button",{onClick:()=>{i(e=>e.map(e=>(0,a.A)((0,a.A)({},e),{},{selected:!p})))},className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline",children:p?"Deselect all":"Select all"})]}),(0,h.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,h.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-colors ".concat(e.selected?"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800":"bg-slate-50 dark:bg-slate-700/50 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"),children:[(0,h.jsx)("input",{type:"checkbox",checked:e.selected,onChange:()=>{return t=e.id,void i(e=>e.map(e=>e.id===t?(0,a.A)((0,a.A)({},e),{},{selected:!e.selected}):e));var t},className:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),(0,h.jsx)("span",{className:"flex-1 text-sm ".concat(e.selected?"text-slate-900 dark:text-white":"text-slate-600 dark:text-slate-300"),children:e.text}),e.id.startsWith("breakdown")&&(0,h.jsx)("span",{className:"text-xs text-indigo-500 dark:text-indigo-400 bg-indigo-100 dark:bg-indigo-900/50 px-2 py-0.5 rounded-full",children:"AI"})]},e.id))})]}),(0,h.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Add custom subtask"}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),onKeyDown:e=>"Enter"===e.key&&u(),placeholder:"Enter subtask...",className:"flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,h.jsx)("button",{onClick:u,disabled:!d.trim(),className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add"})]})]})]}),(0,h.jsxs)("div",{className:"px-6 py-4 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[(0,h.jsxs)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[g," subtask",1!==g?"s":""," selected"]}),(0,h.jsxs)("div",{className:"flex gap-3",children:[(0,h.jsx)("button",{onClick:l,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),(0,h.jsx)("button",{onClick:()=>{const e=o.filter(e=>e.selected).map(e=>e.text);s(e)},disabled:0===g,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Apply Subtasks"})]})]})]})]})},Q=1e3,Z=e=>{let{onAdd:t,showDescription:s=!0}=e;const[a,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),[c,x]=(0,r.useState)("medium"),[u,g]=(0,r.useState)(b[0]),[p,v]=(0,r.useState)(""),[f,j]=(0,r.useState)(!1),[L,A]=(0,r.useState)(null),[W,B]=(0,r.useState)(!1),[T,z]=(0,r.useState)(!1),[P,V]=(0,r.useState)([]),[E,H]=(0,r.useState)(!0),I=(0,r.useRef)(null),R=(()=>{const[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),l=()=>{t(!1),a(null)};return{isOpen:e,taskText:(null===s||void 0===s?void 0:s.text)||"",open:(e,s)=>{a({text:e,onApply:s}),t(!0)},close:l,handleApply:e=>{s&&s.onApply(e),l()}}})(),_=(q=n,[/\btomorrow\b/i,/\btoday\b/i,/\bnext\s+\w+\b/i,/\bin\s+\d+\s+(days?|weeks?)\b/i,/\bby\s+\w+\b/i,/\bon\s+(mon|tue|wed|thu|fri|sat|sun)/i,/#\w+/,/!{1,3}/].some(e=>e.test(q)));var q;const F=n.trim().length>2?function(e){let t,s,a,r=e.trim();const l=/\bby\s+(.+?)(?=\s+(?:#|!|priority|$))/i,n=r.match(l);if(n){const e=S(n[1]);e&&(t=M(e),r=r.replace(l,"").trim())}const o=/\bon\s+(\w+)(?=\s|$)/i,i=r.match(o);if(i){const e=S(i[1]);e&&(t=M(e),r=r.replace(o,"").trim())}for(const{pattern:x,resolver:m}of y)r.match(x)&&(t=M(m()),r=r.replace(x,"").trim());const d=r.match(/\bin\s+(\d+)\s+days?\b/i);if(d){const e=parseInt(d[1],10);t=M(D(new Date,e)),r=r.replace(/\bin\s+\d+\s+days?\b/i,"").trim()}const c=r.match(/\bin\s+(\d+)\s+weeks?\b/i);if(c){const e=parseInt(c[1],10);t=M(D(new Date,7*e)),r=r.replace(/\bin\s+\d+\s+weeks?\b/i,"").trim()}for(const{pattern:x,priority:m}of N)x.test(r)&&(s=m,r=r.replace(x,"").trim());for(const{pattern:x,category:m}of C)x.test(r)&&(a=m,r=r.replace(x,"").trim());return r=r.replace(/\s+/g," ").trim(),{text:r,dueDate:t,priority:s,category:a}}(n):null,J=n.trim().length>3&&O(n).length>0,$=()=>{var e;if(""===n.trim())return;const s=(null===F||void 0===F?void 0:F.priority)||c,a=(null===F||void 0===F?void 0:F.category)||u,r=(null===F||void 0===F?void 0:F.dueDate)||p,l=(null===F||void 0===F?void 0:F.text)||n.trim();t({text:l,description:i.trim(),priority:s,category:a,dueDate:r,isRecurring:f&&!!L,recurrencePattern:f&&L?L:void 0,subtasks:P.length>0?P:void 0}),K(),null===(e=I.current)||void 0===e||e.focus()},G=(0,r.useCallback)(e=>{const t=e.map((e,t)=>({id:"st-".concat(Date.now(),"-").concat(t),text:e,completed:!1}));V(e=>[...e,...t])},[]),K=()=>{o(""),d(""),x("medium"),g(b[0]),v(""),j(!1),A(null),B(!1),V([])},Z=i.length,ee=Z>800,te=Z>=Q;return(0,h.jsxs)(h.Fragment,{children:[!a&&(0,h.jsxs)("div",{className:"flex gap-3",children:[(0,h.jsxs)("button",{onClick:()=>{l(!0),setTimeout(()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.focus()},100)},className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-4 rounded-2xl font-semibold transition-all hover:shadow-lg hover:shadow-indigo-200 dark:hover:shadow-indigo-900/50 active:scale-[0.98] flex items-center justify-center gap-3 shadow-md",children:[(0,h.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,h.jsx)("span",{className:"text-lg",children:"Add New Task"})]}),(0,h.jsxs)("button",{"data-action":"open-templates",onClick:()=>z(!0),className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white px-5 py-4 rounded-2xl font-semibold transition-all hover:shadow-lg hover:shadow-emerald-200 dark:hover:shadow-emerald-900/50 active:scale-[0.98] flex items-center justify-center gap-2 shadow-md",title:"Choose from templates - Meeting prep, Bug reports, and more!",children:[(0,h.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),(0,h.jsx)("span",{className:"text-lg",children:"Templates"})]})]}),a&&(0,h.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 overflow-hidden",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-b border-slate-100 dark:border-slate-700",children:[(0,h.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[(0,h.jsx)("svg",{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Task"]}),(0,h.jsx)("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Collapse",children:(0,h.jsx)("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,h.jsx)("div",{className:"p-6 space-y-4",children:(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsxs)("div",{className:"flex-1 relative",children:[_&&(0,h.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 z-10",children:(0,h.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-indigo-100 dark:bg-indigo-900/50 rounded-full",title:"Smart input detected",children:(0,h.jsx)("svg",{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,h.jsx)("path",{d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"})})})}),(0,h.jsx)("input",{ref:I,type:"text",value:n,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),$())},placeholder:"What needs to be done? (try 'Buy milk tomorrow #shopping high priority')",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none transition-all text-slate-700 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 text-lg bg-white dark:bg-slate-700 ".concat(_?"pl-12":"")})]}),(0,h.jsx)("button",{onClick:$,disabled:!n.trim(),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all hover:shadow-lg hover:shadow-indigo-200 dark:hover:shadow-indigo-900/50 active:scale-95 flex items-center justify-center min-w-[80px] shadow-md disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",children:"Add"})]}),F&&(F.dueDate||F.priority||F.category)&&(0,h.jsxs)("div",{className:"flex flex-wrap gap-2 px-1",children:[F.dueDate&&(0,h.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:[(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Due: ",F.dueDate]}),F.priority&&(0,h.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ".concat("high"===F.priority?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"medium"===F.priority?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300"),children:[(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),F.priority," priority"]}),F.category&&(0,h.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full",children:[(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"#",F.category]})]}),J&&(0,h.jsxs)("button",{onClick:()=>{const e=(null===F||void 0===F?void 0:F.text)||n.trim();R.open(e,G)},className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 rounded-lg text-sm text-amber-700 dark:text-amber-300 hover:from-amber-100 hover:to-orange-100 dark:hover:from-amber-900/30 dark:hover:to-orange-900/30 transition-colors",children:[(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"AI suggests breaking this into subtasks",(0,h.jsx)("span",{className:"text-xs bg-amber-200 dark:bg-amber-800 px-1.5 py-0.5 rounded",children:"Click to view"})]}),E&&0===n.length&&(0,h.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800",children:[(0,h.jsx)("svg",{className:"w-5 h-5 text-indigo-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-300",children:"Smart Input Tips"}),(0,h.jsxs)("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1",children:["Type naturally! Try: ",(0,h.jsx)("span",{className:"font-mono bg-white dark:bg-slate-800 px-1 rounded",children:'"Meeting tomorrow #work high priority"'})]})]}),(0,h.jsx)("button",{onClick:()=>H(!1),className:"text-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-200",children:(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s&&(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-3 pt-2",children:[(0,h.jsx)("div",{className:"h-0.5 flex-1 transition-colors duration-300 ".concat(i?"bg-gradient-to-r from-indigo-500 to-purple-500":"bg-slate-200 dark:bg-slate-600")}),(0,h.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider transition-colors duration-300 ".concat(i?"text-indigo-600 dark:text-indigo-400":"text-slate-400 dark:text-slate-500"),children:"Optional Details"}),(0,h.jsx)("div",{className:"h-0.5 flex-1 transition-colors duration-300 ".concat(i?"bg-gradient-to-l from-indigo-500 to-purple-500":"bg-slate-200 dark:bg-slate-600")})]}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("textarea",{value:i,onChange:e=>d(e.target.value.slice(0,Q)),placeholder:"Add context, notes, or steps to complete this task... \ud83d\udca1 Tips:\n\u2022 Break down complex tasks into steps\n\u2022 Add links, reference materials\n\u2022 Include acceptance criteria",rows:i?4:3,className:"w-full px-4 py-3 rounded-xl border transition-all text-slate-600 dark:text-slate-300 placeholder-slate-400 dark:placeholder-slate-500 resize-none bg-slate-50 dark:bg-slate-700/50 focus:bg-white dark:focus:bg-slate-700 ".concat(te?"border-rose-300 dark:border-rose-500 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 dark:focus:ring-rose-900/50":ee?"border-amber-300 dark:border-amber-500 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-900/50":"border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50"," outline-none")}),Z>0&&(0,h.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs font-medium transition-colors ".concat(te?"text-rose-500":ee?"text-amber-500":"text-slate-400 dark:text-slate-500"),children:[Z,"/",Q]})]}),i&&(0,h.jsx)("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 pt-1",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsxs)("span",{className:"flex items-center gap-1",children:[(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,m.rj)(i)," words"]}),(0,h.jsxs)("span",{className:"flex items-center gap-1",children:[(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,m.qo)(i)]})]})})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 pt-3 border-t border-slate-50 dark:border-slate-700 mt-2",children:[(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsx)("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Priority"}),(0,h.jsx)("div",{className:"flex gap-2",children:["low","medium","high"].map(e=>(0,h.jsx)("button",{onClick:()=>x(e),className:"px-3 py-2 rounded-lg text-sm font-medium transition-all flex-1 ".concat(c===e?"".concat(k.B[e].badge," shadow-sm"):"bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-600"),children:k.B[e].label},e))})]}),(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsx)("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Category"}),(0,h.jsx)("select",{value:u,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none bg-white dark:bg-slate-700",children:b.map(e=>(0,h.jsx)("option",{value:e,children:e},e))})]}),(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsx)("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Due Date"}),(0,h.jsx)("input",{type:"date",value:p,onChange:e=>v(e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none bg-white dark:bg-slate-700"})]})]}),(0,h.jsxs)("div",{className:"pt-3 border-t border-slate-50 dark:border-slate-700 mt-2",children:[(0,h.jsxs)("button",{onClick:()=>{f?(j(!1),B(!1),A(null)):(j(!0),B(!0))},className:"w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all ".concat(f?"bg-indigo-100 dark:bg-indigo-900/40 border-2 border-indigo-400 dark:border-indigo-500":"bg-slate-50 dark:bg-slate-700/50 border-2 border-dashed border-slate-200 dark:border-slate-600 hover:border-indigo-300 dark:hover:border-indigo-500"),children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"p-2 rounded-lg ".concat(f?"bg-indigo-500 text-white":"bg-slate-200 dark:bg-slate-600 text-slate-500 dark:text-slate-400"),children:(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,h.jsxs)("div",{className:"text-left",children:[(0,h.jsx)("span",{className:"font-semibold ".concat(f?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-300"),children:"Make this a recurring task"}),f&&L&&(0,h.jsx)("p",{className:"text-sm text-indigo-600 dark:text-indigo-400 mt-0.5",children:w(L)}),!f&&(0,h.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Daily, weekly, monthly, or custom schedule"})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2 ".concat(f?"text-indigo-600 dark:text-indigo-400":"text-slate-400"),children:[f&&(0,h.jsx)("button",{onClick:e=>{e.stopPropagation(),B(!W)},className:"px-3 py-1 text-sm font-medium rounded-lg bg-indigo-200 dark:bg-indigo-800 hover:bg-indigo-300 dark:hover:bg-indigo-700 transition-colors",children:W?"Hide":"Edit"}),(0,h.jsx)("div",{className:"w-10 h-6 rounded-full transition-all ".concat(f?"bg-indigo-500":"bg-slate-300 dark:bg-slate-600"),children:(0,h.jsx)("div",{className:"w-5 h-5 rounded-full bg-white shadow-md transform transition-transform mt-0.5 ".concat(f?"translate-x-4.5 ml-0.5":"translate-x-0.5")})})]})]}),f&&W&&(0,h.jsx)("div",{className:"mt-3 animate-in slide-in-from-top-2 fade-in duration-200",children:(0,h.jsx)(Y,{value:L,onChange:e=>A(e),startDate:p?new Date(p):new Date})})]}),P.length>0&&(0,h.jsxs)("div",{className:"pt-3 border-t border-slate-50 dark:border-slate-700 mt-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsxs)("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:["Subtasks (",P.filter(e=>e.completed).length,"/",P.length,")"]}),(0,h.jsx)("button",{onClick:()=>V([]),className:"text-xs text-slate-400 hover:text-red-500 transition-colors",children:"Clear"})]}),(0,h.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:P.map((e,t)=>(0,h.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[(0,h.jsx)("div",{className:"w-4 h-4 rounded border flex-shrink-0 flex items-center justify-center ".concat(e.completed?"bg-indigo-500 border-indigo-500 text-white":"border-slate-300 dark:border-slate-500"),children:e.completed&&(0,h.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,h.jsx)("span",{className:e.completed?"line-through text-slate-400":"",children:e.text})]},e.id))})]}),s&&!n&&(0,h.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-400 dark:text-slate-500 pt-2 border-t border-slate-50 dark:border-slate-700",children:[(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,h.jsxs)("span",{children:[(0,h.jsx)("strong",{children:"Pro tip:"})," Use Shift+Enter to add a new line, Enter to submit task"]})]}),a&&(0,h.jsx)("div",{className:"pt-2 border-t border-slate-50 dark:border-slate-700",children:(0,h.jsxs)("button",{onClick:()=>z(!0),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),"Choose from templates"]})})]})})]}),T&&(0,h.jsx)(U,{onSelect:e=>{l(!0),e.text&&o(e.text),e.description&&d(e.description),e.priority&&x(e.priority),e.category&&b.includes(e.category)&&g(e.category),e.subtasks&&V(e.subtasks),e.recurrencePattern&&(A(e.recurrencePattern),j(!0)),e.dueDate&&v(e.dueDate),z(!1),setTimeout(()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.focus()},100)},onClose:()=>z(!1)}),R.isOpen&&(0,h.jsx)(X,{taskText:R.taskText,onApply:R.handleApply,onClose:R.close,existingSubtasks:P.map(e=>e.text)})]})};const ee=e=>{let{tasks:t,onToggle:s,onStatusChange:a,onDelete:r,onViewDetails:l,title:n,icon:o,colorClass:i,bgColorClass:d,borderColorClass:c,emptyMessage:x}=e;return 0===t.length&&x?null:(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,h.jsx)("span",{className:"text-2xl",children:o}),(0,h.jsx)("h3",{className:"text-lg font-bold ".concat(i),children:n}),(0,h.jsx)("span",{className:"px-2 py-1 rounded-lg ".concat(d," ").concat(i," text-xs font-bold"),children:t.length})]}),(0,h.jsx)("div",{className:"space-y-2 pl-2 border-l-4 ".concat(c),children:0===t.length?(0,h.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400 italic py-2 pl-4",children:x}):t.map(e=>(0,h.jsx)(p,{task:e,onToggle:s,onStatusChange:a,onDelete:r,onViewDetails:l,showExpandButton:!0},e.id))})]})},te=e=>{let{tasks:t,onToggle:s,onStatusChange:a,onDelete:r,onViewDetails:l,showCompleted:n=!1,showInProgress:o=!1}=e;const i=e=>e.status?e.status:e.completed?"completed":"pending",d=t.filter(e=>"high"===e.priority&&!i(e).includes("completed")),c=t.filter(e=>"medium"===e.priority&&!i(e).includes("completed")),x=t.filter(e=>"low"===e.priority&&!i(e).includes("completed"));if(n){const e=t.filter(e=>"completed"===i(e));return 0===e.length?(0,h.jsxs)("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[(0,h.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-slate-300 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,h.jsx)("p",{className:"text-lg font-medium",children:"No completed tasks yet"}),(0,h.jsx)("p",{className:"text-sm mt-1",children:"Complete some tasks to see them here"})]}):(0,h.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,h.jsx)(p,{task:e,onToggle:s,onStatusChange:a,onDelete:r,onViewDetails:l,showExpandButton:!1},e.id))})}if(o){const e=t.filter(e=>"in_progress"===i(e));return 0===e.length?(0,h.jsxs)("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[(0,h.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-blue-300 dark:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,h.jsx)("p",{className:"text-lg font-medium",children:"No tasks in progress"}),(0,h.jsx)("p",{className:"text-sm mt-1",children:"Start working on a task to see it here"})]}):(0,h.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,h.jsx)(p,{task:e,onToggle:s,onStatusChange:a,onDelete:r,onViewDetails:l,showExpandButton:!0},e.id))})}return 0===d.length+c.length+x.length?(0,h.jsxs)("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[(0,h.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-emerald-300 dark:text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,h.jsx)("p",{className:"text-lg font-medium",children:"All caught up!"}),(0,h.jsx)("p",{className:"text-sm mt-1",children:"No pending tasks"})]}):(0,h.jsxs)("div",{children:[(0,h.jsx)(ee,{tasks:d,onToggle:s,onStatusChange:a,onDelete:r,onViewDetails:l,title:"High Priority",icon:"\ud83d\udd25",colorClass:"text-rose-600 dark:text-rose-400",bgColorClass:"bg-rose-100 dark:bg-rose-900/30",borderColorClass:"border-rose-400",emptyMessage:"No high priority tasks"}),(0,h.jsx)(ee,{tasks:c,onToggle:s,onStatusChange:a,onDelete:r,onViewDetails:l,title:"Medium Priority",icon:"\u26a1",colorClass:"text-amber-600 dark:text-amber-400",bgColorClass:"bg-amber-100 dark:bg-amber-900/30",borderColorClass:"border-amber-400",emptyMessage:"No medium priority tasks"}),(0,h.jsx)(ee,{tasks:x,onToggle:s,onStatusChange:a,onDelete:r,onViewDetails:l,title:"Low Priority",icon:"\ud83d\udccb",colorClass:"text-slate-600 dark:text-slate-400",bgColorClass:"bg-slate-100 dark:bg-slate-700",borderColorClass:"border-slate-400",emptyMessage:"No low priority tasks"})]})},se=e=>{let{subtasks:t,onToggle:s,onAdd:a,onDelete:l,onEdit:n,isEditable:o=!0}=e;const[i,d]=(0,r.useState)(""),[c,x]=(0,r.useState)(null),[m,u]=(0,r.useState)(""),g=t.filter(e=>e.completed).length,p=t.length>0?g/t.length*100:0,b=e=>{x(e.id),u(e.text)},k=()=>{c&&n&&m.trim()&&n(c,m.trim()),x(null),u("")};return(0,h.jsxs)("div",{className:"space-y-3",children:[t.length>0&&(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:(0,h.jsx)("div",{className:"h-full bg-gradient-to-r from-emerald-400 to-emerald-600 transition-all duration-300",style:{width:"".concat(p,"%")}})}),(0,h.jsxs)("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[g,"/",t.length]})]}),(0,h.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,h.jsxs)("div",{className:"group flex items-start gap-3 p-3 rounded-lg transition-all ".concat(e.completed?"bg-emerald-50 dark:bg-emerald-900/20":"bg-slate-50 dark:bg-slate-800/50"),children:[(0,h.jsx)("button",{onClick:()=>s(e.id),className:"flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all ".concat(e.completed?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-600 hover:border-emerald-500"),children:e.completed&&(0,h.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),c===e.id?(0,h.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),onBlur:k,onKeyDown:e=>{"Enter"===e.key&&k(),"Escape"===e.key&&(x(null),u(""))},className:"flex-1 px-2 py-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 outline-none focus:border-indigo-500",autoFocus:!0}):(0,h.jsx)("span",{className:"flex-1 ".concat(e.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-700 dark:text-slate-300"),onDoubleClick:()=>o&&b(e),children:e.text}),o&&c!==e.id&&(0,h.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n&&(0,h.jsx)("button",{onClick:()=>b(e),className:"p-1 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Edit subtask",children:(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,h.jsx)("button",{onClick:()=>l(e.id),className:"p-1 text-slate-400 hover:text-rose-600 dark:hover:text-rose-400 transition-colors",title:"Delete subtask",children:(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id))}),o&&(0,h.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&(a(i.trim()),d(""))},className:"flex gap-2",children:[(0,h.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"Add a subtask...",className:"flex-1 px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 outline-none focus:border-indigo-500 text-sm"}),(0,h.jsx)("button",{type:"submit",disabled:!i.trim(),className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm",children:"Add"})]})]})},ae=e=>{let{id:t,children:s,label:a,count:r,colorClass:l,icon:n}=e;const{isOver:o,setNodeRef:i}=(0,d.zM)({id:t,data:{status:t,type:"zone"}}),c={pending:(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"})}),in_progress:(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),completed:(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})};return(0,h.jsxs)("div",{ref:i,className:"\n        flex flex-col h-full min-h-[400px] max-h-[calc(100vh-280px)] rounded-xl overflow-hidden\n        transition-all duration-200\n        ".concat(o?"bg-slate-100 dark:bg-slate-700/50 ring-2 ring-indigo-400":"bg-slate-50 dark:bg-slate-800/50","\n      "),children:[(0,h.jsx)("div",{className:"flex-shrink-0 px-3 py-2.5 border-b ".concat(l),children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"opacity-60",children:n||c[t]}),(0,h.jsx)("h3",{className:"font-semibold text-sm text-slate-700 dark:text-slate-200",children:a})]}),(0,h.jsx)("span",{className:"\n            px-2 py-0.5 rounded-full text-xs font-bold\n            ".concat(o?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300","\n          "),children:r})]})}),(0,h.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:s})]})},re=e=>{let{pattern:t,compact:s=!1,className:a=""}=e;const r=w(t);return s?(0,h.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs text-indigo-600 dark:text-indigo-400 ".concat(a),title:r,children:[(0,h.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,h.jsx)("span",{className:"hidden sm:inline",children:r})]}):(0,h.jsxs)("span",{className:"\n        inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium\n        bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300\n        ".concat(a,"\n      "),title:r,children:[(0,h.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r]})},le=e=>{let{className:t=""}=e;return(0,h.jsxs)("svg",{className:"w-4 h-4 text-indigo-500 dark:text-indigo-400 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,h.jsx)("title",{children:"Recurring task"}),(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]})},ne={low:"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300",medium:"bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300",high:"bg-rose-100 dark:bg-rose-900/40 text-rose-700 dark:text-rose-300"},oe={low:"bg-emerald-500",medium:"bg-amber-500",high:"bg-rose-500"},ie=e=>{let{task:t,onToggle:s,onDelete:l,onViewDetails:n}=e;const{attributes:o,listeners:i,setNodeRef:x,transform:u,isDragging:g}=(0,d.PM)({id:t.id.toString(),data:{task:t,type:"task"}}),[p,b]=(0,r.useState)(0),[k,v]=(0,r.useState)(null),f=(0,r.useRef)(null),j=(0,r.useRef)(!1),w=u?{transform:c.Ks.Translate.toString(u),zIndex:g?1e3:void 0}:void 0,y=t.completed||"completed"===(0,m.g$)(t);return(0,h.jsxs)("div",{className:"relative overflow-hidden rounded-lg",children:[(0,h.jsxs)("div",{className:"\n          absolute inset-0 flex items-center justify-between px-4 transition-opacity duration-200\n          ".concat("complete"===k?"bg-emerald-500":"delete"===k?"bg-rose-500":"bg-transparent","\n          ").concat(Math.abs(p)>40?"opacity-100":"opacity-0","\n        "),children:[(0,h.jsxs)("div",{className:"flex items-center text-white transition-all duration-200 ".concat(p>0?"opacity-100":"opacity-0"),children:[(0,h.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,h.jsx)("span",{className:"ml-2 font-medium",children:"Complete"})]}),(0,h.jsxs)("div",{className:"flex items-center text-white transition-all duration-200 ".concat(p<0?"opacity-100":"opacity-0"),children:[(0,h.jsx)("span",{className:"mr-2 font-medium",children:"Delete"}),(0,h.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})]}),(0,h.jsxs)("div",(0,a.A)((0,a.A)((0,a.A)({ref:x,style:(0,a.A)((0,a.A)({},w),{},{transform:null!==w&&void 0!==w&&w.transform?"".concat(w.transform," translateX(").concat(p,"px)"):"translateX(".concat(p,"px)")})},o),i),{},{onTouchStart:e=>{const t=e.touches[0];f.current={x:t.clientX,y:t.clientY},j.current=!1},onTouchMove:e=>{if(!f.current)return;const t=e.touches[0],s=t.clientX-f.current.x,a=Math.abs(t.clientY-f.current.y);Math.abs(s)>a&&Math.abs(s)>10&&(j.current=!0,b(s),v(s>80?"complete":s<-80?"delete":null))},onTouchEnd:()=>{"complete"===k?s(t.id):"delete"===k&&l(t.id),b(0),v(null),f.current=null,j.current=!1},onClick:()=>{g||j.current||n(t)},className:"\n          group bg-white dark:bg-slate-700 rounded-lg shadow-sm border\n          border-slate-200 dark:border-slate-600\n          hover:shadow-md hover:border-slate-300 dark:hover:border-slate-500\n          transition-all duration-200 select-none touch-pan-y\n          ".concat(g?"opacity-50 shadow-lg ring-2 ring-indigo-400 cursor-grabbing":"cursor-pointer hover:cursor-grab","\n          ").concat(y?"opacity-70":"","\n        "),children:[(0,h.jsx)("div",{className:"h-1 rounded-t-lg ".concat(oe[t.priority])}),(0,h.jsx)("div",{className:"p-3 pt-2",children:(0,h.jsxs)("div",{className:"flex items-start gap-2",children:[(0,h.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),s(t.id)},className:"\n              flex-shrink-0 w-5 h-5 rounded border-2 mt-0.5\n              flex items-center justify-center transition-colors cursor-pointer\n              ".concat(y?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 hover:border-indigo-400","\n            "),children:y&&(0,h.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("p",{className:"\n                text-sm font-medium leading-snug line-clamp-2\n                ".concat(y?"text-slate-400 dark:text-slate-500 line-through":"text-slate-800 dark:text-slate-100","\n              "),children:t.text}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[t.isRecurring&&t.recurrencePattern&&(0,h.jsx)(le,{className:"w-3.5 h-3.5"}),(0,h.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs font-medium ".concat(ne[t.priority]),children:t.priority}),t.dueDate&&(0,h.jsxs)("span",{className:"text-xs text-slate-400 dark:text-slate-500 flex items-center gap-1",children:[(0,h.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(t.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),t.category&&(0,h.jsx)("span",{className:"text-xs text-indigo-500 dark:text-indigo-400",children:t.category})]})]}),(0,h.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),l(t.id)},className:" flex-shrink-0 p-1 rounded opacity-0 group-hover:opacity-100 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all cursor-pointer ",children:(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]}))]})},de=e=>{let{tasks:t,onToggle:s,onStatusChange:a,onDelete:l,onViewDetails:n}=e;const{theme:o}=(0,E.D)(),[i,c]=r.useState(null),x=(0,d.FR)((0,d.MS)(d.AN,{activationConstraint:{distance:8}}),(0,d.MS)(d.uN)),u=t.filter(e=>"pending"===(0,m.g$)(e)),g=t.filter(e=>"in_progress"===(0,m.g$)(e)),p=t.filter(e=>"completed"===(0,m.g$)(e)),b=i?t.find(e=>e.id.toString()===i):null;return(0,h.jsxs)(d.Mp,{sensors:x,collisionDetection:d.fp,onDragStart:e=>{c(e.active.id)},onDragEnd:e=>{var t,s;const{active:r,over:l}=e;if(l){if("zone"===(null===(t=l.data)||void 0===t||null===(s=t.current)||void 0===s?void 0:s.type)){const e=l.data.current.status,t=String(r.id);t&&a(t,e)}c(null)}else c(null)},children:[(0,h.jsxs)("div",{className:"flex gap-4 h-full overflow-x-auto pb-4",children:[(0,h.jsx)("div",{className:"flex-1 min-w-[280px] max-w-[350px]",children:(0,h.jsx)(ae,{id:"pending",status:"pending",label:"To Do",count:u.length,colorClass:"border-amber-200 dark:border-amber-700 bg-amber-50 dark:bg-amber-900/30",children:0===u.length?(0,h.jsx)("div",{className:"text-center py-8 text-slate-400 dark:text-slate-500 text-sm",children:"No pending tasks"}):u.map(e=>(0,h.jsx)(ie,{task:e,onToggle:s,onDelete:l,onViewDetails:n},e.id))})}),(0,h.jsx)("div",{className:"flex-1 min-w-[280px] max-w-[350px]",children:(0,h.jsx)(ae,{id:"in_progress",status:"in_progress",label:"In Progress",count:g.length,colorClass:"border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/30",children:0===g.length?(0,h.jsx)("div",{className:"text-center py-8 text-slate-400 dark:text-slate-500 text-sm",children:"No tasks in progress"}):g.map(e=>(0,h.jsx)(ie,{task:e,onToggle:s,onDelete:l,onViewDetails:n},e.id))})}),(0,h.jsx)("div",{className:"flex-1 min-w-[280px] max-w-[350px]",children:(0,h.jsx)(ae,{id:"completed",status:"completed",label:"Done",count:p.length,colorClass:"border-emerald-200 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/30",children:0===p.length?(0,h.jsx)("div",{className:"text-center py-8 text-slate-400 dark:text-slate-500 text-sm",children:"No completed tasks"}):p.map(e=>(0,h.jsx)(ie,{task:e,onToggle:s,onDelete:l,onViewDetails:n},e.id))})})]}),(0,h.jsx)(d.Hd,{children:b&&(0,h.jsx)("div",{className:"opacity-90 rotate-3 shadow-2xl",children:(0,h.jsxs)("div",{className:"p-3 rounded-lg border-2 border-indigo-400 ".concat("dark"===o?"bg-slate-700":"bg-white"),children:[(0,h.jsx)("p",{className:"text-sm font-medium ".concat("dark"===o?"text-slate-200":"text-slate-800"),children:b.text}),(0,h.jsxs)("p",{className:"text-xs mt-1 ".concat("dark"===o?"text-slate-400":"text-slate-500"),children:[b.priority," priority"]})]})})})]})};const ce=()=>"Notification"in window,xe=e=>{localStorage.setItem("scheduledNotifications",JSON.stringify(e))},me=()=>{const e=localStorage.getItem("scheduledNotifications");if(e)try{return JSON.parse(e)}catch(t){return console.error("Failed to parse scheduled notifications:",t),[]}return[]};function ue(e){let{task:t,onClose:s,onToggleComplete:l,onDelete:n,onEdit:o}=e;const{theme:i}=(0,E.D)(),[d,c]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[v,f]=(0,r.useState)({text:t.text,description:t.description||"",priority:t.priority,category:t.category||"",dueDate:t.dueDate||"",subtasks:t.subtasks||[],notificationSettings:t.notificationSettings||{enabled:!1,timing:[15,60,1440],type:"browser"},isRecurring:t.isRecurring||!1,recurrencePattern:t.recurrencePattern||void 0}),j=k.B[t.priority],w=(()=>{if(!t.dueDate)return{label:"No deadline",color:"text-slate-400",emoji:"\u23f1\ufe0f"};const e=(0,x.i4)(t.dueDate);return e<0&&!t.completed?{label:"Overdue by ".concat(Math.abs(e)," day").concat(Math.abs(e)>1?"s":""),color:"text-rose-600 dark:text-rose-400 font-bold",emoji:"\u26a0\ufe0f"}:0===e?{label:"Due today",color:"text-amber-600 dark:text-amber-400 font-bold",emoji:"\ud83d\udcc5"}:1===e?{label:"Due tomorrow",color:"text-emerald-600 dark:text-emerald-400",emoji:"\ud83d\udcc5"}:{label:"Due in ".concat(e," days"),color:"text-slate-500 dark:text-slate-400",emoji:"\ud83d\udcc5"}})(),y=(0,m.qo)(t.description);r.useEffect(()=>{const e=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),r.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const N="high"===t.priority&&w.label.includes("Due today");return(0,h.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&s()},children:[(0,h.jsx)("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity duration-300"}),(0,h.jsxs)("div",{className:"relative w-full max-w-2xl transform transition-all duration-300 ease-out animate-in fade-in zoom-in-95 ".concat("dark"===i?"bg-slate-800 text-slate-100":"bg-white text-slate-900"," rounded-3xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col"),children:[(0,h.jsxs)("div",{className:"relative px-8 py-6 ".concat(N?"bg-gradient-to-r from-rose-500 to-orange-500":j.color.replace("bg-","bg-gradient-to-r from-")," text-white"),children:[(0,h.jsx)("div",{className:"absolute top-0 left-0 w-24 h-24 bg-white/10 rounded-full -translate-x-12 -translate-y-12 blur-2xl"}),(0,h.jsx)("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-white/10 rounded-full translate-x-16 translate-y-16 blur-2xl"}),(0,h.jsxs)("div",{className:"relative z-10 flex justify-between items-start",children:[(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,h.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat(t.completed?"bg-white/30":"bg-white/20"," backdrop-blur-sm"),children:t.completed?"Completed":"In Progress"}),N&&(0,h.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-white text-rose-600 animate-pulse",children:"Urgent!"})]}),d?(0,h.jsx)("input",{type:"text",value:v.text,onChange:e=>f((0,a.A)((0,a.A)({},v),{},{text:e.target.value})),className:"text-3xl font-bold leading-tight mb-2 w-full bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1 text-white placeholder-white/60 outline-none",placeholder:"Task title",autoFocus:!0}):(0,h.jsx)("h2",{className:"text-3xl font-bold leading-tight mb-2",children:t.text}),(0,h.jsx)("p",{className:"text-white/80 text-sm",children:(0,x.H6)(t.createdAt)})]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[!d&&o&&(0,h.jsx)("button",{onClick:()=>c(!0),className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Edit task",children:(0,h.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,h.jsx)("button",{onClick:s,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Close modal",children:(0,h.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),(0,h.jsx)("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:d?(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Description"}),(0,h.jsx)("textarea",{value:v.description,onChange:e=>f((0,a.A)((0,a.A)({},v),{},{description:e.target.value})),className:"w-full p-4 rounded-xl border-2 resize-none h-40 ".concat("dark"===i?"bg-slate-900 border-slate-700 text-slate-100":"bg-white border-slate-200 text-slate-900"," focus:border-indigo-500 outline-none"),placeholder:"Add a description..."})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Priority"}),(0,h.jsx)("div",{className:"flex gap-2",children:["low","medium","high"].map(e=>{const t=k.B[e];return(0,h.jsx)("button",{onClick:()=>f((0,a.A)((0,a.A)({},v),{},{priority:e})),className:"flex-1 px-4 py-3 rounded-xl font-medium transition-all ".concat(v.priority===e?"".concat(t.color," text-white shadow-lg"):"dark"===i?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:t.label},e)})})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Category"}),(0,h.jsxs)("select",{value:v.category,onChange:e=>f((0,a.A)((0,a.A)({},v),{},{category:e.target.value})),className:"w-full p-4 rounded-xl border-2 ".concat("dark"===i?"bg-slate-900 border-slate-700 text-slate-100":"bg-white border-slate-200 text-slate-900"," focus:border-indigo-500 outline-none"),children:[(0,h.jsx)("option",{value:"",children:"Select category"}),b.map(e=>(0,h.jsx)("option",{value:e,children:e},e))]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Due Date"}),(0,h.jsx)("input",{type:"date",value:v.dueDate,onChange:e=>f((0,a.A)((0,a.A)({},v),{},{dueDate:e.target.value})),className:"w-full p-4 rounded-xl border-2 ".concat("dark"===i?"bg-slate-900 border-slate-700 text-slate-100":"bg-white border-slate-200 text-slate-900"," focus:border-indigo-500 outline-none")})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("label",{className:"block text-sm font-semibold mb-2 flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xl",children:"\u2611\ufe0f"}),"Subtasks"]}),(0,h.jsx)(se,{subtasks:v.subtasks,onToggle:e=>{const t=v.subtasks.map(t=>t.id===e?(0,a.A)((0,a.A)({},t),{},{completed:!t.completed}):t);f((0,a.A)((0,a.A)({},v),{},{subtasks:t}))},onAdd:e=>{const t={id:Date.now().toString(),text:e,completed:!1,createdAt:(new Date).toISOString()};f((0,a.A)((0,a.A)({},v),{},{subtasks:[...v.subtasks,t]}))},onDelete:e=>{const t=v.subtasks.filter(t=>t.id!==e);f((0,a.A)((0,a.A)({},v),{},{subtasks:t}))},onEdit:(e,t)=>{const s=v.subtasks.map(s=>s.id===e?(0,a.A)((0,a.A)({},s),{},{text:t}):s);f((0,a.A)((0,a.A)({},v),{},{subtasks:s}))},isEditable:!0})]}),ce()&&(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Notifications"}),(0,h.jsx)(u.OB,{settings:v.notificationSettings,onChange:e=>f((0,a.A)((0,a.A)({},v),{},{notificationSettings:e})),hasDueDate:!!v.dueDate})]}),(0,h.jsx)("div",{children:(0,h.jsx)(Y,{value:v.recurrencePattern,onChange:e=>f((0,a.A)((0,a.A)({},v),{},{recurrencePattern:e||void 0,isRecurring:!!e})),startDate:v.dueDate?new Date(v.dueDate):new Date})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl ".concat(j.badge),children:[(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,h.jsx)("span",{className:"font-semibold",children:j.label})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl ".concat("dark"===i?"bg-slate-700":"bg-slate-100"),children:[(0,h.jsx)("span",{className:"text-lg",children:w.emoji}),(0,h.jsx)("span",{className:"font-medium ".concat(w.color),children:w.label})]}),t.category&&(0,h.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl ".concat("dark"===i?"bg-slate-700":"bg-slate-100"),children:[(0,h.jsx)("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(0,h.jsx)("span",{className:"font-medium",children:t.category})]}),t.isRecurring&&t.recurrencePattern&&(0,h.jsx)(re,{pattern:t.recurrencePattern})]}),t.description&&(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-2xl",children:"\ud83d\udcdd"}),"Description"]}),(0,h.jsx)("div",{className:"prose dark:prose-invert max-w-none p-4 rounded-2xl ".concat("dark"===i?"bg-slate-900/50":"bg-slate-50"),children:(0,h.jsx)("p",{className:"whitespace-pre-wrap leading-relaxed text-lg",children:t.description})}),y&&(0,h.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2 text-right",children:y})]}),t.subtasks&&t.subtasks.length>0&&(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-2xl",children:"\u2611\ufe0f"}),"Subtasks"]}),(0,h.jsx)(se,{subtasks:t.subtasks,onToggle:e=>{if(!o)return;const s=(t.subtasks||[]).map(t=>t.id===e?(0,a.A)((0,a.A)({},t),{},{completed:!t.completed}):t);o(t.id,{subtasks:s})},onAdd:e=>{if(!o)return;const s={id:Date.now().toString(),text:e,completed:!1,createdAt:(new Date).toISOString()},a=[...t.subtasks||[],s];o(t.id,{subtasks:a})},onDelete:e=>{if(!o)return;const s=(t.subtasks||[]).filter(t=>t.id!==e);o(t.id,{subtasks:s})},onEdit:(e,s)=>{if(!o)return;const r=(t.subtasks||[]).map(t=>t.id===e?(0,a.A)((0,a.A)({},t),{},{text:s}):t);o(t.id,{subtasks:r})},isEditable:!!o})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,h.jsxs)("div",{className:"p-4 rounded-2xl ".concat("dark"===i?"bg-slate-700/50":"bg-slate-50"),children:[(0,h.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Created"}),(0,h.jsx)("div",{className:"font-semibold text-lg",children:(0,x.H6)(t.createdAt)})]}),(0,h.jsxs)("div",{className:"p-4 rounded-2xl ".concat("dark"===i?"bg-slate-700/50":"bg-slate-50"),children:[(0,h.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Due Date"}),(0,h.jsx)("div",{className:"font-semibold text-lg",children:t.dueDate||"No deadline"})]})]}),(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,h.jsx)("span",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Task Progress"}),(0,h.jsx)("span",{className:"text-sm font-bold text-emerald-500",children:t.completed?"100%":"0%"})]}),(0,h.jsx)("div",{className:"w-full rounded-full h-3 overflow-hidden ".concat("dark"===i?"bg-slate-700":"bg-slate-200"),children:(0,h.jsx)("div",{className:"h-full rounded-full transition-all duration-1000 ".concat(t.completed?"bg-gradient-to-r from-emerald-400 to-emerald-600":"bg-gradient-to-r from-amber-400 to-orange-500"),style:{width:t.completed?"100%":"0%"}})})]}),!t.completed&&(0,h.jsx)("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-indigo-500 to-purple-600 text-white mb-6 animate-in slide-in-from-bottom-4 fade-in duration-500",children:(0,h.jsxs)("div",{className:"flex items-start gap-3",children:[(0,h.jsx)("span",{className:"text-2xl",children:"\u2728"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"font-bold text-lg mb-1",children:"Keep going!"}),(0,h.jsx)("p",{className:"text-indigo-100 text-sm",children:"Every task you complete brings you closer to your next level. You're doing great!"})]})]})})]})}),(0,h.jsx)("div",{className:"px-8 py-6 border-t ".concat("dark"===i?"border-slate-700 bg-slate-800":"border-slate-100 bg-slate-50"),children:(0,h.jsx)("div",{className:"flex flex-wrap gap-4 justify-end",children:d?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:()=>{f({text:t.text,description:t.description||"",priority:t.priority,category:t.category||"",dueDate:t.dueDate||"",subtasks:t.subtasks||[],notificationSettings:t.notificationSettings||{enabled:!1,timing:[15,60,1440],type:"browser"},isRecurring:t.isRecurring||!1,recurrencePattern:t.recurrencePattern||void 0}),c(!1)},className:"flex items-center gap-2 px-6 py-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-all font-medium",children:"Cancel"}),(0,h.jsxs)("button",{onClick:async()=>{var e;if(v.text.trim()){if(null!==(e=v.notificationSettings)&&void 0!==e&&e.enabled&&v.dueDate&&ce()){if(await(async()=>{if(!ce())return console.warn("Browser notifications are not supported"),!1;if("granted"===Notification.permission)return!0;if("denied"!==Notification.permission)return"granted"===await Notification.requestPermission();return!1})()&&"in-app"!==v.notificationSettings.type){const e=function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[15,60,1440];const r=new Date(s),l=new Date,n=[];return a.forEach(a=>{const o=new Date(r.getTime()-60*a*1e3);o>l&&n.push({taskId:e,taskText:t,dueDate:s,notifyAt:o.getTime(),timing:a})}),n}(t.id,v.text,v.dueDate,v.notificationSettings.timing),s=[...me().filter(e=>e.taskId!==t.id),...e];xe(s)}}o&&o(t.id,v),c(!1)}},className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 transition-all font-bold shadow-lg",children:[(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-3 rounded-xl text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all font-medium",title:"Save as template",children:[(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),(0,h.jsx)("span",{className:"hidden sm:inline",children:"Template"})]}),(0,h.jsxs)("button",{onClick:()=>n(t.id),className:"flex items-center gap-2 px-6 py-3 rounded-xl text-rose-600 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all font-medium",children:[(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]}),(0,h.jsx)("button",{onClick:()=>l(t.id),className:"flex items-center gap-2 px-6 py-3 rounded-xl transition-all font-bold text-lg shadow-lg ".concat(t.completed?"bg-emerald-500 text-white hover:bg-emerald-600 hover:shadow-emerald-200/50":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 hover:shadow-indigo-200/50 dark:hover:shadow-indigo-900/50"),children:t.completed?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),"Completed!"]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Mark Complete"]})})]})})})]}),g&&(0,h.jsx)(K,{task:t,onClose:()=>p(!1),onSuccess:()=>{p(!1)}})]})}var he=s(5544);function ge(){const{projectId:e}=(0,l.g)(),{getProject:t,addTodoToProject:s,updateTodoInProject:i,deleteTodoFromProject:d,updateProjectStats:c}=(0,n.Y)(),{completeTask:x}=(0,o.Im)(),u=(0,l.Zp)(),g=t(e||""),[p,b]=(0,r.useState)([]),[k,v]=(0,r.useState)(null),[f,j]=(0,r.useState)("pending"),[w,y]=(0,r.useState)("list"),[N,C]=(0,r.useState)("");(0,r.useEffect)(()=>{g&&b(g.todos||[])},[g]);const D=e=>{if(!g)return;const t=p.find(t=>t.id===e);if(!t)return;const s=(new Date).toISOString(),r="completed"!==(0,m.g$)(t),l=(0,a.A)((0,a.A)({},t),{},{completed:r,status:r?"completed":"pending",completedAt:r?s:void 0});i(g.id,l),b(t=>t.map(t=>t.id===e?l:t)),c(g.id,l.completed),r&&x("high"===t.priority)},L=(e,t)=>{if(!g)return;const s=p.find(t=>t.id===e);if(!s)return;const r=(new Date).toISOString(),l=(0,a.A)((0,a.A)({},s),{},{completed:"completed"===t,status:t,completedAt:"completed"===t?r:void 0,startedAt:"in_progress"===t?r:s.startedAt});i(g.id,l),b(t=>t.map(t=>t.id===e?l:t)),c(g.id,l.completed),"completed"===t&&"completed"!==(0,m.g$)(s)&&x("high"===s.priority)},M=e=>{g&&(d(g.id,e),b(t=>t.filter(t=>t.id!==e)))},S=p.filter(e=>"pending"===(0,m.g$)(e)),A=p.filter(e=>"in_progress"===(0,m.g$)(e)),W=p.filter(e=>"completed"===(0,m.g$)(e)),B=S.filter(e=>"high"===e.priority),T=(O=W.length,0===(z=p.length)?0:Math.round(O/z*100));var O,z;const P=p.filter(e=>{const t=(0,m.g$)(e),s="all"===f||"pending"===f&&"pending"===t||"in_progress"===f&&"in_progress"===t||"completed"===f&&"completed"===t,a=""===N||e.text.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase());return s&&a});return g?(0,h.jsx)(he.Od,{children:(0,h.jsx)("div",{className:"p-4 md:p-8",children:(0,h.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,h.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-slate-100 dark:border-slate-700",children:[(0,h.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6",children:[(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r ".concat(g.color," text-white text-xs font-bold mb-3"),children:g.name}),(0,h.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-slate-100 tracking-tight mb-2",children:g.name}),g.description&&(0,h.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-base",children:g.description})]}),(0,h.jsxs)("div",{className:"flex gap-3",children:[(0,h.jsxs)("div",{className:"text-center px-5 py-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl border-2 border-amber-200 dark:border-amber-800",children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:S.length}),(0,h.jsx)("div",{className:"text-xs text-amber-700 dark:text-amber-300 uppercase font-semibold",children:"To Do"})]}),(0,h.jsxs)("div",{className:"text-center px-5 py-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-800",children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:A.length}),(0,h.jsx)("div",{className:"text-xs text-blue-700 dark:text-blue-300 uppercase font-semibold",children:"In Progress"})]}),(0,h.jsxs)("div",{className:"text-center px-5 py-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl border-2 border-emerald-200 dark:border-emerald-800",children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:W.length}),(0,h.jsx)("div",{className:"text-xs text-emerald-700 dark:text-emerald-300 uppercase font-semibold",children:"Done"})]})]})]}),(0,h.jsxs)("div",{className:"mt-6",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,h.jsx)("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Overall Progress"}),(0,h.jsxs)("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:[T,"%"]})]}),(0,h.jsx)("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2.5 overflow-hidden",children:(0,h.jsx)("div",{className:"h-full rounded-full transition-all duration-700 ".concat(100===T?"bg-emerald-500":"bg-gradient-to-r ".concat(g.color)),style:{width:"".concat(T,"%")}})})]})]}),S.length>0&&(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B.length>0&&(0,h.jsxs)("div",{className:"bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 rounded-xl p-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,h.jsx)("span",{className:"text-xl",children:"\ud83d\udd25"}),(0,h.jsx)("span",{className:"text-xs font-semibold text-rose-700 dark:text-rose-300 uppercase tracking-wide",children:"High Priority"})]}),(0,h.jsxs)("div",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:[B.length," task",1!==B.length&&"s"]}),(0,h.jsx)("p",{className:"text-xs text-rose-600 dark:text-rose-400 mt-1",children:"Needs immediate attention"})]}),W.length>0&&(0,h.jsxs)("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-xl p-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,h.jsx)("svg",{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,h.jsx)("span",{className:"text-xs font-semibold text-emerald-700 dark:text-emerald-300 uppercase tracking-wide",children:"Completed"})]}),(0,h.jsxs)("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[W.length," task",1!==W.length&&"s"]}),(0,h.jsx)("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1",children:"Great progress! \ud83c\udf89"})]}),(0,h.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-xl p-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,h.jsx)("svg",{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,h.jsx)("span",{className:"text-xs font-semibold text-indigo-700 dark:text-indigo-300 uppercase tracking-wide",children:"Total"})]}),(0,h.jsxs)("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:[p.length," task",1!==p.length&&"s"]}),(0,h.jsx)("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1",children:"In this project"})]})]}),(0,h.jsx)(Z,{onAdd:e=>{if(!g)return;const t={id:Date.now().toString(),text:e.text,description:e.description,completed:!1,priority:e.priority,dueDate:e.dueDate||null,category:e.category,createdAt:(new Date).toISOString()};s(g.id,t),b(e=>[t,...e])},showDescription:!0}),(0,h.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-4",children:(0,h.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[(0,h.jsxs)("div",{className:"flex gap-2 w-full md:w-auto flex-wrap",children:[(0,h.jsxs)("button",{onClick:()=>j("pending"),className:"flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ".concat("pending"===f?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300 shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"),children:[(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"To Do",S.length>0&&(0,h.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 text-xs font-bold",children:S.length})]}),(0,h.jsxs)("button",{onClick:()=>j("in_progress"),className:"flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ".concat("in_progress"===f?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"),children:[(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"In Progress",A.length>0&&(0,h.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200 text-xs font-bold",children:A.length})]}),(0,h.jsxs)("button",{onClick:()=>j("completed"),className:"flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ".concat("completed"===f?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"),children:[(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Done",W.length>0&&(0,h.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-emerald-200 dark:bg-emerald-800 text-emerald-800 dark:text-emerald-200 text-xs font-bold",children:W.length})]}),(0,h.jsxs)("button",{onClick:()=>j("all"),className:"flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ".concat("all"===f?"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"),children:[(0,h.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"All"]})]}),(0,h.jsxs)("div",{className:"relative w-full md:w-64",children:[(0,h.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),placeholder:"Search tasks...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none text-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700"}),(0,h.jsx)("svg",{className:"w-4 h-4 text-slate-400 dark:text-slate-500 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),(0,h.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:[(0,h.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,h.jsxs)("button",{onClick:()=>y("list"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat("list"===w?"bg-indigo-600 text-white shadow-lg":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"),children:[(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"List View"]}),(0,h.jsxs)("button",{onClick:()=>y("board"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat("board"===w?"bg-indigo-600 text-white shadow-lg":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"),children:[(0,h.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),"Board View"]})]}),"board"===w?(0,h.jsx)(de,{tasks:p,onToggle:D,onStatusChange:L,onDelete:M,onViewDetails:v}):(0,h.jsx)(te,{tasks:P,onToggle:D,onStatusChange:L,onDelete:M,onViewDetails:v,showCompleted:"completed"===f,showInProgress:"in_progress"===f})]}),k&&(0,h.jsx)(ue,{task:k,onClose:()=>v(null),onToggleComplete:D,onDelete:M,onEdit:(e,t)=>{if(!g)return;const s=p.find(t=>t.id===e);if(!s)return;const r=(0,a.A)((0,a.A)({},s),t);i(g.id,r),b(t=>t.map(t=>t.id===e?r:t))}})]})})}):(0,h.jsx)(he.Od,{children:(0,h.jsx)("div",{className:"p-4 md:p-8",children:(0,h.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:"Project not found"}),(0,h.jsx)("button",{onClick:()=>u("/"),className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to Projects"})]})})})})}},9561(e,t,s){function a(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function r(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function l(e){return new Date(e)<new Date}function n(e){const t=new Date(e),s=new Date,a=t.getTime()-s.getTime();return Math.ceil(a/864e5)}s.d(t,{H6:()=>r,Jv:()=>l,Yq:()=>a,i4:()=>n})},6878(e,t,s){s.d(t,{g$:()=>r,qo:()=>n,rj:()=>l,xN:()=>a});s(3590);function a(e){switch(e){case"high":return"\ud83d\udd25";case"medium":return"\u26a1";case"low":return"\ud83d\udca1";default:return"\ud83d\udcdd"}}function r(e){return e.status?e.status:e.completed?"completed":"pending"}function l(e){return e.trim().split(/\s+/).filter(e=>e.length>0).length}function n(e){const t=l(e);if(0===t)return null;const s=Math.ceil(t/200);return"".concat(s," min read")}}}]);
//# sourceMappingURL=273.ba95052a.chunk.js.map