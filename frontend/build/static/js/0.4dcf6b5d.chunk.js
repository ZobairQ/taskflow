"use strict";(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[0],{6e3(e,t,s){s.d(t,{SettingsPage:()=>S});var a=s(9643),n=s(5459),r=s(3644),o=s(608),l=s(7405);function i(e){const t=(new Date).toISOString().split("T")[0];return"taskflow-export-".concat(t,".").concat(e)}function d(e,t){let s=[...e];if(t.includeCompleted||(s=s.filter(e=>!e.completed)),t.dateRange){const e=new Date(t.dateRange.start).getTime(),a=new Date(t.dateRange.end).getTime();s=s.filter(t=>{const s=new Date(t.createdAt).getTime();return s>=e&&s<=a})}s.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());return[["ID","Task","Description","Priority","Status","Category","Due Date","Created At","Completed At","Subtasks Total","Subtasks Completed","Recurring"].join(","),...s.map(e=>function(e){var t,s;const a=e=>{if(null===e||void 0===e)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes("\n")?'"'.concat(t.replace(/"/g,'""'),'"'):t},n=e.completed?"completed":e.status||"pending",r=e.dueDate||"",o=e.completedAt?new Date(e.completedAt).toISOString():"",l=e.description||"",i=(null===(t=e.subtasks)||void 0===t?void 0:t.length)||0,d=(null===(s=e.subtasks)||void 0===s?void 0:s.filter(e=>e.completed).length)||0;return[a(e.id),a(e.text),a(l),a(e.priority),a(n),a(e.category),a(r),a(new Date(e.createdAt).toISOString()),a(o),a(i),a(d),a(e.isRecurring?"Yes":"No")].join(",")}(e,t.includeSubtasks))].join("\n")}function c(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function m(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function x(e,t){const s=function(e,t){let s=[...e];if(t.includeCompleted||(s=s.filter(e=>!e.completed)),t.dateRange){const e=new Date(t.dateRange.start).getTime(),a=new Date(t.dateRange.end).getTime();s=s.filter(t=>{const s=new Date(t.createdAt).getTime();return s>=e&&s<=a})}const a={high:0,medium:1,low:2};s.sort((e,t)=>{const s=a[e.priority]-a[t.priority];return 0!==s?s:e.dueDate&&t.dueDate?new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime():e.dueDate?-1:t.dueDate?1:new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()});const n=function(e){return{total:e.length,completed:e.filter(e=>e.completed).length,pending:e.filter(e=>!e.completed&&(!e.status||"pending"===e.status)).length,inProgress:e.filter(e=>"in_progress"===e.status).length,highPriority:e.filter(e=>"high"===e.priority).length,mediumPriority:e.filter(e=>"medium"===e.priority).length,lowPriority:e.filter(e=>"low"===e.priority).length}}(s),r=c(Date.now()),o=s.filter(e=>e.completed),l=s.filter(e=>!e.completed);return'\n<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>TaskFlow Report - '.concat(r,'</title>\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, sans-serif;\n      line-height: 1.6;\n      color: #1e293b;\n      padding: 40px;\n      max-width: 800px;\n      margin: 0 auto;\n    }\n    @media print {\n      body { padding: 20px; }\n      .no-print { display: none !important; }\n    }\n    .header {\n      text-align: center;\n      margin-bottom: 40px;\n      padding-bottom: 20px;\n      border-bottom: 2px solid #e2e8f0;\n    }\n    .logo {\n      font-size: 28px;\n      font-weight: bold;\n      color: #6366f1;\n      margin-bottom: 8px;\n    }\n    .report-date {\n      color: #64748b;\n      font-size: 14px;\n    }\n    .stats-grid {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      gap: 16px;\n      margin-bottom: 40px;\n    }\n    .stat-card {\n      background: #f8fafc;\n      border: 1px solid #e2e8f0;\n      border-radius: 8px;\n      padding: 16px;\n      text-align: center;\n    }\n    .stat-value {\n      font-size: 28px;\n      font-weight: bold;\n      color: #1e293b;\n    }\n    .stat-label {\n      font-size: 12px;\n      color: #64748b;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    }\n    .section {\n      margin-bottom: 32px;\n    }\n    .section-title {\n      font-size: 18px;\n      font-weight: 600;\n      color: #1e293b;\n      margin-bottom: 16px;\n      padding-bottom: 8px;\n      border-bottom: 1px solid #e2e8f0;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n    .task-list {\n      list-style: none;\n    }\n    .task-item {\n      padding: 12px 16px;\n      border: 1px solid #e2e8f0;\n      border-radius: 8px;\n      margin-bottom: 8px;\n      background: white;\n      page-break-inside: avoid;\n    }\n    .task-item.completed {\n      background: #f0fdf4;\n      border-color: #bbf7d0;\n    }\n    .task-item.high {\n      border-left: 4px solid #ef4444;\n    }\n    .task-item.medium {\n      border-left: 4px solid #f59e0b;\n    }\n    .task-item.low {\n      border-left: 4px solid #10b981;\n    }\n    .task-title {\n      font-weight: 500;\n      margin-bottom: 4px;\n    }\n    .task-item.completed .task-title {\n      text-decoration: line-through;\n      color: #94a3b8;\n    }\n    .task-meta {\n      display: flex;\n      gap: 16px;\n      font-size: 12px;\n      color: #64748b;\n    }\n    .priority-badge {\n      display: inline-block;\n      padding: 2px 8px;\n      border-radius: 4px;\n      font-size: 11px;\n      font-weight: 500;\n      text-transform: uppercase;\n    }\n    .priority-high { background: #fee2e2; color: #dc2626; }\n    .priority-medium { background: #fef3c7; color: #d97706; }\n    .priority-low { background: #d1fae5; color: #059669; }\n    .footer {\n      margin-top: 40px;\n      padding-top: 20px;\n      border-top: 1px solid #e2e8f0;\n      text-align: center;\n      color: #94a3b8;\n      font-size: 12px;\n    }\n    .empty-state {\n      text-align: center;\n      padding: 24px;\n      color: #94a3b8;\n      font-style: italic;\n    }\n  </style>\n</head>\n<body>\n  <div class="header">\n    <div class="logo">TaskFlow Report</div>\n    <div class="report-date">Generated on ').concat(r,'</div>\n  </div>\n\n  <div class="stats-grid">\n    <div class="stat-card">\n      <div class="stat-value">').concat(n.total,'</div>\n      <div class="stat-label">Total Tasks</div>\n    </div>\n    <div class="stat-card">\n      <div class="stat-value">').concat(n.completed,'</div>\n      <div class="stat-label">Completed</div>\n    </div>\n    <div class="stat-card">\n      <div class="stat-value">').concat(n.pending,'</div>\n      <div class="stat-label">Pending</div>\n    </div>\n    <div class="stat-card">\n      <div class="stat-value">').concat(n.highPriority,'</div>\n      <div class="stat-label">High Priority</div>\n    </div>\n  </div>\n\n  ').concat(l.length>0?'\n  <div class="section">\n    <h2 class="section-title">\n      <span>Pending Tasks</span>\n      <span style="font-size: 14px; color: #64748b; font-weight: normal;">('.concat(l.length,')</span>\n    </h2>\n    <ul class="task-list">\n      ').concat(l.map(e=>'\n        <li class="task-item '.concat(e.priority,'">\n          <div class="task-title">').concat(m(e.text),'</div>\n          <div class="task-meta">\n            <span class="priority-badge priority-').concat(e.priority,'">').concat(e.priority,"</span>\n            ").concat(e.dueDate?"<span>Due: ".concat(e.dueDate,"</span>"):"","\n            ").concat(e.category?"<span>".concat(e.category,"</span>"):"","\n          </div>\n        </li>\n      ")).join(""),"\n    </ul>\n  </div>\n  "):"","\n\n  ").concat(o.length>0&&t.includeCompleted?'\n  <div class="section">\n    <h2 class="section-title">\n      <span>Completed Tasks</span>\n      <span style="font-size: 14px; color: #64748b; font-weight: normal;">('.concat(o.length,')</span>\n    </h2>\n    <ul class="task-list">\n      ').concat(o.map(e=>'\n        <li class="task-item completed '.concat(e.priority,'">\n          <div class="task-title">').concat(m(e.text),'</div>\n          <div class="task-meta">\n            <span class="priority-badge priority-').concat(e.priority,'">').concat(e.priority,"</span>\n            ").concat(e.completedAt?"<span>Completed: ".concat(c(e.completedAt),"</span>"):"","\n          </div>\n        </li>\n      ")).join(""),"\n    </ul>\n  </div>\n  "):"","\n\n  ").concat(0===s.length?'\n  <div class="empty-state">No tasks to display</div>\n  ':"",'\n\n  <div class="footer">\n    <p>Generated by TaskFlow - Your Personal Productivity Companion</p>\n  </div>\n\n  <script>\n    // Auto-trigger print dialog\n    window.onload = function() {\n      setTimeout(function() {\n        window.print();\n      }, 500);\n    };\n  <\/script>\n</body>\n</html>\n  ')}(e,t),a=window.open("","_blank");a&&(a.document.write(s),a.document.close())}var p=s(6507);const u=e=>{let{tasks:t,gamificationData:s}=e;const{theme:n}=(0,r.D)(),[o,c]=(0,a.useState)("json"),[m,u]=(0,a.useState)(!0),[g,h]=(0,a.useState)(!0),[k,f]=(0,a.useState)(!1),b={format:o,includeCompleted:m,includeArchived:!1,includeSubtasks:!0,includeTimeTracking:!0,includeGamification:g},v=function(e,t){let s=[...e];if(t.dateRange){const e=new Date(t.dateRange.start).getTime(),a=new Date(t.dateRange.end).getTime();s=s.filter(t=>{const s=new Date(t.createdAt).getTime();return s>=e&&s<=a})}return{totalTasks:s.length,completedTasks:s.filter(e=>e.completed).length,pendingTasks:s.filter(e=>!e.completed).length,highPriority:s.filter(e=>"high"===e.priority).length,withDueDates:s.filter(e=>e.dueDate).length}}(t,b);return(0,p.jsxs)("div",{className:"p-6 rounded-2xl ".concat("dark"===n?"bg-slate-800":"bg-white"," border ").concat("dark"===n?"border-slate-700":"border-slate-200"),children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[(0,p.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Data"]}),(0,p.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-6 p-4 rounded-xl ".concat("dark"===n?"bg-slate-700/50":"bg-slate-50"),children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:v.totalTasks}),(0,p.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Tasks"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-emerald-500",children:v.completedTasks}),(0,p.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Completed"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-amber-500",children:v.pendingTasks}),(0,p.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Pending"})]})]}),(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"Export Format"}),(0,p.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{value:"json",label:"JSON",description:"Full backup with all data, can be re-imported",icon:"{ }"},{value:"csv",label:"CSV",description:"Spreadsheet format, works with Excel/Google Sheets",icon:"\ud83d\udcca"},{value:"pdf",label:"PDF Report",description:"Printable report with statistics and task list",icon:"\ud83d\udcc4"}].map(e=>(0,p.jsxs)("button",{onClick:()=>c(e.value),className:"p-4 rounded-xl text-center transition-all ".concat(o===e.value?"bg-indigo-100 dark:bg-indigo-900/40 border-2 border-indigo-400 dark:border-indigo-500":"bg-slate-50 dark:bg-slate-700/50 border-2 border-transparent hover:border-slate-300 dark:hover:border-slate-500"),children:[(0,p.jsx)("span",{className:"text-2xl mb-2 block",children:e.icon}),(0,p.jsx)("span",{className:"font-semibold block ".concat(o===e.value?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-300"),children:e.label}),(0,p.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 block",children:e.description})]},e.value))})]}),(0,p.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,p.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,p.jsx)("input",{type:"checkbox",checked:m,onChange:e=>u(e.target.checked),className:"w-5 h-5 rounded border-slate-300 dark:border-slate-600 text-indigo-600 focus:ring-indigo-500"}),(0,p.jsx)("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Include completed tasks"})]}),"json"===o&&(0,p.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,p.jsx)("input",{type:"checkbox",checked:g,onChange:e=>h(e.target.checked),className:"w-5 h-5 rounded border-slate-300 dark:border-slate-600 text-indigo-600 focus:ring-indigo-500"}),(0,p.jsx)("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Include gamification data (XP, level, achievements)"})]})]}),(0,p.jsx)("button",{onClick:async()=>{f(!0);try{const e=b;switch(o){case"json":{const a=function(e,t,s){let a=[...e];if(t.includeCompleted||(a=a.filter(e=>!e.completed)),t.dateRange){const e=new Date(t.dateRange.start).getTime(),s=new Date(t.dateRange.end).getTime();a=a.filter(t=>{const a=new Date(t.createdAt).getTime();return a>=e&&a<=s})}const n={version:"1.0.0",exportedAt:Date.now(),app:"TaskFlow",tasks:a.map(e=>{const s=(0,l.A)({},e);return t.includeSubtasks||delete s.subtasks,s})};return t.includeGamification&&s&&(n.gamification=s),JSON.stringify(n,null,2)}(t,e,g?s:void 0);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"taskflow-export.json";const s=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}(a,i("json"));break}case"csv":!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"taskflow-export.csv";const s=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}(d(t,e),i("csv"));break;case"pdf":x(t,e)}}catch(e){console.error("Export failed:",e)}finally{setTimeout(()=>f(!1),500)}},disabled:k||0===t.length,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:k?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,p.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,p.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export ",o.toUpperCase()," File"]})}),0===t.length&&(0,p.jsx)("p",{className:"text-sm text-amber-600 dark:text-amber-400 text-center mt-3",children:"No tasks to export"})]})},g=[{source:"Content",target:"text",required:!0},{source:"Description",target:"description",required:!1},{source:"Priority",target:"priority",required:!1,transform:e=>{const t=e.toLowerCase();return t.includes("high")||"p1"===t||"4"===t?"high":t.includes("medium")||"p2"===t||"3"===t?"medium":"low"}},{source:"Due Date",target:"dueDate",required:!1},{source:"Labels",target:"category",required:!1},{source:"Completed",target:"completed",required:!1,transform:e=>"TRUE"===e}],h=[{source:"Card Name",target:"text",required:!0},{source:"Description",target:"description",required:!1},{source:"Due Date",target:"dueDate",required:!1},{source:"Labels",target:"category",required:!1},{source:"Completed",target:"completed",required:!1,transform:e=>"TRUE"===e}],k=[{source:"Task",target:"text",required:!0},{source:"Title",target:"text",required:!1},{source:"Name",target:"text",required:!1},{source:"Description",target:"description",required:!1},{source:"Notes",target:"description",required:!1},{source:"Priority",target:"priority",required:!1},{source:"Due Date",target:"dueDate",required:!1},{source:"DueDate",target:"dueDate",required:!1},{source:"Category",target:"category",required:!1},{source:"Tags",target:"category",required:!1},{source:"Completed",target:"completed",required:!1},{source:"Done",target:"completed",required:!1},{source:"Status",target:"status",required:!1}];function f(e){const t=e.split(/\r?\n/).filter(e=>e.trim());if(0===t.length)return{headers:[],rows:[]};const s=e=>{const t=[];let s="",a=!1;for(let n=0;n<e.length;n++){const r=e[n];a?'"'===r?'"'===e[n+1]?(s+='"',n++):a=!1:s+=r:'"'===r?a=!0:","===r?(t.push(s.trim()),s=""):s+=r}return t.push(s.trim()),t},a=s(t[0]),n=[];for(let r=1;r<t.length;r++){const e=s(t[r]),o={};a.forEach((t,s)=>{o[t]=e[s]||""}),n.push(o)}return{headers:a,rows:n}}function b(e){switch(e){case"todoist":return g;case"trello":return h;default:return k}}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic";const{headers:s,rows:a}=f(e),n=[];let r=0,o=0;const l=b(t).filter(e=>e.required),i=l.map(e=>e.source.toLowerCase()),d=s.map(e=>e.toLowerCase());for(const c of i)d.includes(c)||n.push("Missing required field: ".concat(c));for(let c=0;c<a.length;c++){const e=a[c];let t=!0;for(const a of l){const n=s.find(e=>e.toLowerCase()===a.source.toLowerCase());if(n&&!e[n]){t=!1;break}}t?r++:o++}return{totalRows:a.length,validRows:r,invalidRows:o,fields:s,sampleData:a.slice(0,5),errors:n}}function j(e,t,s,a){const n={};for(const r of s){const s=t.find(e=>e.toLowerCase()===r.source.toLowerCase());if(!s)continue;const a=e[s];if(!a&&r.required)return null;a&&(r.transform?n[r.target]=r.transform(a):n[r.target]=a)}return n.text?(n.id=(Date.now()+a).toString(),n.createdAt=(new Date).toISOString(),n.completed=n.completed||!1,n.priority=n.priority||"medium",n.description=n.description||"",n.category=n.category||"",n.dueDate=n.dueDate||null,n):null}function w(e){try{const t=JSON.parse(e);if(!t.tasks||!Array.isArray(t.tasks))return{tasks:[],errors:["Invalid export file: missing tasks array"]};return{tasks:t.tasks.map((e,t)=>(0,l.A)((0,l.A)({},e),{},{id:(Date.now()+t).toString(),createdAt:e.createdAt||(new Date).toISOString()})),errors:[]}}catch(t){return{tasks:[],errors:["Failed to parse JSON: ".concat(t instanceof Error?t.message:"Unknown error")]}}}function N(e){return new Promise((t,s)=>{const a=new FileReader;a.onload=()=>t(a.result),a.onerror=()=>s(new Error("Failed to read file")),a.readAsText(e)})}function y(e){var t;return(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())||""}const D=e=>{let{onImport:t,existingTaskCount:s}=e;const{theme:n}=(0,r.D)(),o=(0,a.useRef)(null),[l,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[u,g]=(0,a.useState)(null),[h,k]=(0,a.useState)("generic"),[D,C]=(0,a.useState)(!1),[S,T]=(0,a.useState)(null),L=async e=>{T(null),x(null),g(null);const t=y(e.name);if(["csv","json"].includes(t)){c(e);try{const a=await N(e);if("json"===t){const e=w(a);if(e.errors.length>0)return void T(e.errors.join(", "));x({totalRows:e.tasks.length,validRows:e.tasks.length,invalidRows:0,fields:["JSON import"],sampleData:e.tasks.slice(0,5),errors:[]}),g({success:!0,imported:e.tasks.length,skipped:0,errors:[],warnings:[],tasks:e.tasks})}else{var s;const e=a.split("\n"),t=function(e){const t=e.map(e=>e.toLowerCase());return t.includes("content")||t.includes("task content")?"todoist":t.includes("card name")||t.includes("card title")?"trello":"generic"}((null===(s=e[0])||void 0===s?void 0:s.split(",").map(e=>e.trim().replace(/^"|"$/g,"")))||[]);k(t);const n=v(a,t);x(n)}}catch(a){T("Failed to read file: ".concat(a instanceof Error?a.message:"Unknown error"))}}else T("Please select a CSV or JSON file")};return(0,p.jsxs)("div",{className:"p-6 rounded-2xl ".concat("dark"===n?"bg-slate-800":"bg-white"," border ").concat("dark"===n?"border-slate-700":"border-slate-200"),children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[(0,p.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import Data"]}),(0,p.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["Import tasks from CSV or JSON files. Supports Todoist, Trello, and generic formats. You currently have ",(0,p.jsx)("strong",{children:s})," tasks."]}),!d&&(0,p.jsxs)("div",{onDragOver:e=>{e.preventDefault(),i(!0)},onDragLeave:()=>i(!1),onDrop:e=>{e.preventDefault(),i(!1);const t=e.dataTransfer.files[0];t&&L(t)},onClick:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.click()},className:"\n            border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all\n            ".concat(l?"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-300 dark:border-slate-600 hover:border-indigo-400","\n          "),children:[(0,p.jsx)("input",{ref:o,type:"file",accept:".csv,.json",onChange:e=>{var t;return(null===(t=e.target.files)||void 0===t?void 0:t[0])&&L(e.target.files[0])},className:"hidden"}),(0,p.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udcc1"}),(0,p.jsx)("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Drop a file here or click to browse"}),(0,p.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Supports CSV and JSON files"})]}),S&&(0,p.jsx)("div",{className:"mt-4 p-4 rounded-xl bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800",children:(0,p.jsx)("p",{className:"text-sm text-rose-600 dark:text-rose-400",children:S})}),d&&(0,p.jsxs)("div",{className:"mt-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl ".concat("dark"===n?"bg-slate-700/50":"bg-slate-50"),children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("span",{className:"text-2xl",children:"json"===y(d.name)?"{ }":"\ud83d\udcca"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:d.name}),(0,p.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[(d.size/1024).toFixed(1)," KB"]})]})]}),(0,p.jsx)("button",{onClick:()=>{c(null),x(null),g(null),T(null),o.current&&(o.current.value="")},className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:(0,p.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"csv"===y(d.name)&&m&&(0,p.jsxs)("div",{className:"mt-4",children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Import Source"}),(0,p.jsx)("div",{className:"flex gap-2",children:[{value:"generic",label:"Generic CSV",icon:"\ud83d\udcc4"},{value:"todoist",label:"Todoist",icon:"\u2713"},{value:"trello",label:"Trello",icon:"\ud83d\udccb"}].map(e=>(0,p.jsxs)("button",{onClick:()=>{k(e.value),N(d).then(t=>{x(v(t,e.value))})},className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(h===e.value?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"),children:[e.icon," ",e.label]},e.value))})]}),m&&!u&&(0,p.jsxs)("div",{className:"mt-4 p-4 rounded-xl ".concat("dark"===n?"bg-slate-700/50":"bg-slate-50"),children:[(0,p.jsx)("h4",{className:"font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Preview"}),(0,p.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:m.totalRows}),(0,p.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 ml-1",children:"total rows"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-2xl font-bold text-emerald-500",children:m.validRows}),(0,p.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 ml-1",children:"valid"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-2xl font-bold text-amber-500",children:m.invalidRows}),(0,p.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 ml-1",children:"skipped"})]})]}),m.errors.length>0&&(0,p.jsx)("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:m.errors.map((e,t)=>(0,p.jsxs)("p",{children:["\u2022 ",e]},t))})]}),u&&(0,p.jsxs)("div",{className:"mt-4 p-4 rounded-xl ".concat(u.success?"bg-emerald-50 dark:bg-emerald-900/20":"bg-amber-50 dark:bg-amber-900/20"),children:[(0,p.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,p.jsx)("span",{className:"text-2xl",children:u.success?"\u2705":"\u26a0\ufe0f"}),(0,p.jsx)("span",{className:"font-medium ".concat(u.success?"text-emerald-700 dark:text-emerald-300":"text-amber-700 dark:text-amber-300"),children:u.success?"Import Successful!":"Import Completed with Issues"})]}),(0,p.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Imported ",(0,p.jsx)("strong",{children:u.imported})," tasks",u.skipped>0&&", skipped ".concat(u.skipped," rows")]})]}),!u&&(0,p.jsx)("button",{onClick:async()=>{if(d&&m){C(!0),T(null);try{const e=await N(d);let s;if("json"===y(d.name)){const t=w(e);s={success:0===t.errors.length,imported:t.tasks.length,skipped:0,errors:t.errors,warnings:[],tasks:t.tasks}}else s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic";const{headers:s,rows:a}=f(e),n=b(t),r=[],o=[],l=[];let i=0;for(let d=0;d<a.length;d++){const e=a[d];try{const t=j(e,s,n,d);t?r.push(t):(i++,l.push("Row ".concat(d+2,": Missing required field(s)")))}catch(S){i++,o.push("Row ".concat(d+2,": ").concat(S instanceof Error?S.message:"Unknown error"))}}return{success:0===o.length,imported:r.length,skipped:i,errors:o,warnings:l,tasks:r}}(e,h);g(s),s.success&&s.tasks.length>0&&t(s.tasks)}catch(e){T("Import failed: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{C(!1)}}},disabled:D||!m||0===m.validRows,className:"mt-4 w-full flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:D?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,p.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,p.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import ",(null===m||void 0===m?void 0:m.validRows)||0," Tasks"]})})]})]})};var C=s(5544);const S=()=>{const{theme:e,toggleTheme:t}=(0,r.D)(),{projects:s}=(0,o.Y)(),l=(0,n.Zp)(),[i,d]=(0,a.useState)(!1),c=s.flatMap(e=>e.todos||[]).filter(e=>void 0!==e);return(0,p.jsx)(C.Od,{children:(0,p.jsx)("div",{className:"p-4 md:p-8",children:(0,p.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),(0,p.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage your data and preferences"})]}),i&&(0,p.jsx)("div",{className:"p-4 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800",children:(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("span",{className:"text-2xl",children:"\u2705"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium text-emerald-700 dark:text-emerald-300",children:"Import Successful!"}),(0,p.jsx)("p",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:"Redirecting to your tasks..."})]})]})}),(0,p.jsxs)("div",{className:"p-6 rounded-2xl ".concat("dark"===e?"bg-slate-800":"bg-white"," border ").concat("dark"===e?"border-slate-700":"border-slate-200"),children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[(0,p.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),"Appearance"]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Dark Mode"}),(0,p.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Switch between light and dark theme"})]}),(0,p.jsx)("button",{onClick:t,className:"relative w-14 h-7 rounded-full transition-colors ".concat("dark"===e?"bg-indigo-500":"bg-slate-300"),children:(0,p.jsx)("div",{className:"absolute top-0.5 w-6 h-6 rounded-full bg-white shadow-md transform transition-transform ".concat("dark"===e?"translate-x-7":"translate-x-0.5"),children:"dark"===e?(0,p.jsx)("svg",{className:"w-6 h-6 p-1 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):(0,p.jsx)("svg",{className:"w-6 h-6 p-1 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})})]})]}),(0,p.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,p.jsx)(u,{tasks:c,gamificationData:(()=>{try{const e=localStorage.getItem("gamification");if(e){const t=JSON.parse(e);return{xp:t.xp||0,level:t.level||1,streak:t.streak||0,achievements:t.unlockedAchievements||[]}}}catch(e){}})()}),(0,p.jsx)(D,{onImport:e=>{localStorage.setItem("taskflow_import_pending",JSON.stringify(e)),d(!0),setTimeout(()=>{l("/")},1500)},existingTaskCount:c.length})]}),(0,p.jsxs)("div",{className:"p-6 rounded-2xl ".concat("dark"===e?"bg-slate-800":"bg-white"," border ").concat("dark"===e?"border-slate-700":"border-slate-200"),children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[(0,p.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),"Storage"]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{className:"p-4 rounded-xl ".concat("dark"===e?"bg-slate-700/50":"bg-slate-50"),children:[(0,p.jsx)("p",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:c.length}),(0,p.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Tasks"})]}),(0,p.jsxs)("div",{className:"p-4 rounded-xl ".concat("dark"===e?"bg-slate-700/50":"bg-slate-50"),children:[(0,p.jsx)("p",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:s.length}),(0,p.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Projects"})]})]}),(0,p.jsx)("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-4",children:"Data is stored locally in your browser. Export regularly to backup your data."})]}),(0,p.jsxs)("div",{className:"p-6 rounded-2xl ".concat("dark"===e?"bg-slate-800":"bg-white"," border ").concat("dark"===e?"border-slate-700":"border-slate-200"),children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[(0,p.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"About TaskFlow"]}),(0,p.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"TaskFlow is a gamified task management app designed to boost your productivity. Features include recurring tasks, Pomodoro timer, calendar view, achievements, and more."}),(0,p.jsx)("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-3",children:"Version 4.0 \u2022 Phase 4 Features"})]})]})})})}}}]);
//# sourceMappingURL=0.4dcf6b5d.chunk.js.map