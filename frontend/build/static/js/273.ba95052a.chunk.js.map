{"version":3,"file":"static/js/273.ba95052a.chunk.js","mappings":"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","sources":["components/tasks/TaskItem.tsx","components/tasks/TaskList.tsx","constants/categories.ts","utils/recurrenceUtils.ts","utils/nlp/taskParser.ts","utils/ai/smartSuggestions.ts","constants/recurrence.ts","components/tasks/RecurrencePicker.tsx","components/templates/TemplateGallery.tsx","components/templates/CreateTemplateModal.tsx","components/tasks/TaskBreakdown.tsx","components/tasks/AddTaskForm.tsx","components/tasks/TaskFilters.tsx","components/tasks/TaskGroup.tsx","components/tasks/SubtaskList.tsx","components/dnd/DroppableZone.tsx","components/tasks/RecurringBadge.tsx","components/tasks/TaskCard.tsx","components/tasks/TaskBoard.tsx","utils/notifications.ts","TaskModal.tsx","pages/ProjectDetail.tsx","utils/formatters.ts","utils/dateUtils.ts","utils/taskUtils.ts"],"sourcesContent":["/**\n * Reusable task item component\n * This component eliminates ~200 lines of duplicated code between App.tsx and ProjectDetail.tsx\n */\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useDraggable } from '@dnd-kit/core';\nimport { CSS } from '@dnd-kit/utilities';\nimport { Task, TaskStatus } from '../../types';\nimport { formatDate } from '../../utils/dateUtils';\nimport { getTaskIcon, estimateReadingTime, getTaskStatus } from '../../utils/taskUtils';\nimport { PriorityBadge, CategoryBadge } from '../common';\n\ninterface TaskItemProps {\n  task: Task;\n  onToggle: (id: string) => void;\n  onStatusChange?: (id: string, status: TaskStatus) => void;\n  onDelete: (id: string) => void;\n  onViewDetails?: (task: Task) => void;\n  showExpandButton?: boolean;\n  draggable?: boolean;\n  isDragging?: boolean;\n}\n\nconst STATUS_CONFIG = {\n  pending: {\n    label: 'To Do',\n    color: 'bg-amber-500',\n    textColor: 'text-amber-700 dark:text-amber-300',\n    bgColor: 'bg-amber-50 dark:bg-amber-900/20',\n    borderColor: 'border-amber-200 dark:border-amber-800',\n    icon: (\n      <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth=\"2\" />\n      </svg>\n    ),\n  },\n  in_progress: {\n    label: 'In Progress',\n    color: 'bg-blue-500',\n    textColor: 'text-blue-700 dark:text-blue-300',\n    bgColor: 'bg-blue-50 dark:bg-blue-900/20',\n    borderColor: 'border-blue-200 dark:border-blue-800',\n    icon: (\n      <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\" clipRule=\"evenodd\" />\n      </svg>\n    ),\n  },\n  completed: {\n    label: 'Done',\n    color: 'bg-emerald-500',\n    textColor: 'text-emerald-700 dark:text-emerald-300',\n    bgColor: 'bg-emerald-50 dark:bg-emerald-900/20',\n    borderColor: 'border-emerald-200 dark:border-emerald-800',\n    icon: (\n      <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\n      </svg>\n    ),\n  },\n};\n\nexport const TaskItem: React.FC<TaskItemProps> = ({\n  task,\n  onToggle,\n  onStatusChange,\n  onDelete,\n  onViewDetails,\n  showExpandButton = true,\n  draggable = false,\n  isDragging = false,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [showStatusMenu, setShowStatusMenu] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({ top: 0, left: 0 });\n  const statusButtonRef = useRef<HTMLButtonElement>(null);\n  const statusMenuRef = useRef<HTMLDivElement>(null);\n\n  // Draggable setup\n  const { attributes, listeners, setNodeRef, transform } = useDraggable({\n    id: task.id.toString(),\n    data: {\n      task,\n      type: 'task',\n    },\n    disabled: !draggable,\n  });\n\n  const dragStyle = transform\n    ? {\n        transform: CSS.Translate.toString(transform),\n        zIndex: 1000,\n      }\n    : undefined;\n\n  const status = getTaskStatus(task);\n  const isInProgress = status === 'in_progress';\n  const isCompleted = status === 'completed';\n  const statusConfig = STATUS_CONFIG[status];\n\n  const toggleExpand = () => setIsExpanded(!isExpanded);\n\n  const updateMenuPosition = () => {\n    if (statusButtonRef.current) {\n      const rect = statusButtonRef.current.getBoundingClientRect();\n      setMenuPosition({\n        top: rect.bottom + window.scrollY + 8,\n        left: rect.left + window.scrollX,\n      });\n    }\n  };\n\n  const handleStatusChange = (newStatus: TaskStatus) => {\n    if (onStatusChange) {\n      onStatusChange(task.id, newStatus);\n    } else {\n      // Fallback to toggle for backward compatibility\n      if (newStatus === 'completed') {\n        onToggle(task.id);\n      }\n    }\n    setShowStatusMenu(false);\n  };\n\n  // Update position when menu opens\n  useEffect(() => {\n    if (showStatusMenu) {\n      updateMenuPosition();\n    }\n  }, [showStatusMenu]);\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        statusMenuRef.current &&\n        !statusMenuRef.current.contains(event.target as Node) &&\n        statusButtonRef.current &&\n        !statusButtonRef.current.contains(event.target as Node)\n      ) {\n        setShowStatusMenu(false);\n      }\n    };\n\n    if (showStatusMenu) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [showStatusMenu]);\n\n  return (\n    <div\n      ref={draggable ? setNodeRef : undefined}\n      style={dragStyle}\n      {...(draggable ? { ...attributes, ...listeners } : {})}\n      className={`group relative bg-white dark:bg-slate-800 rounded-2xl shadow-sm border transition-all duration-200 hover:shadow-md overflow-hidden ${\n        isDragging ? 'opacity-50 scale-95' : ''\n      } ${\n        isCompleted\n          ? 'border-slate-200 dark:border-slate-700'\n          : isInProgress\n          ? 'border-blue-300 dark:border-blue-500'\n          : 'border-slate-100 dark:border-slate-700'\n      } ${draggable ? 'cursor-grab active:cursor-grabbing' : ''}`}\n    >\n      {/* Status Header - Prominent Top Section */}\n      <div className={`px-5 py-3 ${statusConfig.bgColor} border-b ${statusConfig.borderColor}`}>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"relative\">\n              <button\n                ref={statusButtonRef}\n                onClick={() => setShowStatusMenu(!showStatusMenu)}\n                className={`inline-flex items-center gap-2.5 px-4 py-2 rounded-lg text-sm font-bold transition-all ${statusConfig.bgColor} ${statusConfig.textColor} border-2 ${statusConfig.borderColor} hover:shadow-lg hover:scale-105`}\n              >\n                <div className={`w-3 h-3 rounded-full ${statusConfig.color} shadow-sm`} />\n                {statusConfig.label}\n                <svg className=\"w-4 h-4 opacity-70\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Priority & Category badges */}\n            <div className=\"flex items-center gap-2\">\n              <PriorityBadge priority={task.priority} />\n              <CategoryBadge category={task.category} />\n            </div>\n          </div>\n\n          {/* Action Buttons - Always Visible */}\n          <div className=\"flex items-center gap-1\">\n            {onViewDetails && (\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onViewDetails(task);\n                }}\n                className=\"p-2 text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-white/50 dark:hover:bg-slate-700/50 rounded-lg transition-all\"\n                title=\"View details\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                </svg>\n              </button>\n            )}\n\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                onDelete(task.id);\n              }}\n              className=\"p-2 text-slate-500 dark:text-slate-400 hover:text-rose-600 dark:hover:text-rose-400 hover:bg-white/50 dark:hover:bg-slate-700/50 rounded-lg transition-all\"\n              title=\"Delete task\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Task Content */}\n      <div className={`p-5 ${\n        isCompleted\n          ? 'bg-slate-50/60 dark:bg-slate-800/50'\n          : isInProgress\n          ? 'bg-gradient-to-br from-blue-50/30 to-indigo-50/30 dark:from-blue-900/10 dark:to-indigo-900/10'\n          : 'bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-800/50'\n      }`}>\n        <div className=\"flex items-start gap-4\">\n          {/* Icon */}\n          <div className=\"flex-shrink-0 mt-1\">\n            <div\n              className={`w-10 h-10 flex items-center justify-center rounded-2xl transition-all ${\n                isCompleted\n                  ? 'bg-gradient-to-br from-emerald-400 to-emerald-600 text-white shadow-lg shadow-emerald-200 dark:shadow-emerald-900/30'\n                  : isInProgress\n                  ? 'bg-gradient-to-br from-blue-400 to-indigo-500 text-white shadow-lg shadow-blue-200 dark:shadow-blue-900/30'\n                  : 'bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-500 dark:text-indigo-400'\n              }`}\n            >\n              <span className=\"text-xl\">{getTaskIcon(task.priority)}</span>\n            </div>\n          </div>\n\n          {/* Content */}\n          <div className=\"flex-1 min-w-0\">\n            {/* Task Title */}\n            <h3\n              className={`text-xl font-bold transition-all mb-2 ${\n                isCompleted\n                  ? 'text-slate-400 dark:text-slate-500 line-through decoration-2 decoration-slate-300 dark:decoration-slate-600'\n                  : isInProgress\n                  ? 'text-blue-700 dark:text-blue-300'\n                  : 'text-slate-800 dark:text-slate-100'\n              }`}\n            >\n              {task.text}\n            </h3>\n\n            {/* Description */}\n            {task.description && (\n              <div className={`transition-all duration-300 ease-in-out ${isExpanded ? 'max-h-96 opacity-100' : 'max-h-24 opacity-90'} overflow-hidden relative`}>\n                <div className=\"mb-4\">\n                  <p className={`text-slate-600 dark:text-slate-300 whitespace-pre-wrap leading-relaxed ${isCompleted ? 'text-slate-400 dark:text-slate-500' : ''}`}>\n                    {task.description}\n                  </p>\n                </div>\n                {task.description.length > 100 && showExpandButton && (\n                  <button\n                    onClick={toggleExpand}\n                    className=\"text-xs font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1\"\n                  >\n                    {isExpanded ? 'Show less' : 'Show more'}\n                    <svg\n                      className={`w-3 h-3 transition-transform duration-300 ${isExpanded ? 'rotate-180' : ''}`}\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                )}\n              </div>\n            )}\n\n            {/* Tags & Info */}\n            <div className=\"flex flex-wrap items-center gap-2 text-xs mt-3\">\n              {task.dueDate && (\n                <div\n                  className={`flex items-center gap-1.5 px-2.5 py-1 rounded-full border ${\n                    new Date(task.dueDate) < new Date() && !isCompleted\n                      ? 'bg-rose-50 border-rose-200 text-rose-600 dark:bg-rose-900/20 dark:border-rose-800 dark:text-rose-400'\n                      : 'bg-blue-50 border-blue-100 text-blue-600 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400'\n                  }`}\n                >\n                  <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                  </svg>\n                  {task.dueDate}\n                  {new Date(task.dueDate) < new Date() && !isCompleted && (\n                    <span className=\"font-bold ml-1\">(Overdue)</span>\n                  )}\n                </div>\n              )}\n\n              <span className=\"text-slate-400 dark:text-slate-500 flex items-center gap-1\">\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                {formatDate(task.createdAt)}\n              </span>\n\n              {task.description && (\n                <span className=\"text-slate-400 dark:text-slate-500\">\n                  {estimateReadingTime(task.description)}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Status Dropdown Menu - Rendered via Portal */}\n      {showStatusMenu && createPortal(\n        <div\n          ref={statusMenuRef}\n          className=\"fixed bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden z-[9999]\"\n          style={{\n            top: `${menuPosition.top}px`,\n            left: `${menuPosition.left}px`,\n            width: '224px',\n          }}\n        >\n          <div className=\"p-2\">\n            <div className=\"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide px-3 py-2\">\n              Change Status\n            </div>\n            {(Object.keys(STATUS_CONFIG) as TaskStatus[]).map((statusKey) => {\n              const config = STATUS_CONFIG[statusKey];\n              const isSelected = status === statusKey;\n\n              return (\n                <button\n                  key={statusKey}\n                  onClick={() => handleStatusChange(statusKey)}\n                  className={`w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-all ${\n                    isSelected\n                      ? `${config.bgColor} ${config.textColor} ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-800`\n                      : 'hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-700 dark:text-slate-200'\n                  }`}\n                >\n                  <div className={`w-5 h-5 rounded-full flex items-center justify-center ${config.color} shadow-sm`}>\n                    {config.icon}\n                  </div>\n                  <span className=\"flex-1 text-left\">{config.label}</span>\n                  {isSelected && (\n                    <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                    </svg>\n                  )}\n                </button>\n              );\n            })}\n          </div>\n        </div>,\n        document.body\n      )}\n    </div>\n  );\n};\n","/**\n * Reusable task list component\n */\n\nimport React from 'react';\nimport { Task } from '../../types';\nimport { TaskItem } from './TaskItem';\n\ninterface TaskListProps {\n  tasks: Task[];\n  onToggle: (id: string) => void;\n  onDelete: (id: string) => void;\n  onViewDetails?: (task: Task) => void;\n  emptyMessage?: string;\n  emptySubMessage?: string;\n}\n\nexport const TaskList: React.FC<TaskListProps> = ({\n  tasks,\n  onToggle,\n  onDelete,\n  onViewDetails,\n  emptyMessage = 'No tasks found',\n  emptySubMessage = 'Add a new task to get started',\n}) => {\n  if (tasks.length === 0) {\n    return (\n      <div className=\"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700\">\n        <div className=\"w-20 h-20 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <svg className=\"w-10 h-10 text-slate-300 dark:text-slate-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\n          </svg>\n        </div>\n        <p className=\"text-slate-500 dark:text-slate-400 text-lg font-medium\">{emptyMessage}</p>\n        <p className=\"text-slate-400 dark:text-slate-500 text-sm mt-1\">{emptySubMessage}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {tasks.map((task) => (\n        <TaskItem\n          key={task.id}\n          task={task}\n          onToggle={onToggle}\n          onDelete={onDelete}\n          onViewDetails={onViewDetails}\n        />\n      ))}\n    </div>\n  );\n};\n","/**\n * Task categories\n */\n\nexport const CATEGORIES = ['Personal', 'Work', 'Shopping', 'Health', 'Urgent'] as const;\nexport type Category = typeof CATEGORIES[number];\n","/**\n * Recurrence Utilities - Logic for calculating and managing recurring tasks\n */\n\nimport {\n  RecurrencePattern,\n  RecurrencePreset,\n  RecurringTaskInstance,\n  GeneratedInstance,\n} from '../types/recurrence.types';\n\n// Day names for weekly patterns\nexport const DAY_NAMES = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nexport const DAY_NAMES_FULL = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nexport const MONTH_NAMES = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n/**\n * Get the default recurrence pattern\n */\nexport function getDefaultPattern(): RecurrencePattern {\n  return {\n    frequency: 'daily',\n    interval: 1,\n  };\n}\n\n/**\n * Get pattern from preset\n */\nexport function getPatternFromPreset(preset: RecurrencePreset): RecurrencePattern {\n  switch (preset) {\n    case 'every_day':\n      return { frequency: 'daily', interval: 1 };\n    case 'every_weekday':\n      return { frequency: 'weekly', interval: 1, daysOfWeek: [1, 2, 3, 4, 5] };\n    case 'every_week':\n      return { frequency: 'weekly', interval: 1 };\n    case 'every_2_weeks':\n      return { frequency: 'weekly', interval: 2 };\n    case 'every_month':\n      return { frequency: 'monthly', interval: 1 };\n    case 'every_quarter':\n      return { frequency: 'monthly', interval: 3 };\n    case 'every_year':\n      return { frequency: 'yearly', interval: 1 };\n    case 'custom':\n    default:\n      return { frequency: 'custom', interval: 1 };\n  }\n}\n\n/**\n * Generate the next instance date from a pattern\n */\nexport function generateNextInstance(\n  pattern: RecurrencePattern,\n  fromDate: Date = new Date()\n): Date {\n  const next = new Date(fromDate);\n\n  switch (pattern.frequency) {\n    case 'daily':\n      next.setDate(next.getDate() + pattern.interval);\n      break;\n\n    case 'weekly':\n      if (pattern.daysOfWeek && pattern.daysOfWeek.length > 0) {\n        // Find the next day that matches daysOfWeek\n        const sortedDays = [...pattern.daysOfWeek].sort((a, b) => a - b);\n        const currentDay = next.getDay();\n\n        // Find next day in the same week\n        const nextDayInWeek = sortedDays.find(d => d > currentDay);\n\n        if (nextDayInWeek !== undefined) {\n          next.setDate(next.getDate() + (nextDayInWeek - currentDay));\n        } else {\n          // Move to next week and use first day\n          next.setDate(next.getDate() + (7 - currentDay) + sortedDays[0] + ((pattern.interval - 1) * 7));\n        }\n      } else {\n        next.setDate(next.getDate() + (7 * pattern.interval));\n      }\n      break;\n\n    case 'monthly':\n      if (pattern.dayOfMonth) {\n        next.setMonth(next.getMonth() + pattern.interval);\n        next.setDate(pattern.dayOfMonth);\n        // Handle months with fewer days\n        if (next.getDate() !== pattern.dayOfMonth) {\n          next.setDate(0); // Last day of previous month\n        }\n      } else {\n        next.setMonth(next.getMonth() + pattern.interval);\n      }\n      break;\n\n    case 'yearly':\n      if (pattern.monthOfYear) {\n        next.setFullYear(next.getFullYear() + pattern.interval);\n        next.setMonth(pattern.monthOfYear - 1);\n        if (pattern.dayOfMonth) {\n          next.setDate(pattern.dayOfMonth);\n        }\n      } else {\n        next.setFullYear(next.getFullYear() + pattern.interval);\n      }\n      break;\n\n    case 'custom':\n      if (pattern.customDays && pattern.customDays.length > 0) {\n        // customDays represents days from now\n        next.setDate(next.getDate() + pattern.customDays[0]);\n      }\n      break;\n  }\n\n  return next;\n}\n\n/**\n * Generate instances for a date range\n */\nexport function generateInstancesForRange(\n  pattern: RecurrencePattern,\n  startDate: Date,\n  endDate: Date,\n  maxInstances: number = 100\n): GeneratedInstance[] {\n  const instances: GeneratedInstance[] = [];\n  let currentDate = new Date(startDate);\n  let occurrenceNumber = 1;\n\n  // Check if we've exceeded maxOccurrences\n  const maxAllowed = pattern.maxOccurrences || maxInstances;\n\n  while (currentDate <= endDate && instances.length < maxAllowed) {\n    // Check end date constraint\n    if (pattern.endDate && currentDate > new Date(pattern.endDate)) {\n      break;\n    }\n\n    instances.push({\n      dueDate: new Date(currentDate),\n      occurrenceNumber,\n      isValid: true,\n    });\n\n    currentDate = generateNextInstance(pattern, currentDate);\n    occurrenceNumber++;\n  }\n\n  return instances;\n}\n\n/**\n * Get a human-readable description of the recurrence pattern\n */\nexport function getRecurrenceDescription(pattern: RecurrencePattern): string {\n  switch (pattern.frequency) {\n    case 'daily':\n      return pattern.interval === 1 ? 'Daily' : `Every ${pattern.interval} days`;\n\n    case 'weekly':\n      if (pattern.daysOfWeek && pattern.daysOfWeek.length > 0) {\n        if (pattern.daysOfWeek.length === 7) {\n          return 'Daily';\n        }\n        if (JSON.stringify(pattern.daysOfWeek.sort()) === JSON.stringify([1, 2, 3, 4, 5])) {\n          return 'Weekdays';\n        }\n        if (JSON.stringify(pattern.daysOfWeek.sort()) === JSON.stringify([0, 6])) {\n          return 'Weekends';\n        }\n        const days = pattern.daysOfWeek.map(d => DAY_NAMES[d]).join(', ');\n        return pattern.interval === 1 ? `Weekly on ${days}` : `Every ${pattern.interval} weeks on ${days}`;\n      }\n      return pattern.interval === 1 ? 'Weekly' : `Every ${pattern.interval} weeks`;\n\n    case 'monthly':\n      if (pattern.dayOfMonth) {\n        const ordinal = getOrdinal(pattern.dayOfMonth);\n        return pattern.interval === 1\n          ? `Monthly on the ${ordinal}`\n          : `Every ${pattern.interval} months on the ${ordinal}`;\n      }\n      return pattern.interval === 1 ? 'Monthly' : `Every ${pattern.interval} months`;\n\n    case 'yearly':\n      if (pattern.monthOfYear && pattern.dayOfMonth) {\n        const month = MONTH_NAMES[pattern.monthOfYear - 1];\n        return pattern.interval === 1\n          ? `Yearly on ${month} ${pattern.dayOfMonth}`\n          : `Every ${pattern.interval} years on ${month} ${pattern.dayOfMonth}`;\n      }\n      return pattern.interval === 1 ? 'Yearly' : `Every ${pattern.interval} years`;\n\n    case 'custom':\n      return 'Custom schedule';\n\n    default:\n      return 'Recurring';\n  }\n}\n\n/**\n * Get ordinal suffix for a number (1st, 2nd, 3rd, etc.)\n */\nexport function getOrdinal(n: number): string {\n  const s = ['th', 'st', 'nd', 'rd'];\n  const v = n % 100;\n  return n + (s[(v - 20) % 10] || s[v] || s[0]);\n}\n\n/**\n * Check if a task should generate a new instance\n */\nexport function shouldGenerateInstance(\n  instances: RecurringTaskInstance[],\n  pattern: RecurrencePattern,\n  checkDate: Date = new Date()\n): boolean {\n  if (!pattern) return false;\n\n  // Check if we've exceeded max occurrences\n  if (pattern.maxOccurrences && instances.length >= pattern.maxOccurrences) {\n    return false;\n  }\n\n  // Check if we've passed the end date\n  if (pattern.endDate && checkDate > new Date(pattern.endDate)) {\n    return false;\n  }\n\n  // Find the last instance\n  const lastInstance = instances.length > 0\n    ? instances.reduce((latest, current) =>\n      new Date(current.dueDate) > new Date(latest.dueDate) ? current : latest\n    )\n    : null;\n\n  if (!lastInstance) {\n    return true;\n  }\n\n  // Check if enough time has passed since the last instance\n  const lastDueDate = new Date(lastInstance.dueDate);\n  const nextDueDate = generateNextInstance(pattern, lastDueDate);\n\n  return checkDate >= nextDueDate;\n}\n\n/**\n * Create a new recurring task instance\n */\nexport function createRecurringInstance(\n  parentId: number,\n  dueDate: Date,\n  occurrenceNumber: number\n): RecurringTaskInstance {\n  return {\n    instanceId: `${parentId}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n    parentTaskId: parentId,\n    dueDate: dueDate.toISOString(),\n    generatedAt: Date.now(),\n    occurrenceNumber,\n    modified: false,\n    completed: false,\n  };\n}\n\n/**\n * Validate a recurrence pattern\n */\nexport function validatePattern(pattern: RecurrencePattern): { valid: boolean; errors: string[] } {\n  const errors: string[] = [];\n\n  if (!pattern.frequency) {\n    errors.push('Frequency is required');\n  }\n\n  if (pattern.interval < 1) {\n    errors.push('Interval must be at least 1');\n  }\n\n  if (pattern.frequency === 'weekly' && pattern.daysOfWeek) {\n    if (pattern.daysOfWeek.some(d => d < 0 || d > 6)) {\n      errors.push('Days of week must be between 0 (Sunday) and 6 (Saturday)');\n    }\n  }\n\n  if (pattern.frequency === 'monthly' && pattern.dayOfMonth) {\n    if (pattern.dayOfMonth < 1 || pattern.dayOfMonth > 31) {\n      errors.push('Day of month must be between 1 and 31');\n    }\n  }\n\n  if (pattern.frequency === 'yearly' && pattern.monthOfYear) {\n    if (pattern.monthOfYear < 1 || pattern.monthOfYear > 12) {\n      errors.push('Month of year must be between 1 and 12');\n    }\n  }\n\n  if (pattern.endDate && pattern.maxOccurrences) {\n    errors.push('Cannot have both end date and max occurrences');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n  };\n}\n\n/**\n * Get upcoming instances for preview\n */\nexport function getUpcomingInstances(\n  pattern: RecurrencePattern,\n  count: number = 5\n): Date[] {\n  const instances: Date[] = [];\n  let currentDate = new Date();\n\n  for (let i = 0; i < count; i++) {\n    currentDate = generateNextInstance(pattern, currentDate);\n    instances.push(new Date(currentDate));\n  }\n\n  return instances;\n}\n\n/**\n * Check if two patterns are equal\n */\nexport function patternsEqual(\n  a: RecurrencePattern | undefined,\n  b: RecurrencePattern | undefined\n): boolean {\n  if (!a && !b) return true;\n  if (!a || !b) return false;\n\n  return (\n    a.frequency === b.frequency &&\n    a.interval === b.interval &&\n    JSON.stringify(a.daysOfWeek?.sort()) === JSON.stringify(b.daysOfWeek?.sort()) &&\n    a.dayOfMonth === b.dayOfMonth &&\n    a.monthOfYear === b.monthOfYear &&\n    a.endDate === b.endDate &&\n    a.maxOccurrences === b.maxOccurrences\n  );\n}\n","/**\n * Natural Language Task Parser\n * Parses task text to extract metadata like due dates, priorities, categories\n *\n * Examples:\n * - \"Buy milk tomorrow\" -> dueDate: tomorrow\n * - \"Call mom on friday #personal high priority\" -> category: personal, priority: high, dueDate: friday\n * - \"Submit report by end of week\" -> dueDate: end of week\n */\n\nimport { TaskPriority } from '../../types';\n\nexport interface ParsedTask {\n  text: string;\n  dueDate?: string;\n  priority?: TaskPriority;\n  category?: string;\n  description?: string;\n}\n\n// Date patterns to recognize\nconst DATE_PATTERNS: { pattern: RegExp; resolver: () => Date }[] = [\n  // Relative dates\n  { pattern: /\\btoday\\b/i, resolver: () => new Date() },\n  { pattern: /\\btomorrow\\b/i, resolver: () => addDays(new Date(), 1) },\n  { pattern: /\\byesterday\\b/i, resolver: () => addDays(new Date(), -1) },\n\n  // Days of week\n  { pattern: /\\bnext\\s+monday\\b/i, resolver: () => getNextDayOfWeek(1) },\n  { pattern: /\\bnext\\s+tuesday\\b/i, resolver: () => getNextDayOfWeek(2) },\n  { pattern: /\\bnext\\s+wednesday\\b/i, resolver: () => getNextDayOfWeek(3) },\n  { pattern: /\\bnext\\s+thursday\\b/i, resolver: () => getNextDayOfWeek(4) },\n  { pattern: /\\bnext\\s+friday\\b/i, resolver: () => getNextDayOfWeek(5) },\n  { pattern: /\\bnext\\s+saturday\\b/i, resolver: () => getNextDayOfWeek(6) },\n  { pattern: /\\bnext\\s+sunday\\b/i, resolver: () => getNextDayOfWeek(0) },\n\n  // Short days\n  { pattern: /\\bmon\\b/i, resolver: () => getNextDayOfWeek(1) },\n  { pattern: /\\btue\\b/i, resolver: () => getNextDayOfWeek(2) },\n  { pattern: /\\bwed\\b/i, resolver: () => getNextDayOfWeek(3) },\n  { pattern: /\\bthu\\b/i, resolver: () => getNextDayOfWeek(4) },\n  { pattern: /\\bthurs\\b/i, resolver: () => getNextDayOfWeek(4) },\n  { pattern: /\\bfri\\b/i, resolver: () => getNextDayOfWeek(5) },\n  { pattern: /\\bsat\\b/i, resolver: () => getNextDayOfWeek(6) },\n  { pattern: /\\bsun\\b/i, resolver: () => getNextDayOfWeek(0) },\n\n  // Week references\n  { pattern: /\\bnext\\s+week\\b/i, resolver: () => addDays(new Date(), 7) },\n  { pattern: /\\bend\\s+of\\s+week\\b/i, resolver: () => getEndOfWeek() },\n  { pattern: /\\bthis\\s+weekend\\b/i, resolver: () => getNextDayOfWeek(6) },\n\n  // Month references\n  { pattern: /\\bnext\\s+month\\b/i, resolver: () => addMonths(new Date(), 1) },\n  { pattern: /\\bend\\s+of\\s+month\\b/i, resolver: () => getEndOfMonth() },\n\n  // Relative time\n  { pattern: /\\bin\\s+(\\d+)\\s+days?\\b/i, resolver: () => addDays(new Date(), 1) },\n  { pattern: /\\bin\\s+(\\d+)\\s+weeks?\\b/i, resolver: () => addDays(new Date(), 7) },\n];\n\n// Priority patterns\nconst PRIORITY_PATTERNS: { pattern: RegExp; priority: TaskPriority }[] = [\n  { pattern: /\\bhigh\\s+priority\\b/i, priority: 'high' },\n  { pattern: /\\burgent\\b/i, priority: 'high' },\n  { pattern: /\\basap\\b/i, priority: 'high' },\n  { pattern: /\\bimportant\\b/i, priority: 'high' },\n  { pattern: /\\b!!!+\\b/, priority: 'high' },\n  { pattern: /\\bcritical\\b/i, priority: 'high' },\n\n  { pattern: /\\bmedium\\s+priority\\b/i, priority: 'medium' },\n  { pattern: /\\bnormal\\b/i, priority: 'medium' },\n  { pattern: /\\b!!\\b/, priority: 'medium' },\n\n  { pattern: /\\blow\\s+priority\\b/i, priority: 'low' },\n  { pattern: /\\bwhenever\\b/i, priority: 'low' },\n  { pattern: /\\bsometime\\b/i, priority: 'low' },\n  { pattern: /\\b!\\b/, priority: 'low' },\n  { pattern: /\\bnot\\s+urgent\\b/i, priority: 'low' },\n];\n\n// Category patterns\nconst CATEGORY_PATTERNS: { pattern: RegExp; category: string }[] = [\n  { pattern: /#work\\b/i, category: 'work' },\n  { pattern: /#personal\\b/i, category: 'personal' },\n  { pattern: /#health\\b/i, category: 'health' },\n  { pattern: /#finance\\b/i, category: 'finance' },\n  { pattern: /#shopping\\b/i, category: 'shopping' },\n  { pattern: /#learning\\b/i, category: 'learning' },\n  { pattern: /#home\\b/i, category: 'home' },\n  { pattern: /#fitness\\b/i, category: 'health' },\n  { pattern: /#urgent\\b/i, category: 'work' },\n];\n\n// Helper functions\nfunction addDays(date: Date, days: number): Date {\n  const result = new Date(date);\n  result.setDate(result.getDate() + days);\n  return result;\n}\n\nfunction addMonths(date: Date, months: number): Date {\n  const result = new Date(date);\n  result.setMonth(result.getMonth() + months);\n  return result;\n}\n\nfunction getNextDayOfWeek(dayOfWeek: number): Date {\n  const today = new Date();\n  const result = new Date(today);\n  const currentDay = today.getDay();\n  const daysUntil = (dayOfWeek - currentDay + 7) % 7 || 7;\n  result.setDate(today.getDate() + daysUntil);\n  return result;\n}\n\nfunction getEndOfWeek(): Date {\n  const today = new Date();\n  const result = new Date(today);\n  const daysUntilFriday = (5 - today.getDay() + 7) % 7 || 7;\n  result.setDate(today.getDate() + daysUntilFriday);\n  return result;\n}\n\nfunction getEndOfMonth(): Date {\n  const today = new Date();\n  return new Date(today.getFullYear(), today.getMonth() + 1, 0);\n}\n\nfunction formatDateForInput(date: Date): string {\n  return date.toISOString().split('T')[0];\n}\n\n/**\n * Parse a natural language task string\n */\nexport function parseTask(input: string): ParsedTask {\n  let text = input.trim();\n  let dueDate: string | undefined;\n  let priority: TaskPriority | undefined;\n  let category: string | undefined;\n\n  // Extract \"by\" date patterns\n  const byPattern = /\\bby\\s+(.+?)(?=\\s+(?:#|!|priority|$))/i;\n  const byMatch = text.match(byPattern);\n  if (byMatch) {\n    const dateStr = byMatch[1];\n    const parsedDate = parseDateString(dateStr);\n    if (parsedDate) {\n      dueDate = formatDateForInput(parsedDate);\n      text = text.replace(byPattern, '').trim();\n    }\n  }\n\n  // Extract \"on\" date patterns\n  const onPattern = /\\bon\\s+(\\w+)(?=\\s|$)/i;\n  const onMatch = text.match(onPattern);\n  if (onMatch) {\n    const dateStr = onMatch[1];\n    const parsedDate = parseDateString(dateStr);\n    if (parsedDate) {\n      dueDate = formatDateForInput(parsedDate);\n      text = text.replace(onPattern, '').trim();\n    }\n  }\n\n  // Extract date patterns\n  for (const { pattern, resolver } of DATE_PATTERNS) {\n    const match = text.match(pattern);\n    if (match) {\n      const date = resolver();\n      dueDate = formatDateForInput(date);\n      text = text.replace(pattern, '').trim();\n    }\n  }\n\n  // Extract \"in X days/weeks\" with number\n  const inDaysMatch = text.match(/\\bin\\s+(\\d+)\\s+days?\\b/i);\n  if (inDaysMatch) {\n    const days = parseInt(inDaysMatch[1], 10);\n    dueDate = formatDateForInput(addDays(new Date(), days));\n    text = text.replace(/\\bin\\s+\\d+\\s+days?\\b/i, '').trim();\n  }\n\n  const inWeeksMatch = text.match(/\\bin\\s+(\\d+)\\s+weeks?\\b/i);\n  if (inWeeksMatch) {\n    const weeks = parseInt(inWeeksMatch[1], 10);\n    dueDate = formatDateForInput(addDays(new Date(), weeks * 7));\n    text = text.replace(/\\bin\\s+\\d+\\s+weeks?\\b/i, '').trim();\n  }\n\n  // Extract priority\n  for (const { pattern, priority: p } of PRIORITY_PATTERNS) {\n    if (pattern.test(text)) {\n      priority = p;\n      text = text.replace(pattern, '').trim();\n    }\n  }\n\n  // Extract category\n  for (const { pattern, category: c } of CATEGORY_PATTERNS) {\n    if (pattern.test(text)) {\n      category = c;\n      text = text.replace(pattern, '').trim();\n    }\n  }\n\n  // Clean up extra whitespace\n  text = text.replace(/\\s+/g, ' ').trim();\n\n  return {\n    text,\n    dueDate,\n    priority,\n    category,\n  };\n}\n\n/**\n * Parse a date string like \"monday\", \"next week\", etc.\n */\nfunction parseDateString(str: string): Date | null {\n  const lowerStr = str.toLowerCase().trim();\n\n  // Check predefined patterns\n  for (const { pattern, resolver } of DATE_PATTERNS) {\n    if (pattern.test(lowerStr)) {\n      return resolver();\n    }\n  }\n\n  // Try to parse as date\n  const parsed = new Date(str);\n  if (!isNaN(parsed.getTime())) {\n    return parsed;\n  }\n\n  return null;\n}\n\n/**\n * Get suggestions for task text as user types\n */\nexport function getTaskSuggestions(input: string): string[] {\n  const suggestions: string[] = [];\n\n  // Date suggestions\n  if (input.length > 3) {\n    const dateSuggestions = [\n      'today',\n      'tomorrow',\n      'next week',\n      'next monday',\n      'end of week',\n    ];\n\n    for (const ds of dateSuggestions) {\n      if (ds.startsWith(input.toLowerCase())) {\n        suggestions.push(ds);\n      }\n    }\n  }\n\n  // Priority suggestions\n  if (input.includes('!')) {\n    suggestions.push('high priority', 'medium priority', 'low priority');\n  }\n\n  // Category suggestions\n  if (input.includes('#')) {\n    suggestions.push('#work', '#personal', '#health', '#shopping');\n  }\n\n  return suggestions;\n}\n\n/**\n * Detect if input contains natural language patterns\n */\nexport function hasNaturalLanguage(input: string): boolean {\n  const patterns = [\n    /\\btomorrow\\b/i,\n    /\\btoday\\b/i,\n    /\\bnext\\s+\\w+\\b/i,\n    /\\bin\\s+\\d+\\s+(days?|weeks?)\\b/i,\n    /\\bby\\s+\\w+\\b/i,\n    /\\bon\\s+(mon|tue|wed|thu|fri|sat|sun)/i,\n    /#\\w+/,\n    /!{1,3}/,\n  ];\n\n  return patterns.some(p => p.test(input));\n}\n","/**\n * Smart Suggestions Utility\n * Provides intelligent suggestions for task breakdown, priorities, and scheduling\n */\n\nimport { TaskPriority } from '../../types';\n\n// Common task templates for breakdown\nconst BREAKDOWN_TEMPLATES: Record<string, string[]> = {\n  // Work tasks\n  'meeting': [\n    'Prepare agenda',\n    'Send calendar invite',\n    'Review previous notes',\n    'Prepare presentation',\n    'Send follow-up email',\n  ],\n  'presentation': [\n    'Outline key points',\n    'Create slides',\n    'Add visuals/diagrams',\n    'Practice delivery',\n    'Get feedback',\n  ],\n  'report': [\n    'Gather data',\n    'Create outline',\n    'Write draft',\n    'Review and edit',\n    'Get approval',\n  ],\n\n  // Personal tasks\n  'grocery': [\n    'Make shopping list',\n    'Check pantry',\n    'Get reusable bags',\n    'Plan meals for week',\n  ],\n  'travel': [\n    'Book flights',\n    'Reserve accommodation',\n    'Plan itinerary',\n    'Pack luggage',\n    'Check documents',\n  ],\n  'exercise': [\n    'Warm up',\n    'Main workout',\n    'Cool down',\n    'Track progress',\n  ],\n\n  // Home tasks\n  'clean': [\n    'Declutter surfaces',\n    'Dust furniture',\n    'Vacuum floors',\n    'Clean bathroom',\n    'Take out trash',\n  ],\n  'cook': [\n    'Find recipe',\n    'Get ingredients',\n    'Prep ingredients',\n    'Cook meal',\n    'Clean up',\n  ],\n};\n\n// Keywords to detect task type\nconst TASK_TYPE_KEYWORDS: Record<string, string[]> = {\n  'meeting': ['meeting', 'call', 'sync', 'standup', 'review'],\n  'presentation': ['presentation', 'slides', 'deck', 'demo'],\n  'report': ['report', 'document', 'write', 'draft'],\n  'grocery': ['grocery', 'shopping', 'buy', 'store'],\n  'travel': ['trip', 'travel', 'vacation', 'flight', 'hotel'],\n  'exercise': ['workout', 'exercise', 'gym', 'run', 'fitness'],\n  'clean': ['clean', 'tidy', 'organize', 'declutter'],\n  'cook': ['cook', 'bake', 'recipe', 'dinner', 'meal'],\n};\n\n// Priority suggestions based on keywords\nconst PRIORITY_KEYWORDS: Record<TaskPriority, string[]> = {\n  high: ['urgent', 'asap', 'critical', 'important', 'deadline', 'emergency', 'overdue'],\n  medium: ['soon', 'this week', 'moderate', 'normal'],\n  low: ['later', 'eventually', 'someday', 'when possible', 'optional'],\n};\n\n// Category suggestions based on keywords\nconst CATEGORY_KEYWORDS: Record<string, string[]> = {\n  work: ['meeting', 'report', 'deadline', 'client', 'project', 'email', 'presentation'],\n  personal: ['birthday', 'family', 'friend', 'hobby', 'personal'],\n  health: ['doctor', 'exercise', 'gym', 'medicine', 'appointment', 'workout'],\n  finance: ['bill', 'payment', 'budget', 'tax', 'invoice', 'bank'],\n  shopping: ['buy', 'purchase', 'order', 'store', 'grocery'],\n  home: ['clean', 'repair', 'maintenance', 'garden', 'laundry'],\n};\n\n/**\n * Get task breakdown suggestions based on task text\n */\nexport function getBreakdownSuggestions(taskText: string): string[] {\n  const lowerText = taskText.toLowerCase();\n\n  // Find matching task type\n  for (const [type, keywords] of Object.entries(TASK_TYPE_KEYWORDS)) {\n    if (keywords.some(kw => lowerText.includes(kw))) {\n      return BREAKDOWN_TEMPLATES[type] || [];\n    }\n  }\n\n  return [];\n}\n\n/**\n * Suggest priority based on task text\n */\nexport function suggestPriority(taskText: string): TaskPriority | null {\n  const lowerText = taskText.toLowerCase();\n\n  for (const [priority, keywords] of Object.entries(PRIORITY_KEYWORDS)) {\n    if (keywords.some(kw => lowerText.includes(kw))) {\n      return priority as TaskPriority;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Suggest category based on task text\n */\nexport function suggestCategory(taskText: string): string | null {\n  const lowerText = taskText.toLowerCase();\n\n  for (const [category, keywords] of Object.entries(CATEGORY_KEYWORDS)) {\n    if (keywords.some(kw => lowerText.includes(kw))) {\n      return category;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Suggest optimal time for task based on type\n */\nexport function suggestTime(taskText: string): { hour: number; reason: string } | null {\n  const lowerText = taskText.toLowerCase();\n\n  // Morning tasks\n  if (lowerText.includes('exercise') || lowerText.includes('workout') || lowerText.includes('gym')) {\n    return { hour: 7, reason: 'Best time for physical activity' };\n  }\n\n  // Deep work\n  if (lowerText.includes('focus') || lowerText.includes('deep work') || lowerText.includes('writing')) {\n    return { hour: 9, reason: 'Peak mental clarity in the morning' };\n  }\n\n  // Meetings\n  if (lowerText.includes('meeting') || lowerText.includes('call')) {\n    return { hour: 10, reason: 'Most people are available mid-morning' };\n  }\n\n  // Creative work\n  if (lowerText.includes('design') || lowerText.includes('creative') || lowerText.includes('brainstorm')) {\n    return { hour: 14, reason: 'Creative energy often peaks in afternoon' };\n  }\n\n  // Administrative\n  if (lowerText.includes('email') || lowerText.includes('admin') || lowerText.includes('review')) {\n    return { hour: 16, reason: 'Good time for administrative tasks' };\n  }\n\n  return null;\n}\n\n/**\n * Get all smart suggestions for a task\n */\nexport function getSmartSuggestions(taskText: string) {\n  return {\n    breakdown: getBreakdownSuggestions(taskText),\n    priority: suggestPriority(taskText),\n    category: suggestCategory(taskText),\n    time: suggestTime(taskText),\n  };\n}\n\n/**\n * Detect duplicate tasks\n */\nexport function findDuplicateTasks(newTask: string, existingTasks: string[]): string[] {\n  const lowerNew = newTask.toLowerCase();\n  const words = lowerNew.split(/\\s+/).filter(w => w.length > 3);\n\n  return existingTasks.filter(existing => {\n    const lowerExisting = existing.toLowerCase();\n    const matchCount = words.filter(w => lowerExisting.includes(w)).length;\n    return matchCount >= Math.ceil(words.length * 0.6);\n  });\n}\n\n/**\n * Suggest task templates based on time of day\n */\nexport function getTimeBasedSuggestions(): string[] {\n  const hour = new Date().getHours();\n\n  if (hour < 9) {\n    return [\n      'Review today\\'s priorities',\n      'Check calendar for meetings',\n      'Plan the day ahead',\n    ];\n  } else if (hour < 12) {\n    return [\n      'Complete most important task',\n      'Respond to urgent emails',\n      'Prepare for upcoming meetings',\n    ];\n  } else if (hour < 14) {\n    return [\n      'Take lunch break',\n      'Review morning progress',\n      'Plan afternoon tasks',\n    ];\n  } else if (hour < 17) {\n    return [\n      'Follow up on pending items',\n      'Review and update tasks',\n      'Prepare for tomorrow',\n    ];\n  } else {\n    return [\n      'Review day\\'s accomplishments',\n      'Plan tomorrow\\'s priorities',\n      'Clear inbox',\n    ];\n  }\n}\n\n/**\n * Weekly planning suggestions\n */\nexport function getWeeklyPlanningSuggestions(): string[] {\n  return [\n    'Review last week\\'s completed tasks',\n    'Set top 3 priorities for the week',\n    'Schedule important meetings',\n    'Block time for deep work',\n    'Plan personal/family time',\n    'Review long-term goals',\n  ];\n}\n","/**\n * Recurrence Constants - Presets and labels for recurring tasks\n */\n\nimport { RecurrencePreset, RecurrencePattern } from '../types/recurrence.types';\n\nexport interface RecurrencePresetOption {\n  id: RecurrencePreset;\n  label: string;\n  description: string;\n  icon: string;\n  pattern: RecurrencePattern;\n}\n\nexport const RECURRENCE_PRESETS: RecurrencePresetOption[] = [\n  {\n    id: 'every_day',\n    label: 'Daily',\n    description: 'Repeats every day',\n    icon: '',\n    pattern: { frequency: 'daily', interval: 1 },\n  },\n  {\n    id: 'every_weekday',\n    label: 'Weekdays',\n    description: 'Monday through Friday',\n    icon: '',\n    pattern: { frequency: 'weekly', interval: 1, daysOfWeek: [1, 2, 3, 4, 5] },\n  },\n  {\n    id: 'every_week',\n    label: 'Weekly',\n    description: 'Repeats every week',\n    icon: '',\n    pattern: { frequency: 'weekly', interval: 1 },\n  },\n  {\n    id: 'every_2_weeks',\n    label: 'Bi-weekly',\n    description: 'Every two weeks',\n    icon: '',\n    pattern: { frequency: 'weekly', interval: 2 },\n  },\n  {\n    id: 'every_month',\n    label: 'Monthly',\n    description: 'Repeats every month',\n    icon: '',\n    pattern: { frequency: 'monthly', interval: 1 },\n  },\n  {\n    id: 'every_quarter',\n    label: 'Quarterly',\n    description: 'Every three months',\n    icon: '',\n    pattern: { frequency: 'monthly', interval: 3 },\n  },\n  {\n    id: 'every_year',\n    label: 'Yearly',\n    description: 'Repeats every year',\n    icon: '',\n    pattern: { frequency: 'yearly', interval: 1 },\n  },\n  {\n    id: 'custom',\n    label: 'Custom',\n    description: 'Custom schedule',\n    icon: '',\n    pattern: { frequency: 'custom', interval: 1 },\n  },\n];\n\nexport const FREQUENCY_LABELS: Record<string, string> = {\n  daily: 'Day(s)',\n  weekly: 'Week(s)',\n  monthly: 'Month(s)',\n  yearly: 'Year(s)',\n  custom: 'Custom',\n};\n\nexport const DAYS_OF_WEEK_OPTIONS = [\n  { value: 0, label: 'Sun', fullLabel: 'Sunday' },\n  { value: 1, label: 'Mon', fullLabel: 'Monday' },\n  { value: 2, label: 'Tue', fullLabel: 'Tuesday' },\n  { value: 3, label: 'Wed', fullLabel: 'Wednesday' },\n  { value: 4, label: 'Thu', fullLabel: 'Thursday' },\n  { value: 5, label: 'Fri', fullLabel: 'Friday' },\n  { value: 6, label: 'Sat', fullLabel: 'Saturday' },\n];\n\nexport const MONTH_OPTIONS = [\n  { value: 1, label: 'January' },\n  { value: 2, label: 'February' },\n  { value: 3, label: 'March' },\n  { value: 4, label: 'April' },\n  { value: 5, label: 'May' },\n  { value: 6, label: 'June' },\n  { value: 7, label: 'July' },\n  { value: 8, label: 'August' },\n  { value: 9, label: 'September' },\n  { value: 10, label: 'October' },\n  { value: 11, label: 'November' },\n  { value: 12, label: 'December' },\n];\n\n// Generate day of month options (1-31)\nexport const DAY_OF_MONTH_OPTIONS = Array.from({ length: 31 }, (_, i) => ({\n  value: i + 1,\n  label: `${i + 1}`,\n}));\n\n// End type options for recurrence\nexport const END_TYPE_OPTIONS = [\n  { value: 'never', label: 'Never' },\n  { value: 'on_date', label: 'On date' },\n  { value: 'after_occurrences', label: 'After occurrences' },\n] as const;\n\nexport type EndType = typeof END_TYPE_OPTIONS[number]['value'];\n","/**\n * RecurrencePicker - UI for configuring task recurrence patterns\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useTheme } from '../../ThemeContext';\nimport { RecurrencePattern, RecurrencePreset } from '../../types/recurrence.types';\nimport {\n  getRecurrenceDescription,\n  getUpcomingInstances,\n  getDefaultPattern,\n} from '../../utils/recurrenceUtils';\nimport {\n  RECURRENCE_PRESETS,\n  FREQUENCY_LABELS,\n  DAYS_OF_WEEK_OPTIONS,\n  MONTH_OPTIONS,\n  DAY_OF_MONTH_OPTIONS,\n  END_TYPE_OPTIONS,\n  EndType,\n} from '../../constants/recurrence';\n\ninterface RecurrencePickerProps {\n  value?: RecurrencePattern | null;\n  onChange: (pattern: RecurrencePattern | null) => void;\n  startDate?: Date;\n}\n\nexport const RecurrencePicker: React.FC<RecurrencePickerProps> = ({\n  value,\n  onChange,\n  startDate = new Date(),\n}) => {\n  const { theme } = useTheme();\n  const [selectedPreset, setSelectedPreset] = useState<RecurrencePreset | null>(null);\n  const [endType, setEndType] = useState<EndType>('never');\n  const [showCustom, setShowCustom] = useState(false);\n\n  // Local state for custom pattern\n  const [customPattern, setCustomPattern] = useState<RecurrencePattern>(\n    value || getDefaultPattern()\n  );\n\n  // Sync local state with prop\n  useEffect(() => {\n    if (value) {\n      setCustomPattern(value);\n      if (value.endDate) {\n        setEndType('on_date');\n      } else if (value.maxOccurrences) {\n        setEndType('after_occurrences');\n      } else {\n        setEndType('never');\n      }\n    }\n  }, [value]);\n\n  // Handle preset selection\n  const handlePresetSelect = (preset: RecurrencePreset) => {\n    setSelectedPreset(preset);\n    const presetOption = RECURRENCE_PRESETS.find(p => p.id === preset);\n    if (presetOption) {\n      if (preset === 'custom') {\n        setShowCustom(true);\n      } else {\n        setShowCustom(false);\n        onChange(presetOption.pattern);\n      }\n    }\n  };\n\n  // Handle custom pattern changes\n  const handleCustomChange = (updates: Partial<RecurrencePattern>) => {\n    const newPattern = { ...customPattern, ...updates };\n    setCustomPattern(newPattern);\n    onChange(newPattern);\n  };\n\n  // Handle end type changes\n  const handleEndTypeChange = (type: EndType) => {\n    setEndType(type);\n    if (type === 'never') {\n      handleCustomChange({ endDate: undefined, maxOccurrences: undefined });\n    } else if (type === 'on_date') {\n      handleCustomChange({ maxOccurrences: undefined });\n    } else {\n      handleCustomChange({ endDate: undefined });\n    }\n  };\n\n  // Toggle days of week\n  const toggleDayOfWeek = (day: number) => {\n    const currentDays = customPattern.daysOfWeek || [];\n    const newDays = currentDays.includes(day)\n      ? currentDays.filter(d => d !== day)\n      : [...currentDays, day].sort();\n    handleCustomChange({ daysOfWeek: newDays });\n  };\n\n  // Get upcoming dates preview\n  const upcomingDates = value ? getUpcomingInstances(value, 3) : [];\n\n  // Clear recurrence\n  const handleClear = () => {\n    setSelectedPreset(null);\n    setShowCustom(false);\n    setCustomPattern(getDefaultPattern());\n    onChange(null);\n  };\n\n  return (\n    <div className={`p-4 rounded-xl ${theme === 'dark' ? 'bg-slate-700/50' : 'bg-slate-50'}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h4 className=\"text-sm font-semibold text-slate-700 dark:text-slate-300\">\n          Repeat\n        </h4>\n        {value && (\n          <button\n            onClick={handleClear}\n            className=\"text-xs text-slate-500 hover:text-rose-500 transition-colors\"\n          >\n            Clear\n          </button>\n        )}\n      </div>\n\n      {/* Preset Grid */}\n      <div className=\"grid grid-cols-4 gap-2 mb-4\">\n        {RECURRENCE_PRESETS.map(preset => (\n          <button\n            key={preset.id}\n            onClick={() => handlePresetSelect(preset.id)}\n            className={`\n              p-2 rounded-lg text-center transition-all text-xs\n              ${selectedPreset === preset.id\n                ? 'bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 ring-2 ring-indigo-400'\n                : 'bg-white dark:bg-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-500'\n              }\n            `}\n          >\n            <span className=\"block text-base mb-0.5\">{preset.icon}</span>\n            <span>{preset.label}</span>\n          </button>\n        ))}\n      </div>\n\n      {/* Custom Options */}\n      {showCustom && (\n        <div className=\"space-y-4 pt-4 border-t border-slate-200 dark:border-slate-600\">\n          {/* Frequency and Interval */}\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-xs text-slate-500 dark:text-slate-400\">Every</span>\n            <input\n              type=\"number\"\n              min={1}\n              max={99}\n              value={customPattern.interval}\n              onChange={e => handleCustomChange({ interval: parseInt(e.target.value) || 1 })}\n              className={`w-16 px-2 py-1 rounded text-sm text-center ${\n                theme === 'dark'\n                  ? 'bg-slate-600 text-slate-100 border-slate-500'\n                  : 'bg-white text-slate-800 border-slate-200'\n              } border`}\n            />\n            <select\n              value={customPattern.frequency}\n              onChange={e => handleCustomChange({ frequency: e.target.value as RecurrencePattern['frequency'] })}\n              className={`flex-1 px-2 py-1 rounded text-sm ${\n                theme === 'dark'\n                  ? 'bg-slate-600 text-slate-100 border-slate-500'\n                  : 'bg-white text-slate-800 border-slate-200'\n              } border`}\n            >\n              {Object.entries(FREQUENCY_LABELS).map(([value, label]) => (\n                <option key={value} value={value}>\n                  {label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Days of Week (for weekly) */}\n          {customPattern.frequency === 'weekly' && (\n            <div>\n              <span className=\"text-xs text-slate-500 dark:text-slate-400 mb-2 block\">\n                On days\n              </span>\n              <div className=\"flex gap-1\">\n                {DAYS_OF_WEEK_OPTIONS.map(day => (\n                  <button\n                    key={day.value}\n                    onClick={() => toggleDayOfWeek(day.value)}\n                    className={`\n                      w-8 h-8 rounded text-xs font-medium transition-all\n                      ${customPattern.daysOfWeek?.includes(day.value)\n                        ? 'bg-indigo-500 text-white'\n                        : 'bg-white dark:bg-slate-600 text-slate-600 dark:text-slate-300 hover:bg-indigo-100 dark:hover:bg-slate-500'\n                      }\n                    `}\n                    title={day.fullLabel}\n                  >\n                    {day.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Day of Month (for monthly) */}\n          {customPattern.frequency === 'monthly' && (\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-xs text-slate-500 dark:text-slate-400\">On day</span>\n              <select\n                value={customPattern.dayOfMonth || 1}\n                onChange={e => handleCustomChange({ dayOfMonth: parseInt(e.target.value) })}\n                className={`flex-1 px-2 py-1 rounded text-sm ${\n                  theme === 'dark'\n                    ? 'bg-slate-600 text-slate-100 border-slate-500'\n                    : 'bg-white text-slate-800 border-slate-200'\n                } border`}\n              >\n                {DAY_OF_MONTH_OPTIONS.map(day => (\n                  <option key={day.value} value={day.value}>\n                    {day.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* Month and Day (for yearly) */}\n          {customPattern.frequency === 'yearly' && (\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-xs text-slate-500 dark:text-slate-400\">In</span>\n              <select\n                value={customPattern.monthOfYear || 1}\n                onChange={e => handleCustomChange({ monthOfYear: parseInt(e.target.value) })}\n                className={`flex-1 px-2 py-1 rounded text-sm ${\n                  theme === 'dark'\n                    ? 'bg-slate-600 text-slate-100 border-slate-500'\n                    : 'bg-white text-slate-800 border-slate-200'\n                } border`}\n              >\n                {MONTH_OPTIONS.map(month => (\n                  <option key={month.value} value={month.value}>\n                    {month.label}\n                  </option>\n                ))}\n              </select>\n              <span className=\"text-xs text-slate-500 dark:text-slate-400\">on day</span>\n              <select\n                value={customPattern.dayOfMonth || 1}\n                onChange={e => handleCustomChange({ dayOfMonth: parseInt(e.target.value) })}\n                className={`w-16 px-2 py-1 rounded text-sm ${\n                  theme === 'dark'\n                    ? 'bg-slate-600 text-slate-100 border-slate-500'\n                    : 'bg-white text-slate-800 border-slate-200'\n                } border`}\n              >\n                {DAY_OF_MONTH_OPTIONS.slice(0, 28).map(day => (\n                  <option key={day.value} value={day.value}>\n                    {day.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* End Options */}\n          <div className=\"pt-2 border-t border-slate-200 dark:border-slate-600\">\n            <span className=\"text-xs text-slate-500 dark:text-slate-400 mb-2 block\">\n              Ends\n            </span>\n            <div className=\"flex gap-2 mb-2\">\n              {END_TYPE_OPTIONS.map(option => (\n                <button\n                  key={option.value}\n                  onClick={() => handleEndTypeChange(option.value)}\n                  className={`\n                    flex-1 py-1.5 px-2 rounded text-xs font-medium transition-all\n                    ${endType === option.value\n                      ? 'bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300'\n                      : 'bg-white dark:bg-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-100'\n                    }\n                  `}\n                >\n                  {option.label}\n                </button>\n              ))}\n            </div>\n\n            {/* End Date Input */}\n            {endType === 'on_date' && (\n              <input\n                type=\"date\"\n                value={customPattern.endDate || ''}\n                onChange={e => handleCustomChange({ endDate: e.target.value })}\n                min={startDate.toISOString().split('T')[0]}\n                className={`w-full px-2 py-1 rounded text-sm ${\n                  theme === 'dark'\n                    ? 'bg-slate-600 text-slate-100 border-slate-500'\n                    : 'bg-white text-slate-800 border-slate-200'\n                } border`}\n              />\n            )}\n\n            {/* Max Occurrences Input */}\n            {endType === 'after_occurrences' && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-xs text-slate-500 dark:text-slate-400\">After</span>\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={999}\n                  value={customPattern.maxOccurrences || 10}\n                  onChange={e => handleCustomChange({ maxOccurrences: parseInt(e.target.value) || 10 })}\n                  className={`w-20 px-2 py-1 rounded text-sm text-center ${\n                    theme === 'dark'\n                      ? 'bg-slate-600 text-slate-100 border-slate-500'\n                      : 'bg-white text-slate-800 border-slate-200'\n                  } border`}\n                />\n                <span className=\"text-xs text-slate-500 dark:text-slate-400\">times</span>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Preview */}\n      {value && upcomingDates.length > 0 && (\n        <div className=\"mt-4 pt-4 border-t border-slate-200 dark:border-slate-600\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <svg className=\"w-4 h-4 text-indigo-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n            </svg>\n            <span className=\"text-xs font-medium text-slate-600 dark:text-slate-400\">\n              {getRecurrenceDescription(value)}\n            </span>\n          </div>\n          <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n            <span className=\"font-medium\">Upcoming:</span>\n            <ul className=\"mt-1 space-y-0.5\">\n              {upcomingDates.map((date, index) => (\n                <li key={index} className=\"flex items-center gap-2\">\n                  <span className=\"w-1.5 h-1.5 rounded-full bg-indigo-400\" />\n                  {date.toLocaleDateString('en-US', {\n                    weekday: 'short',\n                    month: 'short',\n                    day: 'numeric',\n                  })}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","/**\n * TemplateGallery - Browse and select task templates\n */\n\nimport React, { useState, useMemo } from 'react';\nimport { useTheme } from '../../ThemeContext';\nimport { useTemplates, CATEGORY_CONFIG } from '../../contexts/TemplateContext';\nimport { TaskTemplate, TemplateCategory } from '../../types/template.types';\nimport { RecurrencePattern } from '../../types/recurrence.types';\nimport { interpolateVariables, validateVariables, getDefaultVariableValues } from '../../utils/templateUtils';\n\ninterface TemplateGalleryProps {\n  onSelect: (taskData: Partial<{\n    text: string;\n    description: string;\n    priority: 'low' | 'medium' | 'high';\n    category: string;\n    subtasks: { id: string; text: string; completed: boolean }[];\n    recurrencePattern: RecurrencePattern;\n    dueDate: string;\n  }>) => void;\n  onClose: () => void;\n}\n\nexport const TemplateGallery: React.FC<TemplateGalleryProps> = ({ onSelect, onClose }) => {\n  const { theme } = useTheme();\n  const { templates, categories, incrementUsage, getMostUsed } = useTemplates();\n\n  const [selectedCategory, setSelectedCategory] = useState<TemplateCategory | 'all'>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedTemplate, setSelectedTemplate] = useState<TaskTemplate | null>(null);\n  const [variableValues, setVariableValues] = useState<Record<string, string>>({});\n  const [errors, setErrors] = useState<string[]>([]);\n\n  // Filter templates\n  const filteredTemplates = useMemo(() => {\n    let filtered = templates;\n\n    if (selectedCategory !== 'all') {\n      filtered = filtered.filter(t => t.category === selectedCategory);\n    }\n\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        t =>\n          t.name.toLowerCase().includes(query) ||\n          t.description.toLowerCase().includes(query)\n      );\n    }\n\n    return filtered;\n  }, [templates, selectedCategory, searchQuery]);\n\n  // Get most used templates for quick access\n  const mostUsed = useMemo(() => getMostUsed(4), [getMostUsed]);\n\n  // Handle template selection\n  const handleTemplateClick = (template: TaskTemplate) => {\n    setSelectedTemplate(template);\n    setVariableValues(getDefaultVariableValues(template.variables));\n    setErrors([]);\n  };\n\n  // Handle variable input change\n  const handleVariableChange = (name: string, value: string) => {\n    setVariableValues(prev => ({ ...prev, [name]: value }));\n    setErrors([]);\n  };\n\n  // Apply template\n  const handleApplyTemplate = () => {\n    if (!selectedTemplate) return;\n\n    // Validate required variables\n    const validation = validateVariables(selectedTemplate.variables, variableValues);\n    if (!validation.valid) {\n      setErrors(validation.missing.map(m => `${m} is required`));\n      return;\n    }\n\n    // Interpolate variables\n    const text = interpolateVariables(selectedTemplate.template.text, variableValues);\n    const description = selectedTemplate.template.description\n      ? interpolateVariables(selectedTemplate.template.description, variableValues)\n      : '';\n\n    // Create subtasks with IDs\n    const subtasks = selectedTemplate.template.subtasks?.map((st, index) => ({\n      id: `subtask-${Date.now()}-${index}`,\n      text: interpolateVariables(st.text, variableValues),\n      completed: st.completed,\n    }));\n\n    // Increment usage\n    incrementUsage(selectedTemplate.id);\n\n    // Return task data\n    onSelect({\n      text,\n      description,\n      priority: selectedTemplate.template.priority,\n      category: selectedTemplate.template.category,\n      subtasks: subtasks || [],\n      recurrencePattern: selectedTemplate.template.recurrencePattern,\n      dueDate: selectedTemplate.template.dueDate,\n    });\n\n    onClose();\n  };\n\n  // Back to gallery\n  const handleBack = () => {\n    setSelectedTemplate(null);\n    setVariableValues({});\n    setErrors([]);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className={`w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-2xl ${\n        theme === 'dark' ? 'bg-slate-800' : 'bg-white'\n      } shadow-2xl flex flex-col`}>\n        {/* Header */}\n        <div className={`p-6 border-b ${theme === 'dark' ? 'border-slate-700' : 'border-slate-200'}`}>\n          <div className=\"flex items-center justify-between\">\n            {selectedTemplate ? (\n              <button\n                onClick={handleBack}\n                className=\"flex items-center gap-2 text-slate-600 dark:text-slate-300 hover:text-slate-800 dark:hover:text-white\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n                Back to Templates\n              </button>\n            ) : (\n              <h2 className=\"text-xl font-bold text-slate-800 dark:text-slate-100\">\n                Choose a Template\n              </h2>\n            )}\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n            >\n              <svg className=\"w-5 h-5 text-slate-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-y-auto\">\n          {selectedTemplate ? (\n            // Template Detail View\n            <div className=\"p-6\">\n              <div className=\"flex items-start gap-4 mb-6\">\n                <span className=\"text-4xl\">{selectedTemplate.icon}</span>\n                <div>\n                  <h3 className=\"text-xl font-semibold text-slate-800 dark:text-slate-100\">\n                    {selectedTemplate.name}\n                  </h3>\n                  <p className=\"text-slate-500 dark:text-slate-400\">{selectedTemplate.description}</p>\n                </div>\n              </div>\n\n              {/* Variables */}\n              {selectedTemplate.variables && selectedTemplate.variables.length > 0 && (\n                <div className=\"mb-6\">\n                  <h4 className=\"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3\">\n                    Fill in the details\n                  </h4>\n                  <div className=\"space-y-4\">\n                    {selectedTemplate.variables.map((variable) => (\n                      <div key={variable.name}>\n                        <label className=\"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\n                          {variable.name}\n                          {variable.required && <span className=\"text-red-500 ml-1\">*</span>}\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={variableValues[variable.name] || ''}\n                          onChange={(e) => handleVariableChange(variable.name, e.target.value)}\n                          placeholder={variable.placeholder}\n                          className={`w-full px-4 py-2 rounded-lg border ${\n                            theme === 'dark'\n                              ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400'\n                              : 'bg-white border-slate-300 text-slate-800 placeholder-slate-400'\n                          } focus:outline-none focus:ring-2 focus:ring-indigo-500`}\n                        />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Errors */}\n              {errors.length > 0 && (\n                <div className=\"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800\">\n                  {errors.map((error, i) => (\n                    <p key={i} className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n                  ))}\n                </div>\n              )}\n\n              {/* Preview */}\n              <div className={`p-4 rounded-xl ${theme === 'dark' ? 'bg-slate-700/50' : 'bg-slate-50'}`}>\n                <h4 className=\"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">Preview</h4>\n                <p className=\"font-medium text-slate-800 dark:text-slate-100\">\n                  {interpolateVariables(selectedTemplate.template.text, variableValues)}\n                </p>\n                {selectedTemplate.template.subtasks && (\n                  <div className=\"mt-3 space-y-1\">\n                    {selectedTemplate.template.subtasks.slice(0, 3).map((st, i) => (\n                      <div key={i} className=\"flex items-center gap-2 text-sm text-slate-500\">\n                        <div className=\"w-4 h-4 rounded border border-slate-300 dark:border-slate-500\" />\n                        {interpolateVariables(st.text, variableValues)}\n                      </div>\n                    ))}\n                    {selectedTemplate.template.subtasks.length > 3 && (\n                      <p className=\"text-xs text-slate-400\">\n                        +{selectedTemplate.template.subtasks.length - 3} more subtasks\n                      </p>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            // Gallery View\n            <div className=\"p-6\">\n              {/* Search */}\n              <div className=\"mb-6\">\n                <input\n                  type=\"text\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  placeholder=\"Search templates...\"\n                  className={`w-full px-4 py-3 rounded-xl border ${\n                    theme === 'dark'\n                      ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400'\n                      : 'bg-white border-slate-300 text-slate-800 placeholder-slate-400'\n                  } focus:outline-none focus:ring-2 focus:ring-indigo-500`}\n                />\n              </div>\n\n              {/* Category Filter */}\n              <div className=\"flex flex-wrap gap-2 mb-6\">\n                <button\n                  onClick={() => setSelectedCategory('all')}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                    selectedCategory === 'all'\n                      ? 'bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300'\n                      : 'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400'\n                  }`}\n                >\n                  All\n                </button>\n                {categories.map(({ category, count }) => (\n                  <button\n                    key={category}\n                    onClick={() => setSelectedCategory(category)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                      selectedCategory === category\n                        ? 'bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300'\n                        : 'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400'\n                    }`}\n                  >\n                    {CATEGORY_CONFIG[category].icon} {CATEGORY_CONFIG[category].label}\n                  </button>\n                ))}\n              </div>\n\n              {/* Most Used (if available and no search) */}\n              {!searchQuery && selectedCategory === 'all' && mostUsed.length > 0 && (\n                <div className=\"mb-6\">\n                  <h3 className=\"text-sm font-medium text-slate-500 dark:text-slate-400 mb-3\">\n                    Most Used\n                  </h3>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                    {mostUsed.map(template => (\n                      <button\n                        key={template.id}\n                        onClick={() => handleTemplateClick(template)}\n                        className={`p-4 rounded-xl text-left transition-all hover:scale-105 ${\n                          theme === 'dark'\n                            ? 'bg-slate-700/50 hover:bg-slate-700'\n                            : 'bg-slate-50 hover:bg-slate-100'\n                        }`}\n                      >\n                        <span className=\"text-2xl mb-2 block\">{template.icon}</span>\n                        <p className=\"font-medium text-slate-800 dark:text-slate-100 text-sm truncate\">\n                          {template.name}\n                        </p>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Templates Grid */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {filteredTemplates.map(template => (\n                  <button\n                    key={template.id}\n                    onClick={() => handleTemplateClick(template)}\n                    className={`p-4 rounded-xl text-left transition-all hover:scale-[1.02] ${\n                      theme === 'dark'\n                        ? 'bg-slate-700/50 hover:bg-slate-700 border border-slate-600'\n                        : 'bg-white hover:bg-slate-50 border border-slate-200'\n                    }`}\n                  >\n                    <div className=\"flex items-start gap-3\">\n                      <span className=\"text-2xl\">{template.icon}</span>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2\">\n                          <p className=\"font-medium text-slate-800 dark:text-slate-100 truncate\">\n                            {template.name}\n                          </p>\n                          {template.usageCount > 0 && (\n                            <span className=\"text-xs bg-indigo-100 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 px-2 py-0.5 rounded-full\">\n                              {template.usageCount}x\n                            </span>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-slate-500 dark:text-slate-400 truncate\">\n                          {template.description}\n                        </p>\n                        <div className=\"flex items-center gap-2 mt-2\">\n                          <span className=\"text-xs text-slate-400 dark:text-slate-500\">\n                            {CATEGORY_CONFIG[template.category].label}\n                          </span>\n                          {template.template.subtasks && (\n                            <span className=\"text-xs text-slate-400 dark:text-slate-500\">\n                               {template.template.subtasks.length} subtasks\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </button>\n                ))}\n              </div>\n\n              {filteredTemplates.length === 0 && (\n                <div className=\"text-center py-12 text-slate-400\">\n                  No templates found\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Footer */}\n        {selectedTemplate && (\n          <div className={`p-4 border-t ${theme === 'dark' ? 'border-slate-700' : 'border-slate-200'} flex justify-end gap-3`}>\n            <button\n              onClick={onClose}\n              className={`px-4 py-2 rounded-lg ${\n                theme === 'dark'\n                  ? 'bg-slate-700 hover:bg-slate-600 text-slate-300'\n                  : 'bg-slate-100 hover:bg-slate-200 text-slate-700'\n              }`}\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleApplyTemplate}\n              className=\"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-medium\"\n            >\n              Use Template\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","/**\n * CreateTemplateModal - Create a custom template from a task\n */\n\nimport React, { useState } from 'react';\nimport { useTheme } from '../../ThemeContext';\nimport { useTemplates, CATEGORY_CONFIG } from '../../contexts/TemplateContext';\nimport { Task } from '../../types/task.types';\nimport { TemplateCategory } from '../../types/template.types';\n\ninterface CreateTemplateModalProps {\n  task: Task;\n  onClose: () => void;\n  onSuccess?: () => void;\n}\n\nconst EMOJI_OPTIONS = ['', '', '', '', '', '', '', '', '', ''];\n\nexport const CreateTemplateModal: React.FC<CreateTemplateModalProps> = ({\n  task,\n  onClose,\n  onSuccess,\n}) => {\n  const { theme } = useTheme();\n  const { createFromTask } = useTemplates();\n\n  const [name, setName] = useState(task.text);\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState<TemplateCategory>('custom');\n  const [icon, setIcon] = useState('');\n  const [error, setError] = useState('');\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!name.trim()) {\n      setError('Template name is required');\n      return;\n    }\n\n    createFromTask(task, name.trim(), description.trim(), category, icon);\n    onSuccess?.();\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className={`w-full max-w-md rounded-2xl ${\n        theme === 'dark' ? 'bg-slate-800' : 'bg-white'\n      } shadow-2xl`}>\n        {/* Header */}\n        <div className={`p-6 border-b ${theme === 'dark' ? 'border-slate-700' : 'border-slate-200'}`}>\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-xl font-bold text-slate-800 dark:text-slate-100\">\n              Save as Template\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n            >\n              <svg className=\"w-5 h-5 text-slate-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Content */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          {/* Preview */}\n          <div className={`p-4 rounded-xl ${theme === 'dark' ? 'bg-slate-700/50' : 'bg-slate-50'}`}>\n            <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-1\">Creating template from:</p>\n            <p className=\"font-medium text-slate-800 dark:text-slate-100\">{task.text}</p>\n            {task.subtasks && task.subtasks.length > 0 && (\n              <p className=\"text-xs text-slate-400 mt-1\">\n                Includes {task.subtasks.length} subtasks\n              </p>\n            )}\n          </div>\n\n          {/* Icon Selection */}\n          <div>\n            <label className=\"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2\">\n              Icon\n            </label>\n            <div className=\"flex flex-wrap gap-2\">\n              {EMOJI_OPTIONS.map(emoji => (\n                <button\n                  key={emoji}\n                  type=\"button\"\n                  onClick={() => setIcon(emoji)}\n                  className={`w-10 h-10 text-xl rounded-lg transition-all ${\n                    icon === emoji\n                      ? 'bg-indigo-100 dark:bg-indigo-900/40 ring-2 ring-indigo-500'\n                      : 'bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600'\n                  }`}\n                >\n                  {emoji}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Name */}\n          <div>\n            <label className=\"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\n              Template Name *\n            </label>\n            <input\n              type=\"text\"\n              value={name}\n              onChange={(e) => { setName(e.target.value); setError(''); }}\n              placeholder=\"e.g., Weekly Review\"\n              className={`w-full px-4 py-2 rounded-lg border ${\n                theme === 'dark'\n                  ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400'\n                  : 'bg-white border-slate-300 text-slate-800 placeholder-slate-400'\n              } focus:outline-none focus:ring-2 focus:ring-indigo-500 ${\n                error ? 'border-red-500' : ''\n              }`}\n            />\n            {error && <p className=\"text-sm text-red-500 mt-1\">{error}</p>}\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\n              Description\n            </label>\n            <textarea\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              placeholder=\"What is this template for?\"\n              rows={2}\n              className={`w-full px-4 py-2 rounded-lg border ${\n                theme === 'dark'\n                  ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400'\n                  : 'bg-white border-slate-300 text-slate-800 placeholder-slate-400'\n              } focus:outline-none focus:ring-2 focus:ring-indigo-500`}\n            />\n          </div>\n\n          {/* Category */}\n          <div>\n            <label className=\"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2\">\n              Category\n            </label>\n            <div className=\"grid grid-cols-3 gap-2\">\n              {(['work', 'personal', 'health', 'finance', 'learning', 'custom'] as const).map(cat => (\n                <button\n                  key={cat}\n                  type=\"button\"\n                  onClick={() => setCategory(cat)}\n                  className={`px-3 py-2 rounded-lg text-sm font-medium transition-all ${\n                    category === cat\n                      ? 'bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300'\n                      : 'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400'\n                  }`}\n                >\n                  {CATEGORY_CONFIG[cat].icon} {CATEGORY_CONFIG[cat].label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex justify-end gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className={`px-4 py-2 rounded-lg ${\n                theme === 'dark'\n                  ? 'bg-slate-700 hover:bg-slate-600 text-slate-300'\n                  : 'bg-slate-100 hover:bg-slate-200 text-slate-700'\n              }`}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-medium\"\n            >\n              Create Template\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n","/**\n * TaskBreakdown - AI-powered task breakdown suggestions\n * Helps users break complex tasks into manageable subtasks\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { getBreakdownSuggestions, getSmartSuggestions } from '../../utils/ai/smartSuggestions';\n\ninterface SubtaskSuggestion {\n  id: string;\n  text: string;\n  selected: boolean;\n}\n\ninterface TaskBreakdownProps {\n  taskText: string;\n  onApply: (subtasks: string[]) => void;\n  onClose: () => void;\n  existingSubtasks?: string[];\n}\n\nexport const TaskBreakdown: React.FC<TaskBreakdownProps> = ({\n  taskText,\n  onApply,\n  onClose,\n  existingSubtasks = [],\n}) => {\n  const [suggestions, setSuggestions] = useState<SubtaskSuggestion[]>([]);\n  const [customSubtask, setCustomSubtask] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Generate suggestions based on task text\n  useEffect(() => {\n    setIsLoading(true);\n\n    // Simulate slight delay for better UX\n    const timer = setTimeout(() => {\n      const breakdown = getBreakdownSuggestions(taskText);\n      const smartSuggestions = getSmartSuggestions(taskText);\n\n      // Combine breakdown suggestions with time-based suggestions\n      const allSuggestions = [\n        ...breakdown.map((text, idx) => ({\n          id: `breakdown-${idx}`,\n          text,\n          selected: !existingSubtasks.includes(text),\n        })),\n      ];\n\n      // Add time-based suggestions as subtasks if relevant\n      if (smartSuggestions.time) {\n        allSuggestions.push({\n          id: 'time-suggestion',\n          text: `${smartSuggestions.time.reason} - ${taskText}`,\n          selected: false,\n        });\n      }\n\n      setSuggestions(allSuggestions);\n      setIsLoading(false);\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [taskText, existingSubtasks]);\n\n  // Toggle suggestion selection\n  const toggleSuggestion = (id: string) => {\n    setSuggestions(prev =>\n      prev.map(s => (s.id === id ? { ...s, selected: !s.selected } : s))\n    );\n  };\n\n  // Add custom subtask\n  const addCustomSubtask = () => {\n    if (!customSubtask.trim()) return;\n\n    setSuggestions(prev => [\n      ...prev,\n      {\n        id: `custom-${Date.now()}`,\n        text: customSubtask.trim(),\n        selected: true,\n      },\n    ]);\n    setCustomSubtask('');\n  };\n\n  // Apply selected subtasks\n  const handleApply = () => {\n    const selectedSubtasks = suggestions\n      .filter(s => s.selected)\n      .map(s => s.text);\n\n    onApply(selectedSubtasks);\n  };\n\n  // Select all / none\n  const selectedCount = suggestions.filter(s => s.selected).length;\n  const allSelected = selectedCount === suggestions.length && suggestions.length > 0;\n\n  const toggleSelectAll = () => {\n    setSuggestions(prev =>\n      prev.map(s => ({ ...s, selected: !allSelected }))\n    );\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-slate-900/50 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div className=\"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n        {/* Header */}\n        <div className=\"px-6 py-4 border-b border-slate-200 dark:border-slate-700\">\n          <h3 className=\"text-lg font-semibold text-slate-900 dark:text-white\">\n            Break Down Task\n          </h3>\n          <p className=\"mt-1 text-sm text-slate-500 dark:text-slate-400\">\n            \"{taskText.slice(0, 50)}{taskText.length > 50 ? '...' : ''}\"\n          </p>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 max-h-[60vh] overflow-y-auto\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\" />\n              <span className=\"ml-3 text-slate-500 dark:text-slate-400\">\n                Analyzing task...\n              </span>\n            </div>\n          ) : suggestions.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"inline-flex items-center justify-center w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full mb-4\">\n                <svg className=\"w-8 h-8 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                </svg>\n              </div>\n              <p className=\"text-slate-500 dark:text-slate-400 mb-4\">\n                No suggestions available for this task type.\n              </p>\n              <p className=\"text-sm text-slate-400 dark:text-slate-500\">\n                Add custom subtasks below.\n              </p>\n            </div>\n          ) : (\n            <>\n              {/* Select all */}\n              <div className=\"flex items-center justify-between mb-4\">\n                <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n                  Suggested subtasks\n                </span>\n                <button\n                  onClick={toggleSelectAll}\n                  className=\"text-sm text-indigo-600 dark:text-indigo-400 hover:underline\"\n                >\n                  {allSelected ? 'Deselect all' : 'Select all'}\n                </button>\n              </div>\n\n              {/* Suggestions list */}\n              <div className=\"space-y-2\">\n                {suggestions.map((suggestion) => (\n                  <label\n                    key={suggestion.id}\n                    className={`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-colors ${\n                      suggestion.selected\n                        ? 'bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800'\n                        : 'bg-slate-50 dark:bg-slate-700/50 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700'\n                    }`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={suggestion.selected}\n                      onChange={() => toggleSuggestion(suggestion.id)}\n                      className=\"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500\"\n                    />\n                    <span className={`flex-1 text-sm ${\n                      suggestion.selected\n                        ? 'text-slate-900 dark:text-white'\n                        : 'text-slate-600 dark:text-slate-300'\n                    }`}>\n                      {suggestion.text}\n                    </span>\n                    {suggestion.id.startsWith('breakdown') && (\n                      <span className=\"text-xs text-indigo-500 dark:text-indigo-400 bg-indigo-100 dark:bg-indigo-900/50 px-2 py-0.5 rounded-full\">\n                        AI\n                      </span>\n                    )}\n                  </label>\n                ))}\n              </div>\n            </>\n          )}\n\n          {/* Add custom subtask */}\n          <div className=\"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700\">\n            <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n              Add custom subtask\n            </label>\n            <div className=\"flex gap-2\">\n              <input\n                type=\"text\"\n                value={customSubtask}\n                onChange={(e) => setCustomSubtask(e.target.value)}\n                onKeyDown={(e) => e.key === 'Enter' && addCustomSubtask()}\n                placeholder=\"Enter subtask...\"\n                className=\"flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n              <button\n                onClick={addCustomSubtask}\n                disabled={!customSubtask.trim()}\n                className=\"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                Add\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"px-6 py-4 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-700 flex items-center justify-between\">\n          <span className=\"text-sm text-slate-500 dark:text-slate-400\">\n            {selectedCount} subtask{selectedCount !== 1 ? 's' : ''} selected\n          </span>\n          <div className=\"flex gap-3\">\n            <button\n              onClick={onClose}\n              className=\"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleApply}\n              disabled={selectedCount === 0}\n              className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              Apply Subtasks\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Hook to use task breakdown\n */\nexport const useTaskBreakdown = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [currentTask, setCurrentTask] = useState<{\n    text: string;\n    onApply: (subtasks: string[]) => void;\n  } | null>(null);\n\n  const open = (taskText: string, onApply: (subtasks: string[]) => void) => {\n    setCurrentTask({ text: taskText, onApply });\n    setIsOpen(true);\n  };\n\n  const close = () => {\n    setIsOpen(false);\n    setCurrentTask(null);\n  };\n\n  const handleApply = (subtasks: string[]) => {\n    if (currentTask) {\n      currentTask.onApply(subtasks);\n    }\n    close();\n  };\n\n  return {\n    isOpen,\n    taskText: currentTask?.text || '',\n    open,\n    close,\n    handleApply,\n  };\n};\n\nexport default TaskBreakdown;\n","/**\n * Add task form component with enhanced description, recurrence, template, and smart features\n */\n\nimport React, { useState, useRef, useCallback } from 'react';\nimport { TaskPriority } from '../../types';\nimport { RecurrencePattern } from '../../types/recurrence.types';\nimport { CATEGORIES, Category } from '../../constants/categories';\nimport { PRIORITIES } from '../../constants/priorities';\nimport { countWords, estimateReadingTime } from '../../utils/taskUtils';\nimport { getRecurrenceDescription } from '../../utils/recurrenceUtils';\nimport { parseTask, hasNaturalLanguage } from '../../utils/nlp/taskParser';\nimport { getBreakdownSuggestions } from '../../utils/ai/smartSuggestions';\nimport { RecurrencePicker } from './RecurrencePicker';\nimport { TemplateGallery } from '../templates';\nimport { TaskBreakdown, useTaskBreakdown } from './TaskBreakdown';\n\ninterface AddTaskFormProps {\n  onAdd: (task: {\n    text: string;\n    description: string;\n    priority: TaskPriority;\n    category: string;\n    dueDate: string;\n    isRecurring?: boolean;\n    recurrencePattern?: RecurrencePattern;\n    subtasks?: { id: string; text: string; completed: boolean }[];\n  }) => void;\n  showDescription?: boolean;\n}\n\nconst MAX_DESCRIPTION_LENGTH = 1000;\n\nexport const AddTaskForm: React.FC<AddTaskFormProps> = ({\n  onAdd,\n  showDescription = true,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [inputDescription, setInputDescription] = useState('');\n  const [priority, setPriority] = useState<TaskPriority>('medium');\n  const [category, setCategory] = useState<Category>(CATEGORIES[0]);\n  const [dueDate, setDueDate] = useState('');\n  const [isRecurring, setIsRecurring] = useState(false);\n  const [recurrencePattern, setRecurrencePattern] = useState<RecurrencePattern | null>(null);\n  const [showRecurrencePicker, setShowRecurrencePicker] = useState(false);\n  const [showTemplateGallery, setShowTemplateGallery] = useState(false);\n  const [subtasks, setSubtasks] = useState<{ id: string; text: string; completed: boolean }[]>([]);\n  const [showSmartHints, setShowSmartHints] = useState(true);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Task breakdown hook\n  const taskBreakdown = useTaskBreakdown();\n\n  // Check if input has natural language patterns\n  const hasNLP = hasNaturalLanguage(inputValue);\n  const parsedTask = inputValue.trim().length > 2 ? parseTask(inputValue) : null;\n  const hasBreakdownSuggestions = inputValue.trim().length > 3 && getBreakdownSuggestions(inputValue).length > 0;\n\n  const handleSubmit = () => {\n    if (inputValue.trim() === '') return;\n\n    // Use parsed data if natural language detected, otherwise use form values\n    const parsedPriority = parsedTask?.priority || priority;\n    const parsedCategory = parsedTask?.category || category;\n    const parsedDueDate = parsedTask?.dueDate || dueDate;\n    const taskText = parsedTask?.text || inputValue.trim();\n\n    onAdd({\n      text: taskText,\n      description: inputDescription.trim(),\n      priority: parsedPriority,\n      category: parsedCategory,\n      dueDate: parsedDueDate,\n      isRecurring: isRecurring && !!recurrencePattern,\n      recurrencePattern: isRecurring && recurrencePattern ? recurrencePattern : undefined,\n      subtasks: subtasks.length > 0 ? subtasks : undefined,\n    });\n\n    resetForm();\n    inputRef.current?.focus();\n  };\n\n  // Handle applying subtasks from breakdown\n  const handleApplyBreakdown = useCallback((newSubtasks: string[]) => {\n    const formattedSubtasks = newSubtasks.map((text, index) => ({\n      id: `st-${Date.now()}-${index}`,\n      text,\n      completed: false,\n    }));\n    setSubtasks(prev => [...prev, ...formattedSubtasks]);\n  }, []);\n\n  // Open breakdown modal\n  const handleOpenBreakdown = () => {\n    const taskText = parsedTask?.text || inputValue.trim();\n    taskBreakdown.open(taskText, handleApplyBreakdown);\n  };\n\n  const resetForm = () => {\n    setInputValue('');\n    setInputDescription('');\n    setPriority('medium');\n    setCategory(CATEGORIES[0]);\n    setDueDate('');\n    setIsRecurring(false);\n    setRecurrencePattern(null);\n    setShowRecurrencePicker(false);\n    setSubtasks([]);\n  };\n\n  const handleQuickAdd = () => {\n    setIsExpanded(true);\n    setTimeout(() => inputRef.current?.focus(), 100);\n  };\n\n  const handleTemplateSelect = (templateData: Partial<{\n    text: string;\n    description: string;\n    priority: 'low' | 'medium' | 'high';\n    category: string;\n    subtasks: { id: string; text: string; completed: boolean }[];\n    recurrencePattern: RecurrencePattern;\n    dueDate: string;\n  }>) => {\n    setIsExpanded(true);\n    if (templateData.text) setInputValue(templateData.text);\n    if (templateData.description) setInputDescription(templateData.description);\n    if (templateData.priority) setPriority(templateData.priority);\n    if (templateData.category && CATEGORIES.includes(templateData.category as Category)) {\n      setCategory(templateData.category as Category);\n    }\n    if (templateData.subtasks) setSubtasks(templateData.subtasks);\n    if (templateData.recurrencePattern) {\n      setRecurrencePattern(templateData.recurrencePattern);\n      setIsRecurring(true);\n    }\n    if (templateData.dueDate) setDueDate(templateData.dueDate);\n    setShowTemplateGallery(false);\n    setTimeout(() => inputRef.current?.focus(), 100);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  const handleToggleRecurring = () => {\n    if (!isRecurring) {\n      setIsRecurring(true);\n      setShowRecurrencePicker(true);\n    } else {\n      setIsRecurring(false);\n      setShowRecurrencePicker(false);\n      setRecurrencePattern(null);\n    }\n  };\n\n  const descriptionLength = inputDescription.length;\n  const isNearLimit = descriptionLength > MAX_DESCRIPTION_LENGTH * 0.8;\n  const isAtLimit = descriptionLength >= MAX_DESCRIPTION_LENGTH;\n\n  return (\n    <>\n      {/* Collapsed View */}\n      {!isExpanded && (\n        <div className=\"flex gap-3\">\n          <button\n            onClick={handleQuickAdd}\n            className=\"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-4 rounded-2xl font-semibold transition-all hover:shadow-lg hover:shadow-indigo-200 dark:hover:shadow-indigo-900/50 active:scale-[0.98] flex items-center justify-center gap-3 shadow-md\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n            </svg>\n            <span className=\"text-lg\">Add New Task</span>\n          </button>\n          <button\n            data-action=\"open-templates\"\n            onClick={() => setShowTemplateGallery(true)}\n            className=\"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white px-5 py-4 rounded-2xl font-semibold transition-all hover:shadow-lg hover:shadow-emerald-200 dark:hover:shadow-emerald-900/50 active:scale-[0.98] flex items-center justify-center gap-2 shadow-md\"\n            title=\"Choose from templates - Meeting prep, Bug reports, and more!\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" />\n            </svg>\n            <span className=\"text-lg\">Templates</span>\n          </button>\n        </div>\n      )}\n\n      {/* Expanded View */}\n      {isExpanded && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 overflow-hidden\">\n          {/* Header with collapse button */}\n          <div className=\"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-b border-slate-100 dark:border-slate-700\">\n            <h3 className=\"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n              <svg className=\"w-5 h-5 text-indigo-600 dark:text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n              </svg>\n              New Task\n            </h3>\n            <button\n              onClick={() => setIsExpanded(false)}\n              className=\"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              title=\"Collapse\"\n            >\n              <svg className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div className=\"p-6 space-y-4\">\n            <div className=\"space-y-2\">\n              {/* Main Task Input */}\n              <div className=\"space-y-2\">\n                <div className=\"flex gap-2\">\n                  <div className=\"flex-1 relative\">\n                    {/* Smart indicator */}\n                    {hasNLP && (\n                      <div className=\"absolute left-3 top-1/2 -translate-y-1/2 z-10\">\n                        <span className=\"inline-flex items-center justify-center w-6 h-6 bg-indigo-100 dark:bg-indigo-900/50 rounded-full\" title=\"Smart input detected\">\n                          <svg className=\"w-4 h-4 text-indigo-600 dark:text-indigo-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path d=\"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z\" />\n                          </svg>\n                        </span>\n                      </div>\n                    )}\n                    <input\n                      ref={inputRef}\n                      type=\"text\"\n                      value={inputValue}\n                      onChange={(e) => setInputValue(e.target.value)}\n                      onKeyPress={handleKeyPress}\n                      placeholder=\"What needs to be done? (try 'Buy milk tomorrow #shopping high priority')\"\n                      className={`w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none transition-all text-slate-700 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 text-lg bg-white dark:bg-slate-700 ${hasNLP ? 'pl-12' : ''}`}\n                    />\n                  </div>\n                  <button\n                    onClick={handleSubmit}\n                    disabled={!inputValue.trim()}\n                    className=\"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all hover:shadow-lg hover:shadow-indigo-200 dark:hover:shadow-indigo-900/50 active:scale-95 flex items-center justify-center min-w-[80px] shadow-md disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100\"\n                  >\n                    Add\n                  </button>\n                </div>\n\n                {/* Smart Input Parsed Preview */}\n                {parsedTask && (parsedTask.dueDate || parsedTask.priority || parsedTask.category) && (\n                  <div className=\"flex flex-wrap gap-2 px-1\">\n                    {parsedTask.dueDate && (\n                      <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full\">\n                        <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                        </svg>\n                        Due: {parsedTask.dueDate}\n                      </span>\n                    )}\n                    {parsedTask.priority && (\n                      <span className={`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${\n                        parsedTask.priority === 'high'\n                          ? 'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300'\n                          : parsedTask.priority === 'medium'\n                          ? 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300'\n                          : 'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300'\n                      }`}>\n                        <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9\" />\n                        </svg>\n                        {parsedTask.priority} priority\n                      </span>\n                    )}\n                    {parsedTask.category && (\n                      <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full\">\n                        <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n                        </svg>\n                        #{parsedTask.category}\n                      </span>\n                    )}\n                  </div>\n                )}\n\n                {/* AI Breakdown Button */}\n                {hasBreakdownSuggestions && (\n                  <button\n                    onClick={handleOpenBreakdown}\n                    className=\"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 rounded-lg text-sm text-amber-700 dark:text-amber-300 hover:from-amber-100 hover:to-orange-100 dark:hover:from-amber-900/30 dark:hover:to-orange-900/30 transition-colors\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                    </svg>\n                    AI suggests breaking this into subtasks\n                    <span className=\"text-xs bg-amber-200 dark:bg-amber-800 px-1.5 py-0.5 rounded\">Click to view</span>\n                  </button>\n                )}\n\n                {/* Smart Hints (collapsible) */}\n                {showSmartHints && inputValue.length === 0 && (\n                  <div className=\"flex items-start gap-2 p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800\">\n                    <svg className=\"w-5 h-5 text-indigo-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm font-medium text-indigo-700 dark:text-indigo-300\">Smart Input Tips</p>\n                      <p className=\"text-xs text-indigo-600 dark:text-indigo-400 mt-1\">\n                        Type naturally! Try: <span className=\"font-mono bg-white dark:bg-slate-800 px-1 rounded\">\"Meeting tomorrow #work high priority\"</span>\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => setShowSmartHints(false)}\n                      className=\"text-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-200\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                )}\n              </div>\n\n              {/* Enhanced Description Section */}\n              {showDescription && (\n                <div className=\"space-y-2\">\n                  {/* Decorative Header */}\n                  <div className=\"flex items-center gap-2 mb-3 pt-2\">\n                    <div className={`h-0.5 flex-1 transition-colors duration-300 ${inputDescription ? 'bg-gradient-to-r from-indigo-500 to-purple-500' : 'bg-slate-200 dark:bg-slate-600'}`} />\n                    <span className={`text-xs font-semibold uppercase tracking-wider transition-colors duration-300 ${inputDescription ? 'text-indigo-600 dark:text-indigo-400' : 'text-slate-400 dark:text-slate-500'}`}>\n                      Optional Details\n                    </span>\n                    <div className={`h-0.5 flex-1 transition-colors duration-300 ${inputDescription ? 'bg-gradient-to-l from-indigo-500 to-purple-500' : 'bg-slate-200 dark:bg-slate-600'}`} />\n                  </div>\n\n                  {/* Description Textarea with Enhanced Features */}\n                  <div className=\"relative\">\n                    <textarea\n                      value={inputDescription}\n                      onChange={(e) => setInputDescription(e.target.value.slice(0, MAX_DESCRIPTION_LENGTH))}\n                      placeholder=\"Add context, notes, or steps to complete this task...\n\n Tips:\n Break down complex tasks into steps\n Add links, reference materials\n Include acceptance criteria\"\n                      rows={inputDescription ? 4 : 3}\n                      className={`w-full px-4 py-3 rounded-xl border transition-all text-slate-600 dark:text-slate-300 placeholder-slate-400 dark:placeholder-slate-500 resize-none bg-slate-50 dark:bg-slate-700/50 focus:bg-white dark:focus:bg-slate-700 ${\n                        isAtLimit\n                          ? 'border-rose-300 dark:border-rose-500 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 dark:focus:ring-rose-900/50'\n                          : isNearLimit\n                          ? 'border-amber-300 dark:border-amber-500 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-900/50'\n                          : 'border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50'\n                      } outline-none`}\n                    />\n\n                    {/* Character Counter */}\n                    {descriptionLength > 0 && (\n                      <div className={`absolute bottom-2 right-2 text-xs font-medium transition-colors ${\n                        isAtLimit\n                          ? 'text-rose-500'\n                          : isNearLimit\n                          ? 'text-amber-500'\n                          : 'text-slate-400 dark:text-slate-500'\n                      }`}>\n                        {descriptionLength}/{MAX_DESCRIPTION_LENGTH}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Stats Bar */}\n                  {inputDescription && (\n                    <div className=\"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 pt-1\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"flex items-center gap-1\">\n                          <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                          </svg>\n                          {countWords(inputDescription)} words\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                          </svg>\n                          {estimateReadingTime(inputDescription)}\n                        </span>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Options Grid */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\">\n                {/* Priority Selection */}\n                <div className=\"space-y-1\">\n                  <label className=\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\">\n                    Priority\n                  </label>\n                  <div className=\"flex gap-2\">\n                    {(['low', 'medium', 'high'] as const).map((p) => (\n                      <button\n                        key={p}\n                        onClick={() => setPriority(p)}\n                        className={`px-3 py-2 rounded-lg text-sm font-medium transition-all flex-1 ${\n                          priority === p\n                            ? `${PRIORITIES[p].badge} shadow-sm`\n                            : 'bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-600'\n                        }`}\n                      >\n                        {PRIORITIES[p].label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Category Selection */}\n                <div className=\"space-y-1\">\n                  <label className=\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\">\n                    Category\n                  </label>\n                  <select\n                    value={category}\n                    onChange={(e) => setCategory(e.target.value as Category)}\n                    className=\"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none bg-white dark:bg-slate-700\"\n                  >\n                    {CATEGORIES.map((c) => (\n                      <option key={c} value={c}>\n                        {c}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Due Date Selection */}\n                <div className=\"space-y-1\">\n                  <label className=\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\">\n                    Due Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={dueDate}\n                    onChange={(e) => setDueDate(e.target.value)}\n                    min={new Date().toISOString().split('T')[0]}\n                    className=\"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none bg-white dark:bg-slate-700\"\n                  />\n                </div>\n              </div>\n\n              {/* Prominent Recurring Task Toggle */}\n              <div className=\"pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\">\n                <button\n                  onClick={handleToggleRecurring}\n                  className={`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all ${\n                    isRecurring\n                      ? 'bg-indigo-100 dark:bg-indigo-900/40 border-2 border-indigo-400 dark:border-indigo-500'\n                      : 'bg-slate-50 dark:bg-slate-700/50 border-2 border-dashed border-slate-200 dark:border-slate-600 hover:border-indigo-300 dark:hover:border-indigo-500'\n                  }`}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className={`p-2 rounded-lg ${\n                      isRecurring\n                        ? 'bg-indigo-500 text-white'\n                        : 'bg-slate-200 dark:bg-slate-600 text-slate-500 dark:text-slate-400'\n                    }`}>\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                      </svg>\n                    </div>\n                    <div className=\"text-left\">\n                      <span className={`font-semibold ${isRecurring ? 'text-indigo-700 dark:text-indigo-300' : 'text-slate-700 dark:text-slate-300'}`}>\n                        Make this a recurring task\n                      </span>\n                      {isRecurring && recurrencePattern && (\n                        <p className=\"text-sm text-indigo-600 dark:text-indigo-400 mt-0.5\">\n                          {getRecurrenceDescription(recurrencePattern)}\n                        </p>\n                      )}\n                      {!isRecurring && (\n                        <p className=\"text-xs text-slate-500 dark:text-slate-400 mt-0.5\">\n                          Daily, weekly, monthly, or custom schedule\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                  <div className={`flex items-center gap-2 ${\n                    isRecurring ? 'text-indigo-600 dark:text-indigo-400' : 'text-slate-400'\n                  }`}>\n                    {isRecurring && (\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setShowRecurrencePicker(!showRecurrencePicker);\n                        }}\n                        className=\"px-3 py-1 text-sm font-medium rounded-lg bg-indigo-200 dark:bg-indigo-800 hover:bg-indigo-300 dark:hover:bg-indigo-700 transition-colors\"\n                      >\n                        {showRecurrencePicker ? 'Hide' : 'Edit'}\n                      </button>\n                    )}\n                    <div className={`w-10 h-6 rounded-full transition-all ${\n                      isRecurring ? 'bg-indigo-500' : 'bg-slate-300 dark:bg-slate-600'\n                    }`}>\n                      <div className={`w-5 h-5 rounded-full bg-white shadow-md transform transition-transform mt-0.5 ${\n                        isRecurring ? 'translate-x-4.5 ml-0.5' : 'translate-x-0.5'\n                      }`} />\n                    </div>\n                  </div>\n                </button>\n\n                {/* Recurrence Picker (when expanded) */}\n                {isRecurring && showRecurrencePicker && (\n                  <div className=\"mt-3 animate-in slide-in-from-top-2 fade-in duration-200\">\n                    <RecurrencePicker\n                      value={recurrencePattern}\n                      onChange={(pattern) => setRecurrencePattern(pattern)}\n                      startDate={dueDate ? new Date(dueDate) : new Date()}\n                    />\n                  </div>\n                )}\n              </div>\n\n              {/* Subtasks Preview */}\n              {subtasks.length > 0 && (\n                <div className=\"pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\">\n                      Subtasks ({subtasks.filter(s => s.completed).length}/{subtasks.length})\n                    </span>\n                    <button\n                      onClick={() => setSubtasks([])}\n                      className=\"text-xs text-slate-400 hover:text-red-500 transition-colors\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                  <div className=\"space-y-1 max-h-32 overflow-y-auto\">\n                    {subtasks.map((st, index) => (\n                      <div key={st.id} className=\"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300\">\n                        <div className={`w-4 h-4 rounded border flex-shrink-0 flex items-center justify-center ${\n                          st.completed\n                            ? 'bg-indigo-500 border-indigo-500 text-white'\n                            : 'border-slate-300 dark:border-slate-500'\n                        }`}>\n                          {st.completed && (\n                            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                            </svg>\n                          )}\n                        </div>\n                        <span className={st.completed ? 'line-through text-slate-400' : ''}>\n                          {st.text}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Quick Tips Footer */}\n              {showDescription && !inputValue && (\n                <div className=\"flex items-center gap-2 text-xs text-slate-400 dark:text-slate-500 pt-2 border-t border-slate-50 dark:border-slate-700\">\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <span>\n                    <strong>Pro tip:</strong> Use Shift+Enter to add a new line, Enter to submit task\n                  </span>\n                </div>\n              )}\n\n              {/* Use Template Link (when expanded) */}\n              {isExpanded && (\n                <div className=\"pt-2 border-t border-slate-50 dark:border-slate-700\">\n                  <button\n                    onClick={() => setShowTemplateGallery(true)}\n                    className=\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" />\n                    </svg>\n                    Choose from templates\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Template Gallery Modal */}\n      {showTemplateGallery && (\n        <TemplateGallery\n          onSelect={handleTemplateSelect}\n          onClose={() => setShowTemplateGallery(false)}\n        />\n      )}\n\n      {/* Task Breakdown Modal */}\n      {taskBreakdown.isOpen && (\n        <TaskBreakdown\n          taskText={taskBreakdown.taskText}\n          onApply={taskBreakdown.handleApply}\n          onClose={taskBreakdown.close}\n          existingSubtasks={subtasks.map(s => s.text)}\n        />\n      )}\n    </>\n  );\n};\n","/**\n * Task filters component\n */\n\nimport React from 'react';\nimport { FilterType } from '../../hooks/useFilters';\n\ninterface TaskFiltersProps {\n  filter: FilterType;\n  onFilterChange: (filter: FilterType) => void;\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n  taskCount?: number;\n}\n\nexport const TaskFilters: React.FC<TaskFiltersProps> = ({\n  filter,\n  onFilterChange,\n  searchQuery,\n  onSearchChange,\n  taskCount,\n}) => {\n  return (\n    <div className=\"flex flex-col md:flex-row gap-3 justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700\">\n      <div className=\"flex gap-2 flex-wrap\">\n        {(['all', 'active', 'completed'] as const).map((f) => (\n          <button\n            key={f}\n            onClick={() => onFilterChange(f)}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n              filter === f\n                ? 'bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 shadow-sm'\n                : 'text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700'\n            }`}\n          >\n            {f.charAt(0).toUpperCase() + f.slice(1)}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"flex items-center gap-3\">\n        <div className=\"relative w-full md:w-64\">\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={(e) => onSearchChange(e.target.value)}\n            placeholder=\"Search tasks...\"\n            className=\"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none text-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700\"\n          />\n          <svg\n            className=\"w-4 h-4 text-slate-400 dark:text-slate-500 absolute left-3 top-2.5\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n          </svg>\n        </div>\n\n        {taskCount !== undefined && (\n          <div className=\"text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap\">\n            {taskCount} task{taskCount !== 1 && 's'}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","/**\n * TaskGroup - Groups tasks by priority for better organization\n */\n\nimport React from 'react';\nimport { Task, TaskStatus } from '../../types';\nimport { TaskItem } from './TaskItem';\n\ninterface TaskGroupProps {\n  tasks: Task[];\n  onToggle: (id: string) => void;\n  onStatusChange?: (id: string, status: TaskStatus) => void;\n  onDelete: (id: string) => void;\n  onViewDetails: (task: Task) => void;\n  title: string;\n  icon: string;\n  colorClass: string;\n  bgColorClass: string;\n  borderColorClass: string;\n  emptyMessage?: string;\n}\n\nexport const TaskGroup: React.FC<TaskGroupProps> = ({\n  tasks,\n  onToggle,\n  onStatusChange,\n  onDelete,\n  onViewDetails,\n  title,\n  icon,\n  colorClass,\n  bgColorClass,\n  borderColorClass,\n  emptyMessage,\n}) => {\n  if (tasks.length === 0 && emptyMessage) {\n    return null;\n  }\n\n  return (\n    <div className=\"mb-6\">\n      {/* Group Header */}\n      <div className=\"flex items-center gap-2 mb-3\">\n        <span className=\"text-2xl\">{icon}</span>\n        <h3 className={`text-lg font-bold ${colorClass}`}>\n          {title}\n        </h3>\n        <span className={`px-2 py-1 rounded-lg ${bgColorClass} ${colorClass} text-xs font-bold`}>\n          {tasks.length}\n        </span>\n      </div>\n\n      {/* Tasks in this group */}\n      <div className={`space-y-2 pl-2 border-l-4 ${borderColorClass}`}>\n        {tasks.length === 0 ? (\n          <div className=\"text-sm text-slate-500 dark:text-slate-400 italic py-2 pl-4\">\n            {emptyMessage}\n          </div>\n        ) : (\n          tasks.map((task) => (\n            <TaskItem\n              key={task.id}\n              task={task}\n              onToggle={onToggle}\n              onStatusChange={onStatusChange}\n              onDelete={onDelete}\n              onViewDetails={onViewDetails}\n              showExpandButton={true}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\n/**\n * TaskGroupList - Groups all tasks by priority\n */\n\ninterface TaskGroupListProps {\n  tasks: Task[];\n  onToggle: (id: string) => void;\n  onStatusChange?: (id: string, status: TaskStatus) => void;\n  onDelete: (id: string) => void;\n  onViewDetails: (task: Task) => void;\n  showCompleted?: boolean;\n  showInProgress?: boolean;\n}\n\nexport const TaskGroupList: React.FC<TaskGroupListProps> = ({\n  tasks,\n  onToggle,\n  onStatusChange,\n  onDelete,\n  onViewDetails,\n  showCompleted = false,\n  showInProgress = false,\n}) => {\n  // Import helper function\n  const getTaskStatus = (task: Task): TaskStatus => {\n    if (task.status) return task.status;\n    return task.completed ? 'completed' : 'pending';\n  };\n\n  // Separate tasks by priority and status\n  const highPriorityTasks = tasks.filter(t => t.priority === 'high' && !getTaskStatus(t).includes('completed'));\n  const mediumPriorityTasks = tasks.filter(t => t.priority === 'medium' && !getTaskStatus(t).includes('completed'));\n  const lowPriorityTasks = tasks.filter(t => t.priority === 'low' && !getTaskStatus(t).includes('completed'));\n\n  // For completed view, we don't group by priority\n  if (showCompleted) {\n    const completedTasks = tasks.filter(t => getTaskStatus(t) === 'completed');\n    if (completedTasks.length === 0) {\n      return (\n        <div className=\"text-center py-12 text-slate-500 dark:text-slate-400\">\n          <svg className=\"w-16 h-16 mx-auto mb-4 text-slate-300 dark:text-slate-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <p className=\"text-lg font-medium\">No completed tasks yet</p>\n          <p className=\"text-sm mt-1\">Complete some tasks to see them here</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"space-y-3\">\n        {completedTasks.map((task) => (\n          <TaskItem\n            key={task.id}\n            task={task}\n            onToggle={onToggle}\n            onStatusChange={onStatusChange}\n            onDelete={onDelete}\n            onViewDetails={onViewDetails}\n            showExpandButton={false}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  // For in-progress view\n  if (showInProgress) {\n    const inProgressTasks = tasks.filter(t => getTaskStatus(t) === 'in_progress');\n    if (inProgressTasks.length === 0) {\n      return (\n        <div className=\"text-center py-12 text-slate-500 dark:text-slate-400\">\n          <svg className=\"w-16 h-16 mx-auto mb-4 text-blue-300 dark:text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <p className=\"text-lg font-medium\">No tasks in progress</p>\n          <p className=\"text-sm mt-1\">Start working on a task to see it here</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"space-y-3\">\n        {inProgressTasks.map((task) => (\n          <TaskItem\n            key={task.id}\n            task={task}\n            onToggle={onToggle}\n            onStatusChange={onStatusChange}\n            onDelete={onDelete}\n            onViewDetails={onViewDetails}\n            showExpandButton={true}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  // For pending tasks, group by priority\n  const totalPending = highPriorityTasks.length + mediumPriorityTasks.length + lowPriorityTasks.length;\n\n  if (totalPending === 0) {\n    return (\n      <div className=\"text-center py-12 text-slate-500 dark:text-slate-400\">\n        <svg className=\"w-16 h-16 mx-auto mb-4 text-emerald-300 dark:text-emerald-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n        <p className=\"text-lg font-medium\">All caught up!</p>\n        <p className=\"text-sm mt-1\">No pending tasks</p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <TaskGroup\n        tasks={highPriorityTasks}\n        onToggle={onToggle}\n        onStatusChange={onStatusChange}\n        onDelete={onDelete}\n        onViewDetails={onViewDetails}\n        title=\"High Priority\"\n        icon=\"\"\n        colorClass=\"text-rose-600 dark:text-rose-400\"\n        bgColorClass=\"bg-rose-100 dark:bg-rose-900/30\"\n        borderColorClass=\"border-rose-400\"\n        emptyMessage=\"No high priority tasks\"\n      />\n\n      <TaskGroup\n        tasks={mediumPriorityTasks}\n        onToggle={onToggle}\n        onStatusChange={onStatusChange}\n        onDelete={onDelete}\n        onViewDetails={onViewDetails}\n        title=\"Medium Priority\"\n        icon=\"\"\n        colorClass=\"text-amber-600 dark:text-amber-400\"\n        bgColorClass=\"bg-amber-100 dark:bg-amber-900/30\"\n        borderColorClass=\"border-amber-400\"\n        emptyMessage=\"No medium priority tasks\"\n      />\n\n      <TaskGroup\n        tasks={lowPriorityTasks}\n        onToggle={onToggle}\n        onStatusChange={onStatusChange}\n        onDelete={onDelete}\n        onViewDetails={onViewDetails}\n        title=\"Low Priority\"\n        icon=\"\"\n        colorClass=\"text-slate-600 dark:text-slate-400\"\n        bgColorClass=\"bg-slate-100 dark:bg-slate-700\"\n        borderColorClass=\"border-slate-400\"\n        emptyMessage=\"No low priority tasks\"\n      />\n    </div>\n  );\n};\n","/**\n * SubtaskList component for managing checklists within tasks\n */\n\nimport React, { useState } from 'react';\nimport { Subtask } from '../../types';\n\ninterface SubtaskListProps {\n  subtasks: Subtask[];\n  onToggle: (id: string) => void;\n  onAdd: (text: string) => void;\n  onDelete: (id: string) => void;\n  onEdit?: (id: string, text: string) => void;\n  isEditable?: boolean;\n}\n\nexport const SubtaskList: React.FC<SubtaskListProps> = ({\n  subtasks,\n  onToggle,\n  onAdd,\n  onDelete,\n  onEdit,\n  isEditable = true,\n}) => {\n  const [newSubtaskText, setNewSubtaskText] = useState('');\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editText, setEditText] = useState('');\n\n  const completedCount = subtasks.filter((s) => s.completed).length;\n  const progressPercentage = subtasks.length > 0 ? (completedCount / subtasks.length) * 100 : 0;\n\n  const handleAddSubtask = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (newSubtaskText.trim()) {\n      onAdd(newSubtaskText.trim());\n      setNewSubtaskText('');\n    }\n  };\n\n  const handleStartEdit = (subtask: Subtask) => {\n    setEditingId(subtask.id);\n    setEditText(subtask.text);\n  };\n\n  const handleSaveEdit = () => {\n    if (editingId && onEdit && editText.trim()) {\n      onEdit(editingId, editText.trim());\n    }\n    setEditingId(null);\n    setEditText('');\n  };\n\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditText('');\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      {/* Progress Bar */}\n      {subtasks.length > 0 && (\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden\">\n            <div\n              className=\"h-full bg-gradient-to-r from-emerald-400 to-emerald-600 transition-all duration-300\"\n              style={{ width: `${progressPercentage}%` }}\n            />\n          </div>\n          <span className=\"text-sm font-medium text-slate-600 dark:text-slate-400\">\n            {completedCount}/{subtasks.length}\n          </span>\n        </div>\n      )}\n\n      {/* Subtask Items */}\n      <div className=\"space-y-2\">\n        {subtasks.map((subtask) => (\n          <div\n            key={subtask.id}\n            className={`group flex items-start gap-3 p-3 rounded-lg transition-all ${\n              subtask.completed\n                ? 'bg-emerald-50 dark:bg-emerald-900/20'\n                : 'bg-slate-50 dark:bg-slate-800/50'\n            }`}\n          >\n            {/* Checkbox */}\n            <button\n              onClick={() => onToggle(subtask.id)}\n              className={`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${\n                subtask.completed\n                  ? 'bg-emerald-500 border-emerald-500 text-white'\n                  : 'border-slate-300 dark:border-slate-600 hover:border-emerald-500'\n              }`}\n            >\n              {subtask.completed && (\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              )}\n            </button>\n\n            {/* Text */}\n            {editingId === subtask.id ? (\n              <input\n                type=\"text\"\n                value={editText}\n                onChange={(e) => setEditText(e.target.value)}\n                onBlur={handleSaveEdit}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') handleSaveEdit();\n                  if (e.key === 'Escape') handleCancelEdit();\n                }}\n                className=\"flex-1 px-2 py-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 outline-none focus:border-indigo-500\"\n                autoFocus\n              />\n            ) : (\n              <span\n                className={`flex-1 ${\n                  subtask.completed\n                    ? 'text-slate-500 dark:text-slate-400 line-through'\n                    : 'text-slate-700 dark:text-slate-300'\n                }`}\n                onDoubleClick={() => isEditable && handleStartEdit(subtask)}\n              >\n                {subtask.text}\n              </span>\n            )}\n\n            {/* Actions */}\n            {isEditable && editingId !== subtask.id && (\n              <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                {onEdit && (\n                  <button\n                    onClick={() => handleStartEdit(subtask)}\n                    className=\"p-1 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors\"\n                    title=\"Edit subtask\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                    </svg>\n                  </button>\n                )}\n                <button\n                  onClick={() => onDelete(subtask.id)}\n                  className=\"p-1 text-slate-400 hover:text-rose-600 dark:hover:text-rose-400 transition-colors\"\n                  title=\"Delete subtask\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </button>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Add New Subtask */}\n      {isEditable && (\n        <form onSubmit={handleAddSubtask} className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={newSubtaskText}\n            onChange={(e) => setNewSubtaskText(e.target.value)}\n            placeholder=\"Add a subtask...\"\n            className=\"flex-1 px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 outline-none focus:border-indigo-500 text-sm\"\n          />\n          <button\n            type=\"submit\"\n            disabled={!newSubtaskText.trim()}\n            className=\"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm\"\n          >\n            Add\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n","/**\n * DroppableZone - Drop zone for tasks (status columns)\n */\n\nimport React from 'react';\nimport { useDroppable } from '@dnd-kit/core';\nimport { TaskStatus } from '../../types';\n\ninterface DroppableZoneProps {\n  id: string;\n  status: TaskStatus;\n  children: React.ReactNode;\n  label: string;\n  count: number;\n  colorClass: string;\n  icon?: React.ReactNode;\n}\n\nexport const DroppableZone: React.FC<DroppableZoneProps> = ({\n  id,\n  children,\n  label,\n  count,\n  colorClass,\n  icon,\n}) => {\n  const { isOver, setNodeRef } = useDroppable({\n    id,\n    data: {\n      status: id,\n      type: 'zone',\n    },\n  });\n\n  const statusIcons: Record<string, React.ReactNode> = {\n    pending: (\n      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth=\"2\" />\n      </svg>\n    ),\n    in_progress: (\n      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n      </svg>\n    ),\n    completed: (\n      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n      </svg>\n    ),\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      className={`\n        flex flex-col h-full min-h-[400px] max-h-[calc(100vh-280px)] rounded-xl overflow-hidden\n        transition-all duration-200\n        ${isOver\n          ? 'bg-slate-100 dark:bg-slate-700/50 ring-2 ring-indigo-400'\n          : 'bg-slate-50 dark:bg-slate-800/50'\n        }\n      `}\n    >\n      {/* Header */}\n      <div className={`flex-shrink-0 px-3 py-2.5 border-b ${colorClass}`}>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"opacity-60\">{icon || statusIcons[id]}</span>\n            <h3 className=\"font-semibold text-sm text-slate-700 dark:text-slate-200\">\n              {label}\n            </h3>\n          </div>\n          <span className={`\n            px-2 py-0.5 rounded-full text-xs font-bold\n            ${isOver\n              ? 'bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300'\n              : 'bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300'\n            }\n          `}>\n            {count}\n          </span>\n        </div>\n      </div>\n\n      {/* Content - Scrollable */}\n      <div className=\"flex-1 overflow-y-auto p-2 space-y-2\">\n        {children}\n      </div>\n    </div>\n  );\n};\n","/**\n * RecurringBadge - Visual indicator for recurring tasks\n */\n\nimport React from 'react';\nimport { RecurrencePattern } from '../../types/recurrence.types';\nimport { getRecurrenceDescription } from '../../utils/recurrenceUtils';\n\ninterface RecurringBadgeProps {\n  pattern: RecurrencePattern;\n  compact?: boolean;\n  className?: string;\n}\n\nexport const RecurringBadge: React.FC<RecurringBadgeProps> = ({\n  pattern,\n  compact = false,\n  className = '',\n}) => {\n  const description = getRecurrenceDescription(pattern);\n\n  if (compact) {\n    return (\n      <span\n        className={`inline-flex items-center gap-1 text-xs text-indigo-600 dark:text-indigo-400 ${className}`}\n        title={description}\n      >\n        <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n          />\n        </svg>\n        <span className=\"hidden sm:inline\">{description}</span>\n      </span>\n    );\n  }\n\n  return (\n    <span\n      className={`\n        inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium\n        bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300\n        ${className}\n      `}\n      title={description}\n    >\n      <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n        />\n      </svg>\n      {description}\n    </span>\n  );\n};\n\n// Icon-only version for tight spaces\nexport const RecurringIcon: React.FC<{ className?: string }> = ({ className = '' }) => (\n  <svg\n    className={`w-4 h-4 text-indigo-500 dark:text-indigo-400 ${className}`}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    viewBox=\"0 0 24 24\"\n  >\n    <title>Recurring task</title>\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n    />\n  </svg>\n);\n","/**\n * TaskCard - Compact card for Kanban board view with swipe gestures\n */\n\nimport React, { useState, useRef } from 'react';\nimport { useDraggable } from '@dnd-kit/core';\nimport { CSS } from '@dnd-kit/utilities';\nimport { Task } from '../../ProjectContext';\nimport { getTaskStatus } from '../../utils/taskUtils';\nimport { RecurringIcon } from './RecurringBadge';\n\ninterface TaskCardProps {\n  task: Task;\n  onToggle: (id: string) => void;\n  onDelete: (id: string) => void;\n  onViewDetails: (task: Task) => void;\n}\n\nconst PRIORITY_COLORS = {\n  low: 'bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300',\n  medium: 'bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300',\n  high: 'bg-rose-100 dark:bg-rose-900/40 text-rose-700 dark:text-rose-300',\n};\n\nconst PRIORITY_DOTS = {\n  low: 'bg-emerald-500',\n  medium: 'bg-amber-500',\n  high: 'bg-rose-500',\n};\n\nexport const TaskCard: React.FC<TaskCardProps> = ({\n  task,\n  onToggle,\n  onDelete,\n  onViewDetails,\n}) => {\n  const { attributes, listeners, setNodeRef, transform, isDragging } = useDraggable({\n    id: task.id.toString(),\n    data: {\n      task,\n      type: 'task',\n    },\n  });\n\n  // Swipe gesture state\n  const [swipeOffset, setSwipeOffset] = useState(0);\n  const [swipeAction, setSwipeAction] = useState<'complete' | 'delete' | null>(null);\n  const touchStartRef = useRef<{ x: number; y: number } | null>(null);\n  const isSwipingRef = useRef(false);\n\n  const style = transform\n    ? {\n        transform: CSS.Translate.toString(transform),\n        zIndex: isDragging ? 1000 : undefined,\n      }\n    : undefined;\n\n  const isCompleted = task.completed || getTaskStatus(task) === 'completed';\n\n  // Touch handlers for swipe gestures\n  const handleTouchStart = (e: React.TouchEvent) => {\n    const touch = e.touches[0];\n    touchStartRef.current = { x: touch.clientX, y: touch.clientY };\n    isSwipingRef.current = false;\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (!touchStartRef.current) return;\n    const touch = e.touches[0];\n    const deltaX = touch.clientX - touchStartRef.current.x;\n    const deltaY = Math.abs(touch.clientY - touchStartRef.current.y);\n\n    // Only consider horizontal swipes\n    if (Math.abs(deltaX) > deltaY && Math.abs(deltaX) > 10) {\n      isSwipingRef.current = true;\n      setSwipeOffset(deltaX);\n\n      // Determine swipe action\n      if (deltaX > 80) {\n        setSwipeAction('complete');\n      } else if (deltaX < -80) {\n        setSwipeAction('delete');\n      } else {\n        setSwipeAction(null);\n      }\n    }\n  };\n\n  const handleTouchEnd = () => {\n    if (swipeAction === 'complete') {\n      onToggle(task.id);\n    } else if (swipeAction === 'delete') {\n      onDelete(task.id);\n    }\n\n    // Reset swipe state with animation\n    setSwipeOffset(0);\n    setSwipeAction(null);\n    touchStartRef.current = null;\n    isSwipingRef.current = false;\n  };\n\n  // Handle click to view details - works because of activation constraint in TaskBoard\n  const handleClick = () => {\n    if (!isDragging && !isSwipingRef.current) {\n      onViewDetails(task);\n    }\n  };\n\n  return (\n    <div className=\"relative overflow-hidden rounded-lg\">\n      {/* Swipe action backgrounds */}\n      <div\n        className={`\n          absolute inset-0 flex items-center justify-between px-4 transition-opacity duration-200\n          ${swipeAction === 'complete' ? 'bg-emerald-500' : swipeAction === 'delete' ? 'bg-rose-500' : 'bg-transparent'}\n          ${Math.abs(swipeOffset) > 40 ? 'opacity-100' : 'opacity-0'}\n        `}\n      >\n        {/* Complete indicator (left) */}\n        <div className={`flex items-center text-white transition-all duration-200 ${swipeOffset > 0 ? 'opacity-100' : 'opacity-0'}`}>\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n          </svg>\n          <span className=\"ml-2 font-medium\">Complete</span>\n        </div>\n\n        {/* Delete indicator (right) */}\n        <div className={`flex items-center text-white transition-all duration-200 ${swipeOffset < 0 ? 'opacity-100' : 'opacity-0'}`}>\n          <span className=\"mr-2 font-medium\">Delete</span>\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n          </svg>\n        </div>\n      </div>\n\n      {/* Main card */}\n      <div\n        ref={setNodeRef}\n        style={{\n          ...style,\n          transform: style?.transform\n            ? `${style.transform} translateX(${swipeOffset}px)`\n            : `translateX(${swipeOffset}px)`,\n        }}\n        {...attributes}\n        {...listeners}\n        onTouchStart={handleTouchStart}\n        onTouchMove={handleTouchMove}\n        onTouchEnd={handleTouchEnd}\n        onClick={handleClick}\n        className={`\n          group bg-white dark:bg-slate-700 rounded-lg shadow-sm border\n          border-slate-200 dark:border-slate-600\n          hover:shadow-md hover:border-slate-300 dark:hover:border-slate-500\n          transition-all duration-200 select-none touch-pan-y\n          ${isDragging ? 'opacity-50 shadow-lg ring-2 ring-indigo-400 cursor-grabbing' : 'cursor-pointer hover:cursor-grab'}\n          ${isCompleted ? 'opacity-70' : ''}\n        `}\n      >\n      {/* Priority indicator line */}\n      <div className={`h-1 rounded-t-lg ${PRIORITY_DOTS[task.priority]}`} />\n\n      {/* Task content */}\n      <div className=\"p-3 pt-2\">\n        <div className=\"flex items-start gap-2\">\n          {/* Checkbox */}\n          <button\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              onToggle(task.id);\n            }}\n            className={`\n              flex-shrink-0 w-5 h-5 rounded border-2 mt-0.5\n              flex items-center justify-center transition-colors cursor-pointer\n              ${isCompleted\n                ? 'bg-emerald-500 border-emerald-500 text-white'\n                : 'border-slate-300 dark:border-slate-500 hover:border-indigo-400'\n              }\n            `}\n          >\n            {isCompleted && (\n              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n              </svg>\n            )}\n          </button>\n\n          {/* Title and meta */}\n          <div className=\"flex-1 min-w-0\">\n            <p\n              className={`\n                text-sm font-medium leading-snug line-clamp-2\n                ${isCompleted\n                  ? 'text-slate-400 dark:text-slate-500 line-through'\n                  : 'text-slate-800 dark:text-slate-100'\n                }\n              `}\n            >\n              {task.text}\n            </p>\n\n            {/* Meta row */}\n            <div className=\"flex items-center gap-2 mt-1.5 flex-wrap\">\n              {/* Recurring indicator */}\n              {task.isRecurring && task.recurrencePattern && (\n                <RecurringIcon className=\"w-3.5 h-3.5\" />\n              )}\n\n              {/* Priority badge */}\n              <span className={`px-1.5 py-0.5 rounded text-xs font-medium ${PRIORITY_COLORS[task.priority]}`}>\n                {task.priority}\n              </span>\n\n              {/* Due date if exists */}\n              {task.dueDate && (\n                <span className=\"text-xs text-slate-400 dark:text-slate-500 flex items-center gap-1\">\n                  <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                  </svg>\n                  {new Date(task.dueDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                </span>\n              )}\n\n              {/* Category if exists */}\n              {task.category && (\n                <span className=\"text-xs text-indigo-500 dark:text-indigo-400\">\n                  {task.category}\n                </span>\n              )}\n            </div>\n          </div>\n\n          {/* Delete button */}\n          <button\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              onDelete(task.id);\n            }}\n            className=\"\n              flex-shrink-0 p-1 rounded opacity-0 group-hover:opacity-100\n              text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20\n              transition-all cursor-pointer\n            \"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      </div>\n    </div>\n  );\n};\n","/**\n * TaskBoard - Kanban-style board view with drag and drop\n */\n\nimport React from 'react';\nimport {\n  DndContext,\n  DragOverlay,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragStartEvent,\n  DragEndEvent,\n  UniqueIdentifier,\n} from '@dnd-kit/core';\nimport { useTheme } from '../../ThemeContext';\nimport { Task } from '../../ProjectContext';\nimport { TaskStatus } from '../../types';\nimport { getTaskStatus } from '../../utils/taskUtils';\nimport { DroppableZone } from '../dnd/DroppableZone';\nimport { TaskCard } from './TaskCard';\n\ninterface TaskBoardProps {\n  tasks: Task[];\n  onToggle: (id: string) => void;\n  onStatusChange: (id: string, status: TaskStatus) => void;\n  onDelete: (id: string) => void;\n  onViewDetails: (task: Task) => void;\n}\n\nexport const TaskBoard: React.FC<TaskBoardProps> = ({\n  tasks,\n  onToggle,\n  onStatusChange,\n  onDelete,\n  onViewDetails,\n}) => {\n  const { theme } = useTheme();\n  const [activeId, setActiveId] = React.useState<UniqueIdentifier | null>(null);\n\n  // Configure sensors with activation constraint\n  // This allows clicks to work while still enabling drag after moving 8px\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8, // Require 8px movement before drag starts\n      },\n    }),\n    useSensor(KeyboardSensor)\n  );\n\n  // Group tasks by status\n  const pendingTasks = tasks.filter((t) => getTaskStatus(t) === 'pending');\n  const inProgressTasks = tasks.filter((t) => getTaskStatus(t) === 'in_progress');\n  const completedTasks = tasks.filter((t) => getTaskStatus(t) === 'completed');\n\n  const handleDragStart = (event: DragStartEvent) => {\n    setActiveId(event.active.id);\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n\n    if (!over) {\n      setActiveId(null);\n      return;\n    }\n\n    // Handle drop on status zone\n    if (over.data?.current?.type === 'zone') {\n      const newStatus = over.data.current.status as TaskStatus;\n      const taskId = String(active.id);\n      if (taskId) {\n        onStatusChange(taskId, newStatus);\n      }\n    }\n\n    setActiveId(null);\n  };\n\n  const activeTask = activeId ? tasks.find((t) => t.id.toString() === activeId) : null;\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n    >\n      <div className=\"flex gap-4 h-full overflow-x-auto pb-4\">\n        {/* To Do Column */}\n        <div className=\"flex-1 min-w-[280px] max-w-[350px]\">\n          <DroppableZone\n            id=\"pending\"\n            status=\"pending\"\n            label=\"To Do\"\n            count={pendingTasks.length}\n            colorClass=\"border-amber-200 dark:border-amber-700 bg-amber-50 dark:bg-amber-900/30\"\n          >\n            {pendingTasks.length === 0 ? (\n              <div className=\"text-center py-8 text-slate-400 dark:text-slate-500 text-sm\">\n                No pending tasks\n              </div>\n            ) : (\n              pendingTasks.map((task) => (\n                <TaskCard\n                  key={task.id}\n                  task={task}\n                  onToggle={onToggle}\n                  onDelete={onDelete}\n                  onViewDetails={onViewDetails}\n                />\n              ))\n            )}\n          </DroppableZone>\n        </div>\n\n        {/* In Progress Column */}\n        <div className=\"flex-1 min-w-[280px] max-w-[350px]\">\n          <DroppableZone\n            id=\"in_progress\"\n            status=\"in_progress\"\n            label=\"In Progress\"\n            count={inProgressTasks.length}\n            colorClass=\"border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/30\"\n          >\n            {inProgressTasks.length === 0 ? (\n              <div className=\"text-center py-8 text-slate-400 dark:text-slate-500 text-sm\">\n                No tasks in progress\n              </div>\n            ) : (\n              inProgressTasks.map((task) => (\n                <TaskCard\n                  key={task.id}\n                  task={task}\n                  onToggle={onToggle}\n                  onDelete={onDelete}\n                  onViewDetails={onViewDetails}\n                />\n              ))\n            )}\n          </DroppableZone>\n        </div>\n\n        {/* Done Column */}\n        <div className=\"flex-1 min-w-[280px] max-w-[350px]\">\n          <DroppableZone\n            id=\"completed\"\n            status=\"completed\"\n            label=\"Done\"\n            count={completedTasks.length}\n            colorClass=\"border-emerald-200 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/30\"\n          >\n            {completedTasks.length === 0 ? (\n              <div className=\"text-center py-8 text-slate-400 dark:text-slate-500 text-sm\">\n                No completed tasks\n              </div>\n            ) : (\n              completedTasks.map((task) => (\n                <TaskCard\n                  key={task.id}\n                  task={task}\n                  onToggle={onToggle}\n                  onDelete={onDelete}\n                  onViewDetails={onViewDetails}\n                />\n              ))\n            )}\n          </DroppableZone>\n        </div>\n      </div>\n\n      {/* Drag Overlay */}\n      <DragOverlay>\n        {activeTask && (\n          <div className=\"opacity-90 rotate-3 shadow-2xl\">\n            <div className={`p-3 rounded-lg border-2 border-indigo-400 ${\n              theme === 'dark' ? 'bg-slate-700' : 'bg-white'\n            }`}>\n              <p className={`text-sm font-medium ${theme === 'dark' ? 'text-slate-200' : 'text-slate-800'}`}>\n                {activeTask.text}\n              </p>\n              <p className={`text-xs mt-1 ${theme === 'dark' ? 'text-slate-400' : 'text-slate-500'}`}>\n                {activeTask.priority} priority\n              </p>\n            </div>\n          </div>\n        )}\n      </DragOverlay>\n    </DndContext>\n  );\n};\n","/**\n * Notification utilities for browser notifications and reminders\n */\n\nexport interface NotificationSettings {\n  enabled: boolean;\n  timing: number[]; // Minutes before due date\n  type: 'browser' | 'in-app' | 'both';\n}\n\nexport interface ScheduledNotification {\n  taskId: string;\n  taskText: string;\n  dueDate: string;\n  notifyAt: number; // timestamp\n  timing: number; // minutes before\n}\n\n// Check if browser notifications are supported\nexport const areNotificationsSupported = (): boolean => {\n  return 'Notification' in window;\n};\n\n// Check if notifications are permitted\nexport const areNotificationsPermitted = (): boolean => {\n  return areNotificationsSupported() && Notification.permission === 'granted';\n};\n\n// Request notification permission\nexport const requestNotificationPermission = async (): Promise<boolean> => {\n  if (!areNotificationsSupported()) {\n    console.warn('Browser notifications are not supported');\n    return false;\n  }\n\n  if (Notification.permission === 'granted') {\n    return true;\n  }\n\n  if (Notification.permission !== 'denied') {\n    const permission = await Notification.requestPermission();\n    return permission === 'granted';\n  }\n\n  return false;\n};\n\n// Show a browser notification\nexport const showNotification = (\n  title: string,\n  options?: NotificationOptions\n): Notification | null => {\n  if (!areNotificationsPermitted()) {\n    console.warn('Notifications not permitted');\n    return null;\n  }\n\n  try {\n    const notification = new Notification(title, {\n      icon: '/favicon.ico',\n      badge: '/favicon.ico',\n      ...options,\n    });\n\n    notification.onclick = () => {\n      window.focus();\n      notification.close();\n    };\n\n    return notification;\n  } catch (error) {\n    console.error('Failed to show notification:', error);\n    return null;\n  }\n};\n\n// Show task due notification\nexport const showTaskDueNotification = (\n  taskText: string,\n  dueDate: string,\n  minutesUntil: number\n): Notification | null => {\n  let timeMessage = '';\n  if (minutesUntil <= 0) {\n    timeMessage = 'is due now!';\n  } else if (minutesUntil < 60) {\n    timeMessage = `is due in ${minutesUntil} minute${minutesUntil > 1 ? 's' : ''}`;\n  } else {\n    const hours = Math.floor(minutesUntil / 60);\n    timeMessage = `is due in ${hours} hour${hours > 1 ? 's' : ''}`;\n  }\n\n  return showNotification(`Task Reminder: ${taskText}`, {\n    body: `Your task \"${taskText}\" ${timeMessage}`,\n    tag: `task-due-${dueDate}`,\n    requireInteraction: true,\n  });\n};\n\n// Schedule notifications for a task\nexport const scheduleNotifications = (\n  taskId: string,\n  taskText: string,\n  dueDate: string,\n  timings: number[] = [15, 60, 1440] // 15min, 1hr, 24hr\n): ScheduledNotification[] => {\n  const due = new Date(dueDate);\n  const now = new Date();\n  const notifications: ScheduledNotification[] = [];\n\n  timings.forEach((timing) => {\n    const notifyAt = new Date(due.getTime() - timing * 60 * 1000);\n\n    // Only schedule if the notification time is in the future\n    if (notifyAt > now) {\n      notifications.push({\n        taskId,\n        taskText,\n        dueDate,\n        notifyAt: notifyAt.getTime(),\n        timing,\n      });\n    }\n  });\n\n  return notifications;\n};\n\n// Store scheduled notifications in localStorage\nexport const storeScheduledNotifications = (notifications: ScheduledNotification[]): void => {\n  localStorage.setItem('scheduledNotifications', JSON.stringify(notifications));\n};\n\n// Get scheduled notifications from localStorage\nexport const getScheduledNotifications = (): ScheduledNotification[] => {\n  const stored = localStorage.getItem('scheduledNotifications');\n  if (stored) {\n    try {\n      return JSON.parse(stored);\n    } catch (error) {\n      console.error('Failed to parse scheduled notifications:', error);\n      return [];\n    }\n  }\n  return [];\n};\n\n// Check and trigger due notifications\nexport const checkNotifications = (): void => {\n  const notifications = getScheduledNotifications();\n  const now = Date.now();\n  const triggered: number[] = [];\n\n  notifications.forEach((notification) => {\n    // Check if it's time to trigger (within 1 minute window)\n    if (Math.abs(now - notification.notifyAt) < 60000) {\n      showTaskDueNotification(\n        notification.taskText,\n        notification.dueDate,\n        notification.timing\n      );\n      triggered.push(notification.notifyAt);\n    }\n  });\n\n  // Remove triggered notifications\n  if (triggered.length > 0) {\n    const remaining = notifications.filter(\n      (n) => !triggered.includes(n.notifyAt)\n    );\n    storeScheduledNotifications(remaining);\n  }\n};\n\n// Clear all scheduled notifications\nexport const clearScheduledNotifications = (): void => {\n  localStorage.removeItem('scheduledNotifications');\n};\n\n// Clear notifications for a specific task\nexport const clearTaskNotifications = (taskId: string): void => {\n  const notifications = getScheduledNotifications();\n  const remaining = notifications.filter((n) => n.taskId !== taskId);\n  storeScheduledNotifications(remaining);\n};\n\n// Start notification checker (call once on app load)\nlet notificationInterval: NodeJS.Timeout | null = null;\n\nexport const startNotificationChecker = (): void => {\n  if (notificationInterval) {\n    clearInterval(notificationInterval);\n  }\n\n  // Check every minute\n  notificationInterval = setInterval(checkNotifications, 60000);\n\n  // Also check immediately\n  checkNotifications();\n};\n\nexport const stopNotificationChecker = (): void => {\n  if (notificationInterval) {\n    clearInterval(notificationInterval);\n    notificationInterval = null;\n  }\n};\n","import React, { useState } from 'react';\nimport { useTheme } from './ThemeContext';\nimport { Task, Subtask } from './types';\nimport { formatDateFull, getDaysUntil } from './utils/dateUtils';\nimport { estimateReadingTime } from './utils/taskUtils';\nimport { PRIORITIES } from './constants/priorities';\nimport { CATEGORIES } from './constants/categories';\nimport { SubtaskList, RecurrencePicker, RecurringBadge } from './components/tasks';\nimport { NotificationSettingsComponent } from './components/common';\nimport { CreateTemplateModal } from './components/templates';\nimport {\n  requestNotificationPermission,\n  scheduleNotifications,\n  storeScheduledNotifications,\n  getScheduledNotifications,\n  areNotificationsSupported\n} from './utils/notifications';\n\ninterface TaskModalProps {\n  task: Task;\n  onClose: () => void;\n  onToggleComplete: (id: string) => void;\n  onDelete: (id: string) => void;\n  onEdit?: (id: string, updates: Partial<Task>) => void;\n}\n\nexport function TaskModal({ task, onClose, onToggleComplete, onDelete, onEdit }: TaskModalProps) {\n  const { theme } = useTheme();\n  const [isEditing, setIsEditing] = useState(false);\n  const [showCreateTemplate, setShowCreateTemplate] = useState(false);\n  const [editedTask, setEditedTask] = useState({\n    text: task.text,\n    description: task.description || '',\n    priority: task.priority,\n    category: task.category || '',\n    dueDate: task.dueDate || '',\n    subtasks: task.subtasks || [],\n    notificationSettings: task.notificationSettings || {\n      enabled: false,\n      timing: [15, 60, 1440],\n      type: 'browser' as const,\n    },\n    isRecurring: task.isRecurring || false,\n    recurrencePattern: task.recurrencePattern || undefined,\n  });\n\n  const priorityStyle = PRIORITIES[task.priority];\n\n  // Subtask handlers\n  const handleToggleSubtask = (subtaskId: string) => {\n    if (!onEdit) return;\n\n    const updatedSubtasks = (task.subtasks || []).map((s) =>\n      s.id === subtaskId ? { ...s, completed: !s.completed } : s\n    );\n\n    onEdit(task.id, { subtasks: updatedSubtasks });\n  };\n\n  const handleAddSubtask = (text: string) => {\n    if (!onEdit) return;\n\n    const newSubtask: Subtask = {\n      id: Date.now().toString(),\n      text,\n      completed: false,\n      createdAt: new Date().toISOString(),\n    };\n\n    const updatedSubtasks = [...(task.subtasks || []), newSubtask];\n    onEdit(task.id, { subtasks: updatedSubtasks });\n  };\n\n  const handleDeleteSubtask = (subtaskId: string) => {\n    if (!onEdit) return;\n\n    const updatedSubtasks = (task.subtasks || []).filter((s) => s.id !== subtaskId);\n    onEdit(task.id, { subtasks: updatedSubtasks });\n  };\n\n  const handleEditSubtask = (subtaskId: string, text: string) => {\n    if (!onEdit) return;\n\n    const updatedSubtasks = (task.subtasks || []).map((s) =>\n      s.id === subtaskId ? { ...s, text } : s\n    );\n\n    onEdit(task.id, { subtasks: updatedSubtasks });\n  };\n\n  // Edit mode subtask handlers\n  const handleToggleSubtaskEdit = (subtaskId: string) => {\n    const updatedSubtasks = editedTask.subtasks.map((s) =>\n      s.id === subtaskId ? { ...s, completed: !s.completed } : s\n    );\n    setEditedTask({ ...editedTask, subtasks: updatedSubtasks });\n  };\n\n  const handleAddSubtaskEdit = (text: string) => {\n    const newSubtask: Subtask = {\n      id: Date.now().toString(),\n      text,\n      completed: false,\n      createdAt: new Date().toISOString(),\n    };\n    setEditedTask({ ...editedTask, subtasks: [...editedTask.subtasks, newSubtask] });\n  };\n\n  const handleDeleteSubtaskEdit = (subtaskId: string) => {\n    const updatedSubtasks = editedTask.subtasks.filter((s) => s.id !== subtaskId);\n    setEditedTask({ ...editedTask, subtasks: updatedSubtasks });\n  };\n\n  const handleEditSubtaskEdit = (subtaskId: string, text: string) => {\n    const updatedSubtasks = editedTask.subtasks.map((s) =>\n      s.id === subtaskId ? { ...s, text } : s\n    );\n    setEditedTask({ ...editedTask, subtasks: updatedSubtasks });\n  };\n\n  // Calculate time remaining or past due\n  const getDeadlineStatus = () => {\n    if (!task.dueDate) return { label: 'No deadline', color: 'text-slate-400', emoji: '' };\n\n    const diffDays = getDaysUntil(task.dueDate);\n\n    if (diffDays < 0 && !task.completed) {\n      return {\n        label: `Overdue by ${Math.abs(diffDays)} day${Math.abs(diffDays) > 1 ? 's' : ''}`,\n        color: 'text-rose-600 dark:text-rose-400 font-bold',\n        emoji: '',\n      };\n    }\n    if (diffDays === 0) {\n      return { label: 'Due today', color: 'text-amber-600 dark:text-amber-400 font-bold', emoji: '' };\n    }\n    if (diffDays === 1) {\n      return { label: 'Due tomorrow', color: 'text-emerald-600 dark:text-emerald-400', emoji: '' };\n    }\n    return { label: `Due in ${diffDays} days`, color: 'text-slate-500 dark:text-slate-400', emoji: '' };\n  };\n\n  const deadlineStatus = getDeadlineStatus();\n\n  // Calculate reading time\n  const readingTime = estimateReadingTime(task.description);\n\n  // Handle close on escape key\n  React.useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n    window.addEventListener('keydown', handleEscape);\n    return () => window.removeEventListener('keydown', handleEscape);\n  }, [onClose]);\n\n  // Prevent background scroll\n  React.useEffect(() => {\n    document.body.style.overflow = 'hidden';\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, []);\n\n  // Close on modal background click\n  const handleBackgroundClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) onClose();\n  };\n\n  // Check if task is urgent (high priority and due soon)\n  const isUrgent = task.priority === 'high' && deadlineStatus.label.includes('Due today');\n\n  // Handle edit save\n  const handleSaveEdit = async () => {\n    if (!editedTask.text.trim()) return;\n\n    // Request notification permission if needed\n    if (\n      editedTask.notificationSettings?.enabled &&\n      editedTask.dueDate &&\n      areNotificationsSupported()\n    ) {\n      const granted = await requestNotificationPermission();\n      if (granted && editedTask.notificationSettings.type !== 'in-app') {\n        // Schedule browser notifications\n        const notifications = scheduleNotifications(\n          task.id,\n          editedTask.text,\n          editedTask.dueDate,\n          editedTask.notificationSettings.timing\n        );\n\n        // Store notifications\n        const existingNotifications = getScheduledNotifications();\n        const allNotifications = [\n          ...existingNotifications.filter((n) => n.taskId !== task.id),\n          ...notifications,\n        ];\n        storeScheduledNotifications(allNotifications);\n      }\n    }\n\n    if (onEdit) {\n      onEdit(task.id, editedTask);\n    }\n    setIsEditing(false);\n  };\n\n  // Handle cancel edit\n  const handleCancelEdit = () => {\n    setEditedTask({\n      text: task.text,\n      description: task.description || '',\n      priority: task.priority,\n      category: task.category || '',\n      dueDate: task.dueDate || '',\n      subtasks: task.subtasks || [],\n      notificationSettings: task.notificationSettings || {\n        enabled: false,\n        timing: [15, 60, 1440],\n        type: 'browser' as const,\n      },\n      isRecurring: task.isRecurring || false,\n      recurrencePattern: task.recurrencePattern || undefined,\n    });\n    setIsEditing(false);\n  };\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\n      onClick={handleBackgroundClick}\n    >\n      {/* Backdrop with blur effect */}\n      <div className=\"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity duration-300\" />\n\n      {/* Modal Content */}\n      <div\n        className={`relative w-full max-w-2xl transform transition-all duration-300 ease-out animate-in fade-in zoom-in-95 ${\n          theme === 'dark' ? 'bg-slate-800 text-slate-100' : 'bg-white text-slate-900'\n        } rounded-3xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col`}\n      >\n        {/* Header with gradient */}\n        <div className={`relative px-8 py-6 ${\n          isUrgent\n            ? 'bg-gradient-to-r from-rose-500 to-orange-500'\n            : priorityStyle.color.replace('bg-', 'bg-gradient-to-r from-')\n        } text-white`}>\n          {/* Decorative circles */}\n          <div className=\"absolute top-0 left-0 w-24 h-24 bg-white/10 rounded-full -translate-x-12 -translate-y-12 blur-2xl\" />\n          <div className=\"absolute bottom-0 right-0 w-32 h-32 bg-white/10 rounded-full translate-x-16 translate-y-16 blur-2xl\" />\n\n          <div className=\"relative z-10 flex justify-between items-start\">\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <span className={`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${\n                  task.completed ? 'bg-white/30' : 'bg-white/20'\n                } backdrop-blur-sm`}>\n                  {task.completed ? 'Completed' : 'In Progress'}\n                </span>\n                {isUrgent && (\n                  <span className=\"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-white text-rose-600 animate-pulse\">\n                    Urgent!\n                  </span>\n                )}\n              </div>\n              {isEditing ? (\n                <input\n                  type=\"text\"\n                  value={editedTask.text}\n                  onChange={(e) => setEditedTask({ ...editedTask, text: e.target.value })}\n                  className=\"text-3xl font-bold leading-tight mb-2 w-full bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1 text-white placeholder-white/60 outline-none\"\n                  placeholder=\"Task title\"\n                  autoFocus\n                />\n              ) : (\n                <h2 className=\"text-3xl font-bold leading-tight mb-2\">{task.text}</h2>\n              )}\n              <p className=\"text-white/80 text-sm\">{formatDateFull(task.createdAt)}</p>\n            </div>\n\n            <div className=\"flex gap-2\">\n              {!isEditing && onEdit && (\n                <button\n                  onClick={() => setIsEditing(true)}\n                  className=\"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm\"\n                  aria-label=\"Edit task\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                </button>\n              )}\n              <button\n                onClick={onClose}\n                className=\"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm\"\n                aria-label=\"Close modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Scrollable Content */}\n        <div className=\"flex-1 overflow-y-auto p-8 custom-scrollbar\">\n          {isEditing ? (\n            // Edit Mode Form\n            <div className=\"space-y-6\">\n              {/* Description */}\n              <div>\n                <label className=\"block text-sm font-semibold mb-2\">Description</label>\n                <textarea\n                  value={editedTask.description}\n                  onChange={(e) => setEditedTask({ ...editedTask, description: e.target.value })}\n                  className={`w-full p-4 rounded-xl border-2 resize-none h-40 ${\n                    theme === 'dark'\n                      ? 'bg-slate-900 border-slate-700 text-slate-100'\n                      : 'bg-white border-slate-200 text-slate-900'\n                  } focus:border-indigo-500 outline-none`}\n                  placeholder=\"Add a description...\"\n                />\n              </div>\n\n              {/* Priority */}\n              <div>\n                <label className=\"block text-sm font-semibold mb-2\">Priority</label>\n                <div className=\"flex gap-2\">\n                  {(['low', 'medium', 'high'] as const).map((p) => {\n                    const style = PRIORITIES[p];\n                    return (\n                      <button\n                        key={p}\n                        onClick={() => setEditedTask({ ...editedTask, priority: p })}\n                        className={`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${\n                          editedTask.priority === p\n                            ? `${style.color} text-white shadow-lg`\n                            : theme === 'dark'\n                            ? 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n                            : 'bg-slate-100 text-slate-700 hover:bg-slate-200'\n                        }`}\n                      >\n                        {style.label}\n                      </button>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* Category */}\n              <div>\n                <label className=\"block text-sm font-semibold mb-2\">Category</label>\n                <select\n                  value={editedTask.category}\n                  onChange={(e) => setEditedTask({ ...editedTask, category: e.target.value })}\n                  className={`w-full p-4 rounded-xl border-2 ${\n                    theme === 'dark'\n                      ? 'bg-slate-900 border-slate-700 text-slate-100'\n                      : 'bg-white border-slate-200 text-slate-900'\n                  } focus:border-indigo-500 outline-none`}\n                >\n                  <option value=\"\">Select category</option>\n                  {CATEGORIES.map((cat) => (\n                    <option key={cat} value={cat}>\n                      {cat}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Due Date */}\n              <div>\n                <label className=\"block text-sm font-semibold mb-2\">Due Date</label>\n                <input\n                  type=\"date\"\n                  value={editedTask.dueDate}\n                  onChange={(e) => setEditedTask({ ...editedTask, dueDate: e.target.value })}\n                  className={`w-full p-4 rounded-xl border-2 ${\n                    theme === 'dark'\n                      ? 'bg-slate-900 border-slate-700 text-slate-100'\n                      : 'bg-white border-slate-200 text-slate-900'\n                  } focus:border-indigo-500 outline-none`}\n                />\n              </div>\n\n              {/* Subtasks */}\n              <div>\n                <label className=\"block text-sm font-semibold mb-2 flex items-center gap-2\">\n                  <span className=\"text-xl\"></span>\n                  Subtasks\n                </label>\n                <SubtaskList\n                  subtasks={editedTask.subtasks}\n                  onToggle={handleToggleSubtaskEdit}\n                  onAdd={handleAddSubtaskEdit}\n                  onDelete={handleDeleteSubtaskEdit}\n                  onEdit={handleEditSubtaskEdit}\n                  isEditable={true}\n                />\n              </div>\n\n              {/* Notifications */}\n              {areNotificationsSupported() && (\n                <div>\n                  <label className=\"block text-sm font-semibold mb-2\">Notifications</label>\n                  <NotificationSettingsComponent\n                    settings={editedTask.notificationSettings}\n                    onChange={(settings) =>\n                      setEditedTask({ ...editedTask, notificationSettings: settings })\n                    }\n                    hasDueDate={!!editedTask.dueDate}\n                  />\n                </div>\n              )}\n\n              {/* Recurrence */}\n              <div>\n                <RecurrencePicker\n                  value={editedTask.recurrencePattern}\n                  onChange={(pattern) =>\n                    setEditedTask({\n                      ...editedTask,\n                      recurrencePattern: pattern || undefined,\n                      isRecurring: !!pattern,\n                    })\n                  }\n                  startDate={editedTask.dueDate ? new Date(editedTask.dueDate) : new Date()}\n                />\n              </div>\n            </div>\n          ) : (\n            // View Mode (original content)\n            <>\n          {/* Priority Info */}\n          <div className=\"flex flex-wrap gap-3 mb-6\">\n            <div className={`flex items-center gap-2 px-4 py-2 rounded-xl ${priorityStyle.badge}`}>\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <span className=\"font-semibold\">{priorityStyle.label}</span>\n            </div>\n\n            <div className={`flex items-center gap-2 px-4 py-2 rounded-xl ${theme === 'dark' ? 'bg-slate-700' : 'bg-slate-100'}`}>\n              <span className=\"text-lg\">{deadlineStatus.emoji}</span>\n              <span className={`font-medium ${deadlineStatus.color}`}>\n                {deadlineStatus.label}\n              </span>\n            </div>\n\n            {task.category && (\n              <div className={`flex items-center gap-2 px-4 py-2 rounded-xl ${theme === 'dark' ? 'bg-slate-700' : 'bg-slate-100'}`}>\n                <svg className=\"w-5 h-5 text-slate-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n                </svg>\n                <span className=\"font-medium\">{task.category}</span>\n              </div>\n            )}\n\n            {task.isRecurring && task.recurrencePattern && (\n              <RecurringBadge pattern={task.recurrencePattern} />\n            )}\n          </div>\n\n          {/* Description */}\n          {task.description && (\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                <span className=\"text-2xl\"></span>\n                Description\n              </h3>\n              <div className={`prose dark:prose-invert max-w-none p-4 rounded-2xl ${\n                theme === 'dark' ? 'bg-slate-900/50' : 'bg-slate-50'\n              }`}>\n                <p className=\"whitespace-pre-wrap leading-relaxed text-lg\">{task.description}</p>\n              </div>\n              {readingTime && (\n                <p className=\"text-sm text-slate-500 dark:text-slate-400 mt-2 text-right\">\n                  {readingTime}\n                </p>\n              )}\n            </div>\n          )}\n\n          {/* Subtasks */}\n          {(task.subtasks && task.subtasks.length > 0) && (\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                <span className=\"text-2xl\"></span>\n                Subtasks\n              </h3>\n              <SubtaskList\n                subtasks={task.subtasks}\n                onToggle={handleToggleSubtask}\n                onAdd={handleAddSubtask}\n                onDelete={handleDeleteSubtask}\n                onEdit={handleEditSubtask}\n                isEditable={!!onEdit}\n              />\n            </div>\n          )}\n\n          {/* Quick Actions Grid */}\n          <div className=\"grid grid-cols-2 gap-4 mb-6\">\n            <div className={`p-4 rounded-2xl ${theme === 'dark' ? 'bg-slate-700/50' : 'bg-slate-50'}`}>\n              <div className=\"text-sm text-slate-500 dark:text-slate-400 mb-1\">Created</div>\n              <div className=\"font-semibold text-lg\">{formatDateFull(task.createdAt)}</div>\n            </div>\n\n            <div className={`p-4 rounded-2xl ${theme === 'dark' ? 'bg-slate-700/50' : 'bg-slate-50'}`}>\n              <div className=\"text-sm text-slate-500 dark:text-slate-400 mb-1\">Due Date</div>\n              <div className=\"font-semibold text-lg\">\n                {task.dueDate || 'No deadline'}\n              </div>\n            </div>\n          </div>\n\n          {/* Progress visualization (mock based on task completion state) */}\n          <div className=\"mb-6\">\n            <div className=\"flex justify-between mb-2\">\n              <span className=\"text-sm font-semibold text-slate-500 dark:text-slate-400\">Task Progress</span>\n              <span className=\"text-sm font-bold text-emerald-500\">\n                {task.completed ? '100%' : '0%'}\n              </span>\n            </div>\n            <div className={`w-full rounded-full h-3 overflow-hidden ${\n              theme === 'dark' ? 'bg-slate-700' : 'bg-slate-200'\n            }`}>\n              <div\n                className={`h-full rounded-full transition-all duration-1000 ${\n                  task.completed\n                    ? 'bg-gradient-to-r from-emerald-400 to-emerald-600'\n                    : 'bg-gradient-to-r from-amber-400 to-orange-500'\n                }`}\n                style={{ width: task.completed ? '100%' : '0%' }}\n              />\n            </div>\n          </div>\n\n          {/* Motivational message */}\n          {!task.completed && (\n            <div className=\"p-4 rounded-2xl bg-gradient-to-r from-indigo-500 to-purple-600 text-white mb-6 animate-in slide-in-from-bottom-4 fade-in duration-500\">\n              <div className=\"flex items-start gap-3\">\n                <span className=\"text-2xl\"></span>\n                <div>\n                  <h4 className=\"font-bold text-lg mb-1\">Keep going!</h4>\n                  <p className=\"text-indigo-100 text-sm\">\n                    Every task you complete brings you closer to your next level.\n                    You're doing great!\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n            </>\n          )}\n        </div>\n\n        {/* Footer with Actions */}\n        <div className={`px-8 py-6 border-t ${theme === 'dark' ? 'border-slate-700 bg-slate-800' : 'border-slate-100 bg-slate-50'}`}>\n          <div className=\"flex flex-wrap gap-4 justify-end\">\n            {isEditing ? (\n              // Edit Mode Actions\n              <>\n                <button\n                  onClick={handleCancelEdit}\n                  className=\"flex items-center gap-2 px-6 py-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-all font-medium\"\n                >\n                  Cancel\n                </button>\n\n                <button\n                  onClick={handleSaveEdit}\n                  className=\"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 transition-all font-bold shadow-lg\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  Save Changes\n                </button>\n              </>\n            ) : (\n              // View Mode Actions (original)\n              <>\n            <button\n              onClick={() => setShowCreateTemplate(true)}\n              className=\"flex items-center gap-2 px-4 py-3 rounded-xl text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all font-medium\"\n              title=\"Save as template\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" />\n              </svg>\n              <span className=\"hidden sm:inline\">Template</span>\n            </button>\n\n            <button\n              onClick={() => onDelete(task.id)}\n              className=\"flex items-center gap-2 px-6 py-3 rounded-xl text-rose-600 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all font-medium\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n              Delete\n            </button>\n\n            <button\n              onClick={() => onToggleComplete(task.id)}\n              className={`flex items-center gap-2 px-6 py-3 rounded-xl transition-all font-bold text-lg shadow-lg ${\n                task.completed\n                  ? 'bg-emerald-500 text-white hover:bg-emerald-600 hover:shadow-emerald-200/50'\n                  : 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 hover:shadow-indigo-200/50 dark:hover:shadow-indigo-900/50'\n              }`}\n            >\n              {task.completed ? (\n                <>\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  Completed!\n                </>\n              ) : (\n                <>\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  Mark Complete\n                </>\n              )}\n            </button>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Create Template Modal */}\n      {showCreateTemplate && (\n        <CreateTemplateModal\n          task={task}\n          onClose={() => setShowCreateTemplate(false)}\n          onSuccess={() => {\n            setShowCreateTemplate(false);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n","/**\n * ProjectDetail - Redesigned individual project view with clear task sections\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useProjects, Task } from '../ProjectContext';\nimport { useGame } from '../GamificationContext';\nimport { calculateProgress } from '../utils/formatters';\nimport { AddTaskForm, TaskGroupList, TaskBoard } from '../components/tasks';\nimport { TaskModal } from '../TaskModal';\nimport { TaskStatus } from '../types';\nimport { getTaskStatus } from '../utils/taskUtils';\nimport { MainLayout } from '../components/layout';\n\ntype TaskView = 'pending' | 'in_progress' | 'completed' | 'all';\ntype ViewMode = 'list' | 'board';\n\nexport default function ProjectDetail() {\n  const { projectId } = useParams<{ projectId: string }>();\n  const { getProject, addTodoToProject, updateTodoInProject, deleteTodoFromProject, updateProjectStats } = useProjects();\n  const { completeTask } = useGame();\n  const navigate = useNavigate();\n\n  const project = getProject(projectId || '');\n\n  const [todos, setTodos] = useState<Task[]>([]);\n  const [selectedTask, setSelectedTask] = useState<Task | null>(null);\n  const [taskView, setTaskView] = useState<TaskView>('pending');\n  const [viewMode, setViewMode] = useState<ViewMode>('list');\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Load project todos on mount\n  useEffect(() => {\n    if (project) {\n      setTodos(project.todos || []);\n    }\n  }, [project]);\n\n  const addTodo = (taskData: {\n    text: string;\n    description: string;\n    priority: 'low' | 'medium' | 'high';\n    category: string;\n    dueDate: string;\n  }) => {\n    if (!project) return;\n\n    const newTodo: Task = {\n      id: Date.now().toString(),\n      text: taskData.text,\n      description: taskData.description,\n      completed: false,\n      priority: taskData.priority,\n      dueDate: taskData.dueDate || null,\n      category: taskData.category,\n      createdAt: new Date().toISOString(),\n    };\n\n    addTodoToProject(project.id, newTodo);\n    setTodos((prev) => [newTodo, ...prev]);\n  };\n\n  const toggleTodo = (id: string) => {\n    if (!project) return;\n    const todo = todos.find((t) => t.id === id);\n    if (!todo) return;\n\n    const now = new Date().toISOString();\n    const currentStatus = getTaskStatus(todo);\n    const isCompleting = currentStatus !== 'completed';\n\n    const updatedTodo = {\n      ...todo,\n      completed: isCompleting,\n      status: isCompleting ? 'completed' as TaskStatus : 'pending' as TaskStatus,\n      completedAt: isCompleting ? now : undefined,\n    };\n\n    updateTodoInProject(project.id, updatedTodo);\n    setTodos((prev) => prev.map((t) => (t.id === id ? updatedTodo : t)));\n\n    // Update project stats\n    updateProjectStats(project.id, updatedTodo.completed);\n\n    // Gamification: Only award XP when marking as completed\n    if (isCompleting) {\n      completeTask(todo.priority === 'high');\n    }\n  };\n\n  const handleStatusChange = (id: string, newStatus: TaskStatus) => {\n    if (!project) return;\n    const todo = todos.find((t) => t.id === id);\n    if (!todo) return;\n\n    const now = new Date().toISOString();\n    const updatedTodo = {\n      ...todo,\n      completed: newStatus === 'completed',\n      status: newStatus,\n      completedAt: newStatus === 'completed' ? now : undefined,\n      startedAt: newStatus === 'in_progress' ? now : todo.startedAt,\n    };\n\n    updateTodoInProject(project.id, updatedTodo);\n    setTodos((prev) => prev.map((t) => (t.id === id ? updatedTodo : t)));\n\n    // Update project stats\n    updateProjectStats(project.id, updatedTodo.completed);\n\n    // Gamification: Only award XP when marking as completed\n    if (newStatus === 'completed' && getTaskStatus(todo) !== 'completed') {\n      completeTask(todo.priority === 'high');\n    }\n  };\n\n  const editTodo = (id: string, updates: Partial<Task>) => {\n    if (!project) return;\n    const todo = todos.find((t) => t.id === id);\n    if (!todo) return;\n\n    const updatedTodo = {\n      ...todo,\n      ...updates,\n    };\n\n    updateTodoInProject(project.id, updatedTodo);\n    setTodos((prev) => prev.map((t) => (t.id === id ? updatedTodo : t)));\n  };\n\n  const deleteTodo = (id: string) => {\n    if (!project) return;\n    deleteTodoFromProject(project.id, id);\n    setTodos((prev) => prev.filter((t) => t.id !== id));\n  };\n\n  // Calculate stats using getTaskStatus\n  const pendingTasks = todos.filter((t) => getTaskStatus(t) === 'pending');\n  const inProgressTasks = todos.filter((t) => getTaskStatus(t) === 'in_progress');\n  const completedTasks = todos.filter((t) => getTaskStatus(t) === 'completed');\n  const highPriorityPending = pendingTasks.filter((t) => t.priority === 'high');\n\n  const progress = calculateProgress(completedTasks.length, todos.length);\n\n  // Filter tasks based on view and search\n  const filteredTasks = todos.filter((task) => {\n    const status = getTaskStatus(task);\n    const matchesView =\n      taskView === 'all' ||\n      (taskView === 'pending' && status === 'pending') ||\n      (taskView === 'in_progress' && status === 'in_progress') ||\n      (taskView === 'completed' && status === 'completed');\n\n    const matchesSearch =\n      searchQuery === '' ||\n      task.text.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      task.description.toLowerCase().includes(searchQuery.toLowerCase());\n\n    return matchesView && matchesSearch;\n  });\n\n  if (!project) {\n    return (\n      <MainLayout>\n        <div className=\"p-4 md:p-8\">\n          <div className=\"flex items-center justify-center min-h-[60vh]\">\n            <div className=\"text-center\">\n              <h2 className=\"text-2xl font-bold text-slate-700 dark:text-slate-200\">Project not found</h2>\n              <button\n                onClick={() => navigate('/')}\n                className=\"text-indigo-600 hover:underline mt-4 inline-block\"\n              >\n                Back to Projects\n              </button>\n            </div>\n          </div>\n        </div>\n      </MainLayout>\n    );\n  }\n\n  return (\n    <MainLayout>\n      <div className=\"p-4 md:p-8\">\n        <div className=\"max-w-5xl mx-auto space-y-6\">\n        {/* Project Header */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-slate-100 dark:border-slate-700\">\n          <div className=\"flex flex-col md:flex-row md:items-start justify-between gap-6\">\n            <div className=\"flex-1\">\n              <div className={`inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r ${project.color} text-white text-xs font-bold mb-3`}>\n                {project.name}\n              </div>\n              <h1 className=\"text-3xl md:text-4xl font-bold text-slate-800 dark:text-slate-100 tracking-tight mb-2\">\n                {project.name}\n              </h1>\n              {project.description && (\n                <p className=\"text-slate-600 dark:text-slate-300 text-base\">{project.description}</p>\n              )}\n            </div>\n\n            {/* Stats Summary */}\n            <div className=\"flex gap-3\">\n              <div className=\"text-center px-5 py-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl border-2 border-amber-200 dark:border-amber-800\">\n                <div className=\"text-2xl font-bold text-amber-600 dark:text-amber-400\">{pendingTasks.length}</div>\n                <div className=\"text-xs text-amber-700 dark:text-amber-300 uppercase font-semibold\">To Do</div>\n              </div>\n              <div className=\"text-center px-5 py-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-800\">\n                <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">{inProgressTasks.length}</div>\n                <div className=\"text-xs text-blue-700 dark:text-blue-300 uppercase font-semibold\">In Progress</div>\n              </div>\n              <div className=\"text-center px-5 py-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl border-2 border-emerald-200 dark:border-emerald-800\">\n                <div className=\"text-2xl font-bold text-emerald-600 dark:text-emerald-400\">{completedTasks.length}</div>\n                <div className=\"text-xs text-emerald-700 dark:text-emerald-300 uppercase font-semibold\">Done</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Progress Bar */}\n          <div className=\"mt-6\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <span className=\"text-sm font-medium text-slate-600 dark:text-slate-400\">\n                Overall Progress\n              </span>\n              <span className=\"text-sm font-bold text-slate-700 dark:text-slate-300\">\n                {progress}%\n              </span>\n            </div>\n            <div className=\"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2.5 overflow-hidden\">\n              <div\n                className={`h-full rounded-full transition-all duration-700 ${\n                  progress === 100\n                    ? 'bg-emerald-500'\n                    : `bg-gradient-to-r ${project.color}`\n                }`}\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Quick Stats Cards */}\n        {pendingTasks.length > 0 && (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {highPriorityPending.length > 0 && (\n              <div className=\"bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 rounded-xl p-4\">\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <span className=\"text-xl\"></span>\n                  <span className=\"text-xs font-semibold text-rose-700 dark:text-rose-300 uppercase tracking-wide\">\n                    High Priority\n                  </span>\n                </div>\n                <div className=\"text-2xl font-bold text-rose-600 dark:text-rose-400\">\n                  {highPriorityPending.length} task{highPriorityPending.length !== 1 && 's'}\n                </div>\n                <p className=\"text-xs text-rose-600 dark:text-rose-400 mt-1\">Needs immediate attention</p>\n              </div>\n            )}\n\n            {completedTasks.length > 0 && (\n              <div className=\"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-xl p-4\">\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <svg className=\"w-5 h-5 text-emerald-600 dark:text-emerald-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <span className=\"text-xs font-semibold text-emerald-700 dark:text-emerald-300 uppercase tracking-wide\">\n                    Completed\n                  </span>\n                </div>\n                <div className=\"text-2xl font-bold text-emerald-600 dark:text-emerald-400\">\n                  {completedTasks.length} task{completedTasks.length !== 1 && 's'}\n                </div>\n                <p className=\"text-xs text-emerald-600 dark:text-emerald-400 mt-1\">Great progress! </p>\n              </div>\n            )}\n\n            <div className=\"bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-xl p-4\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <svg className=\"w-5 h-5 text-indigo-600 dark:text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                </svg>\n                <span className=\"text-xs font-semibold text-indigo-700 dark:text-indigo-300 uppercase tracking-wide\">\n                  Total\n                </span>\n              </div>\n              <div className=\"text-2xl font-bold text-indigo-600 dark:text-indigo-400\">\n                {todos.length} task{todos.length !== 1 && 's'}\n              </div>\n              <p className=\"text-xs text-indigo-600 dark:text-indigo-400 mt-1\">In this project</p>\n            </div>\n          </div>\n        )}\n\n        {/* Add Task Form */}\n        <AddTaskForm onAdd={addTodo} showDescription={true} />\n\n        {/* Task View Tabs & Search */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-4\">\n          <div className=\"flex flex-col md:flex-row gap-4 justify-between items-center\">\n            {/* View Tabs */}\n            <div className=\"flex gap-2 w-full md:w-auto flex-wrap\">\n              <button\n                onClick={() => setTaskView('pending')}\n                className={`flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${\n                  taskView === 'pending'\n                    ? 'bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300 shadow-sm'\n                    : 'text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700'\n                }`}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                To Do\n                {pendingTasks.length > 0 && (\n                  <span className=\"px-2 py-0.5 rounded-full bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 text-xs font-bold\">\n                    {pendingTasks.length}\n                  </span>\n                )}\n              </button>\n\n              <button\n                onClick={() => setTaskView('in_progress')}\n                className={`flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${\n                  taskView === 'in_progress'\n                    ? 'bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 shadow-sm'\n                    : 'text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700'\n                }`}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n                In Progress\n                {inProgressTasks.length > 0 && (\n                  <span className=\"px-2 py-0.5 rounded-full bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200 text-xs font-bold\">\n                    {inProgressTasks.length}\n                  </span>\n                )}\n              </button>\n\n              <button\n                onClick={() => setTaskView('completed')}\n                className={`flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${\n                  taskView === 'completed'\n                    ? 'bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 shadow-sm'\n                    : 'text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700'\n                }`}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                Done\n                {completedTasks.length > 0 && (\n                  <span className=\"px-2 py-0.5 rounded-full bg-emerald-200 dark:bg-emerald-800 text-emerald-800 dark:text-emerald-200 text-xs font-bold\">\n                    {completedTasks.length}\n                  </span>\n                )}\n              </button>\n\n              <button\n                onClick={() => setTaskView('all')}\n                className={`flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${\n                  taskView === 'all'\n                    ? 'bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 shadow-sm'\n                    : 'text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700'\n                }`}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 10h16M4 14h16M4 18h16\" />\n                </svg>\n                All\n              </button>\n            </div>\n\n            {/* Search */}\n            <div className=\"relative w-full md:w-64\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search tasks...\"\n                className=\"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none text-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700\"\n              />\n              <svg\n                className=\"w-4 h-4 text-slate-400 dark:text-slate-500 absolute left-3 top-2.5\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n\n        {/* Task List - Grouped by Priority */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6\">\n          {/* View Mode Toggle */}\n          <div className=\"flex gap-2 mb-4\">\n            <button\n              onClick={() => setViewMode('list')}\n              className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${\n                viewMode === 'list'\n                  ? 'bg-indigo-600 text-white shadow-lg'\n                  : 'text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700'\n              }`}\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 10h16M4 14h16M4 18h16\" />\n              </svg>\n              List View\n            </button>\n\n            <button\n              onClick={() => setViewMode('board')}\n              className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${\n                viewMode === 'board'\n                  ? 'bg-indigo-600 text-white shadow-lg'\n                  : 'text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700'\n              }`}\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2\" />\n              </svg>\n              Board View\n            </button>\n          </div>\n\n          {/* Conditional View Rendering */}\n          {viewMode === 'board' ? (\n            <TaskBoard\n              tasks={todos}\n              onToggle={toggleTodo}\n              onStatusChange={handleStatusChange}\n              onDelete={deleteTodo}\n              onViewDetails={setSelectedTask}\n            />\n          ) : (\n            <TaskGroupList\n              tasks={filteredTasks}\n              onToggle={toggleTodo}\n              onStatusChange={handleStatusChange}\n              onDelete={deleteTodo}\n              onViewDetails={setSelectedTask}\n              showCompleted={taskView === 'completed'}\n              showInProgress={taskView === 'in_progress'}\n            />\n          )}\n        </div>\n\n        {/* Task Detail Modal */}\n        {selectedTask && (\n          <TaskModal\n            task={selectedTask}\n            onClose={() => setSelectedTask(null)}\n            onToggleComplete={toggleTodo}\n            onDelete={deleteTodo}\n            onEdit={editTodo}\n          />\n        )}\n        </div>\n      </div>\n    </MainLayout>\n  );\n}\n","/**\n * Formatting utility functions\n */\n\n/**\n * Calculate progress percentage\n */\nexport function calculateProgress(completed: number, total: number): number {\n  if (total === 0) return 0;\n  return Math.round((completed / total) * 100);\n}\n\n/**\n * Format a number with commas for thousands\n */\nexport function formatNumber(num: number): string {\n  return num.toLocaleString();\n}\n\n/**\n * Pluralize a word based on count\n */\nexport function pluralize(count: number, singular: string, plural?: string): string {\n  return count === 1 ? singular : (plural || `${singular}s`);\n}\n","/**\n * Date and time utility functions\n */\n\n/**\n * Format a timestamp to a human-readable date string\n */\nexport function formatDate(timestamp: string | number): string {\n  return new Date(timestamp).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\n/**\n * Format a timestamp to a full date string (with year)\n */\nexport function formatDateFull(timestamp: string | number): string {\n  return new Date(timestamp).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\n/**\n * Get a time-appropriate greeting based on the current hour\n */\nexport function getGreeting(): string {\n  const hour = new Date().getHours();\n  if (hour < 12) return 'Good morning';\n  if (hour < 18) return 'Good afternoon';\n  return 'Good evening';\n}\n\n/**\n * Check if a date is overdue\n */\nexport function isOverdue(dateString: string): boolean {\n  const dueDate = new Date(dateString);\n  const now = new Date();\n  return dueDate < now;\n}\n\n/**\n * Calculate days until/since a date\n */\nexport function getDaysUntil(dateString: string): number {\n  const dueDate = new Date(dateString);\n  const now = new Date();\n  const diffTime = dueDate.getTime() - now.getTime();\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n}\n","/**\n * Task-related utility functions\n */\n\nimport { TaskPriority, TaskStatus, Task } from '../types';\nimport { PRIORITIES } from '../constants/priorities';\n\n/**\n * Get the badge CSS classes for a priority level\n */\nexport function getPriorityBadge(priority: TaskPriority | string): string {\n  switch (priority) {\n    case 'high':\n      return 'bg-rose-100 text-rose-700 border-rose-200';\n    case 'medium':\n      return 'bg-amber-100 text-amber-700 border-amber-200';\n    case 'low':\n      return 'bg-blue-100 text-blue-700 border-blue-200';\n    default:\n      return 'bg-gray-100 text-gray-700 border-gray-200';\n  }\n}\n\n/**\n * Get the emoji icon for a priority level\n */\nexport function getTaskIcon(priority: TaskPriority | string): string {\n  switch (priority) {\n    case 'high':\n      return '';\n    case 'medium':\n      return '';\n    case 'low':\n      return '';\n    default:\n      return '';\n  }\n}\n\n/**\n * Get task status with backward compatibility\n * Returns status if defined, otherwise derives from completed boolean\n */\nexport function getTaskStatus(task: Task): TaskStatus {\n  if (task.status) {\n    return task.status;\n  }\n  // Backward compatibility: derive status from completed boolean\n  return task.completed ? 'completed' : 'pending';\n}\n\n/**\n * Count words in a text string\n */\nexport function countWords(text: string): number {\n  return text.trim().split(/\\s+/).filter((w) => w.length > 0).length;\n}\n\n/**\n * Estimate reading time for a text\n * @returns Reading time string (e.g., \"2 min read\") or null if text is empty\n */\nexport function estimateReadingTime(text: string): string | null {\n  const words = countWords(text);\n  if (words === 0) return null;\n  const minutes = Math.ceil(words / 200);\n  return `${minutes} min read`;\n}\n\n/**\n * Get priority configuration\n */\nexport function getPriorityConfig(priority: TaskPriority) {\n  return PRIORITIES[priority];\n}\n"],"names":["STATUS_CONFIG","pending","label","color","textColor","bgColor","borderColor","icon","_jsx","className","fill","stroke","viewBox","children","cx","cy","r","strokeWidth","in_progress","fillRule","d","clipRule","completed","strokeLinecap","strokeLinejoin","TaskItem","_ref","task","onToggle","onStatusChange","onDelete","onViewDetails","showExpandButton","draggable","isDragging","isExpanded","setIsExpanded","useState","showStatusMenu","setShowStatusMenu","menuPosition","setMenuPosition","top","left","statusButtonRef","useRef","statusMenuRef","attributes","listeners","setNodeRef","transform","useDraggable","id","toString","data","type","disabled","dragStyle","CSS","Translate","zIndex","undefined","status","getTaskStatus","isInProgress","isCompleted","statusConfig","useEffect","updateMenuPosition","current","rect","getBoundingClientRect","bottom","window","scrollY","scrollX","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","_jsxs","_objectSpread","ref","style","concat","onClick","PriorityBadge","priority","CategoryBadge","category","e","stopPropagation","title","getTaskIcon","text","description","length","toggleExpand","dueDate","Date","formatDate","createdAt","estimateReadingTime","createPortal","width","Object","keys","map","statusKey","config","isSelected","handleStatusChange","newStatus","body","CATEGORIES","DAY_NAMES","MONTH_NAMES","generateNextInstance","pattern","fromDate","arguments","next","frequency","setDate","getDate","interval","daysOfWeek","sortedDays","sort","a","b","currentDay","getDay","nextDayInWeek","find","dayOfMonth","setMonth","getMonth","monthOfYear","setFullYear","getFullYear","customDays","getRecurrenceDescription","JSON","stringify","days","join","ordinal","n","s","v","getOrdinal","month","DATE_PATTERNS","resolver","addDays","getNextDayOfWeek","today","result","daysUntilFriday","getEndOfWeek","date","months","addMonths","getEndOfMonth","PRIORITY_PATTERNS","CATEGORY_PATTERNS","dayOfWeek","daysUntil","formatDateForInput","toISOString","split","parseDateString","str","lowerStr","toLowerCase","trim","test","parsed","isNaN","getTime","BREAKDOWN_TEMPLATES","TASK_TYPE_KEYWORDS","PRIORITY_KEYWORDS","high","medium","low","CATEGORY_KEYWORDS","work","personal","health","finance","shopping","home","getBreakdownSuggestions","taskText","lowerText","keywords","entries","some","kw","includes","suggestPriority","suggestCategory","suggestTime","hour","reason","RECURRENCE_PRESETS","FREQUENCY_LABELS","daily","weekly","monthly","yearly","custom","DAYS_OF_WEEK_OPTIONS","value","fullLabel","MONTH_OPTIONS","DAY_OF_MONTH_OPTIONS","Array","from","_","i","END_TYPE_OPTIONS","RecurrencePicker","onChange","startDate","theme","useTheme","selectedPreset","setSelectedPreset","endType","setEndType","showCustom","setShowCustom","customPattern","setCustomPattern","endDate","maxOccurrences","handleCustomChange","updates","newPattern","upcomingDates","count","instances","currentDate","push","getUpcomingInstances","handleClear","preset","presetOption","p","handlePresetSelect","min","max","parseInt","_ref2","day","_customPattern$daysOf","currentDays","newDays","filter","toggleDayOfWeek","slice","option","handleEndTypeChange","index","toLocaleDateString","weekday","TemplateGallery","onSelect","onClose","templates","categories","incrementUsage","getMostUsed","useTemplates","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","selectedTemplate","setSelectedTemplate","variableValues","setVariableValues","errors","setErrors","filteredTemplates","useMemo","filtered","t","query","name","mostUsed","handleTemplateClick","template","getDefaultVariableValues","variables","handleBack","variable","required","handleVariableChange","prev","placeholder","error","interpolateVariables","subtasks","st","CATEGORY_CONFIG","usageCount","handleApplyTemplate","_selectedTemplate$tem","validation","validateVariables","valid","missing","m","now","recurrencePattern","EMOJI_OPTIONS","CreateTemplateModal","onSuccess","createFromTask","setName","setDescription","setCategory","setIcon","setError","onSubmit","preventDefault","emoji","rows","cat","TaskBreakdown","onApply","existingSubtasks","suggestions","setSuggestions","customSubtask","setCustomSubtask","isLoading","setIsLoading","timer","setTimeout","breakdown","smartSuggestions","time","getSmartSuggestions","allSuggestions","idx","selected","clearTimeout","addCustomSubtask","selectedCount","allSelected","_Fragment","toggleSelectAll","suggestion","checked","toggleSuggestion","startsWith","onKeyDown","key","handleApply","selectedSubtasks","MAX_DESCRIPTION_LENGTH","AddTaskForm","onAdd","showDescription","inputValue","setInputValue","inputDescription","setInputDescription","setPriority","setDueDate","isRecurring","setIsRecurring","setRecurrencePattern","showRecurrencePicker","setShowRecurrencePicker","showTemplateGallery","setShowTemplateGallery","setSubtasks","showSmartHints","setShowSmartHints","inputRef","taskBreakdown","useTaskBreakdown","isOpen","setIsOpen","currentTask","setCurrentTask","close","open","hasNLP","input","parsedTask","byPattern","byMatch","match","parsedDate","replace","onPattern","onMatch","inDaysMatch","inWeeksMatch","weeks","c","parseTask","hasBreakdownSuggestions","handleSubmit","_inputRef$current","parsedPriority","parsedCategory","parsedDueDate","resetForm","focus","handleApplyBreakdown","useCallback","newSubtasks","formattedSubtasks","descriptionLength","isNearLimit","isAtLimit","handleQuickAdd","_inputRef$current2","onKeyPress","shiftKey","handleOpenBreakdown","countWords","PRIORITIES","badge","handleToggleRecurring","templateData","_inputRef$current3","TaskGroup","tasks","colorClass","bgColorClass","borderColorClass","emptyMessage","TaskGroupList","showCompleted","showInProgress","highPriorityTasks","mediumPriorityTasks","lowPriorityTasks","completedTasks","inProgressTasks","SubtaskList","onEdit","isEditable","newSubtaskText","setNewSubtaskText","editingId","setEditingId","editText","setEditText","completedCount","progressPercentage","handleStartEdit","subtask","handleSaveEdit","onBlur","autoFocus","onDoubleClick","DroppableZone","isOver","useDroppable","statusIcons","RecurringBadge","compact","RecurringIcon","PRIORITY_COLORS","PRIORITY_DOTS","TaskCard","swipeOffset","setSwipeOffset","swipeAction","setSwipeAction","touchStartRef","isSwipingRef","Math","abs","onTouchStart","touch","touches","x","clientX","y","clientY","onTouchMove","deltaX","deltaY","onTouchEnd","handleTouchEnd","handleClick","TaskBoard","activeId","setActiveId","React","sensors","useSensors","useSensor","PointerSensor","activationConstraint","distance","KeyboardSensor","pendingTasks","activeTask","DndContext","collisionDetection","closestCenter","onDragStart","active","onDragEnd","_over$data","_over$data$current","over","taskId","String","DragOverlay","areNotificationsSupported","storeScheduledNotifications","notifications","localStorage","setItem","getScheduledNotifications","stored","getItem","parse","console","TaskModal","onToggleComplete","isEditing","setIsEditing","showCreateTemplate","setShowCreateTemplate","editedTask","setEditedTask","notificationSettings","enabled","timing","priorityStyle","deadlineStatus","getDeadlineStatus","diffDays","getDaysUntil","readingTime","handleEscape","overflow","isUrgent","currentTarget","formatDateFull","subtaskId","updatedSubtasks","newSubtask","handleEditSubtaskEdit","NotificationSettingsComponent","settings","hasDueDate","handleEditSubtask","handleCancelEdit","async","_editedTask$notificat","warn","Notification","permission","requestPermission","requestNotificationPermission","timings","due","forEach","notifyAt","scheduleNotifications","allNotifications","ProjectDetail","projectId","useParams","getProject","addTodoToProject","updateTodoInProject","deleteTodoFromProject","updateProjectStats","useProjects","completeTask","useGame","navigate","useNavigate","project","todos","setTodos","selectedTask","setSelectedTask","taskView","setTaskView","viewMode","setViewMode","toggleTodo","todo","isCompleting","updatedTodo","completedAt","startedAt","deleteTodo","highPriorityPending","progress","total","round","filteredTasks","matchesView","matchesSearch","MainLayout","taskData","newTodo","editTodo","timestamp","minute","year","isOverdue","dateString","diffTime","ceil","w","words","minutes"],"sourceRoot":""}