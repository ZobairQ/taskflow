{"ast":null,"code":"/**\n * SubtaskList component for managing checklists within tasks\n */import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const SubtaskList=_ref=>{let{subtasks,onToggle,onAdd,onDelete,onEdit,isEditable=true}=_ref;const[newSubtaskText,setNewSubtaskText]=useState('');const[editingId,setEditingId]=useState(null);const[editText,setEditText]=useState('');const completedCount=subtasks.filter(s=>s.completed).length;const progressPercentage=subtasks.length>0?completedCount/subtasks.length*100:0;const handleAddSubtask=e=>{e.preventDefault();if(newSubtaskText.trim()){onAdd(newSubtaskText.trim());setNewSubtaskText('');}};const handleStartEdit=subtask=>{setEditingId(subtask.id);setEditText(subtask.text);};const handleSaveEdit=()=>{if(editingId&&onEdit&&editText.trim()){onEdit(editingId,editText.trim());}setEditingId(null);setEditText('');};const handleCancelEdit=()=>{setEditingId(null);setEditText('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[subtasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-gradient-to-r from-emerald-400 to-emerald-600 transition-all duration-300\",style:{width:\"\".concat(progressPercentage,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-slate-600 dark:text-slate-400\",children:[completedCount,\"/\",subtasks.length]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:subtasks.map(subtask=>/*#__PURE__*/_jsxs(\"div\",{className:\"group flex items-start gap-3 p-3 rounded-lg transition-all \".concat(subtask.completed?'bg-emerald-50 dark:bg-emerald-900/20':'bg-slate-50 dark:bg-slate-800/50'),children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onToggle(subtask.id),className:\"flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all \".concat(subtask.completed?'bg-emerald-500 border-emerald-500 text-white':'border-slate-300 dark:border-slate-600 hover:border-emerald-500'),children:subtask.completed&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:3,d:\"M5 13l4 4L19 7\"})})}),editingId===subtask.id?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editText,onChange:e=>setEditText(e.target.value),onBlur:handleSaveEdit,onKeyDown:e=>{if(e.key==='Enter')handleSaveEdit();if(e.key==='Escape')handleCancelEdit();},className:\"flex-1 px-2 py-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 outline-none focus:border-indigo-500\",autoFocus:true}):/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 \".concat(subtask.completed?'text-slate-500 dark:text-slate-400 line-through':'text-slate-700 dark:text-slate-300'),onDoubleClick:()=>isEditable&&handleStartEdit(subtask),children:subtask.text}),isEditable&&editingId!==subtask.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\",children:[onEdit&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStartEdit(subtask),className:\"p-1 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors\",title:\"Edit subtask\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(subtask.id),className:\"p-1 text-slate-400 hover:text-rose-600 dark:hover:text-rose-400 transition-colors\",title:\"Delete subtask\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})]},subtask.id))}),isEditable&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddSubtask,className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newSubtaskText,onChange:e=>setNewSubtaskText(e.target.value),placeholder:\"Add a subtask...\",className:\"flex-1 px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 outline-none focus:border-indigo-500 text-sm\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!newSubtaskText.trim(),className:\"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm\",children:\"Add\"})]})]});};","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SubtaskList","_ref","subtasks","onToggle","onAdd","onDelete","onEdit","isEditable","newSubtaskText","setNewSubtaskText","editingId","setEditingId","editText","setEditText","completedCount","filter","s","completed","length","progressPercentage","handleAddSubtask","e","preventDefault","trim","handleStartEdit","subtask","id","text","handleSaveEdit","handleCancelEdit","className","children","style","width","concat","map","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","type","value","onChange","target","onBlur","onKeyDown","key","autoFocus","onDoubleClick","title","onSubmit","placeholder","disabled"],"sources":["/home/zobair-qauomi/todo_app/frontend/src/components/tasks/SubtaskList.tsx"],"sourcesContent":["/**\n * SubtaskList component for managing checklists within tasks\n */\n\nimport React, { useState } from 'react';\nimport { Subtask } from '../../types';\n\ninterface SubtaskListProps {\n  subtasks: Subtask[];\n  onToggle: (id: number) => void;\n  onAdd: (text: string) => void;\n  onDelete: (id: number) => void;\n  onEdit?: (id: number, text: string) => void;\n  isEditable?: boolean;\n}\n\nexport const SubtaskList: React.FC<SubtaskListProps> = ({\n  subtasks,\n  onToggle,\n  onAdd,\n  onDelete,\n  onEdit,\n  isEditable = true,\n}) => {\n  const [newSubtaskText, setNewSubtaskText] = useState('');\n  const [editingId, setEditingId] = useState<number | null>(null);\n  const [editText, setEditText] = useState('');\n\n  const completedCount = subtasks.filter((s) => s.completed).length;\n  const progressPercentage = subtasks.length > 0 ? (completedCount / subtasks.length) * 100 : 0;\n\n  const handleAddSubtask = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (newSubtaskText.trim()) {\n      onAdd(newSubtaskText.trim());\n      setNewSubtaskText('');\n    }\n  };\n\n  const handleStartEdit = (subtask: Subtask) => {\n    setEditingId(subtask.id);\n    setEditText(subtask.text);\n  };\n\n  const handleSaveEdit = () => {\n    if (editingId && onEdit && editText.trim()) {\n      onEdit(editingId, editText.trim());\n    }\n    setEditingId(null);\n    setEditText('');\n  };\n\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditText('');\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      {/* Progress Bar */}\n      {subtasks.length > 0 && (\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden\">\n            <div\n              className=\"h-full bg-gradient-to-r from-emerald-400 to-emerald-600 transition-all duration-300\"\n              style={{ width: `${progressPercentage}%` }}\n            />\n          </div>\n          <span className=\"text-sm font-medium text-slate-600 dark:text-slate-400\">\n            {completedCount}/{subtasks.length}\n          </span>\n        </div>\n      )}\n\n      {/* Subtask Items */}\n      <div className=\"space-y-2\">\n        {subtasks.map((subtask) => (\n          <div\n            key={subtask.id}\n            className={`group flex items-start gap-3 p-3 rounded-lg transition-all ${\n              subtask.completed\n                ? 'bg-emerald-50 dark:bg-emerald-900/20'\n                : 'bg-slate-50 dark:bg-slate-800/50'\n            }`}\n          >\n            {/* Checkbox */}\n            <button\n              onClick={() => onToggle(subtask.id)}\n              className={`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${\n                subtask.completed\n                  ? 'bg-emerald-500 border-emerald-500 text-white'\n                  : 'border-slate-300 dark:border-slate-600 hover:border-emerald-500'\n              }`}\n            >\n              {subtask.completed && (\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              )}\n            </button>\n\n            {/* Text */}\n            {editingId === subtask.id ? (\n              <input\n                type=\"text\"\n                value={editText}\n                onChange={(e) => setEditText(e.target.value)}\n                onBlur={handleSaveEdit}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') handleSaveEdit();\n                  if (e.key === 'Escape') handleCancelEdit();\n                }}\n                className=\"flex-1 px-2 py-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 outline-none focus:border-indigo-500\"\n                autoFocus\n              />\n            ) : (\n              <span\n                className={`flex-1 ${\n                  subtask.completed\n                    ? 'text-slate-500 dark:text-slate-400 line-through'\n                    : 'text-slate-700 dark:text-slate-300'\n                }`}\n                onDoubleClick={() => isEditable && handleStartEdit(subtask)}\n              >\n                {subtask.text}\n              </span>\n            )}\n\n            {/* Actions */}\n            {isEditable && editingId !== subtask.id && (\n              <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                {onEdit && (\n                  <button\n                    onClick={() => handleStartEdit(subtask)}\n                    className=\"p-1 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors\"\n                    title=\"Edit subtask\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                    </svg>\n                  </button>\n                )}\n                <button\n                  onClick={() => onDelete(subtask.id)}\n                  className=\"p-1 text-slate-400 hover:text-rose-600 dark:hover:text-rose-400 transition-colors\"\n                  title=\"Delete subtask\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </button>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Add New Subtask */}\n      {isEditable && (\n        <form onSubmit={handleAddSubtask} className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={newSubtaskText}\n            onChange={(e) => setNewSubtaskText(e.target.value)}\n            placeholder=\"Add a subtask...\"\n            className=\"flex-1 px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 outline-none focus:border-indigo-500 text-sm\"\n          />\n          <button\n            type=\"submit\"\n            disabled={!newSubtaskText.trim()}\n            className=\"px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm\"\n          >\n            Add\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n"],"mappings":"AAAA;AACA;AACA,GAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAYxC,MAAO,MAAM,CAAAC,WAAuC,CAAGC,IAAA,EAOjD,IAPkD,CACtDC,QAAQ,CACRC,QAAQ,CACRC,KAAK,CACLC,QAAQ,CACRC,MAAM,CACNC,UAAU,CAAG,IACf,CAAC,CAAAN,IAAA,CACC,KAAM,CAACO,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACe,SAAS,CAAEC,YAAY,CAAC,CAAGhB,QAAQ,CAAgB,IAAI,CAAC,CAC/D,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAmB,cAAc,CAAGZ,QAAQ,CAACa,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAACC,SAAS,CAAC,CAACC,MAAM,CACjE,KAAM,CAAAC,kBAAkB,CAAGjB,QAAQ,CAACgB,MAAM,CAAG,CAAC,CAAIJ,cAAc,CAAGZ,QAAQ,CAACgB,MAAM,CAAI,GAAG,CAAG,CAAC,CAE7F,KAAM,CAAAE,gBAAgB,CAAIC,CAAkB,EAAK,CAC/CA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAId,cAAc,CAACe,IAAI,CAAC,CAAC,CAAE,CACzBnB,KAAK,CAACI,cAAc,CAACe,IAAI,CAAC,CAAC,CAAC,CAC5Bd,iBAAiB,CAAC,EAAE,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAAe,eAAe,CAAIC,OAAgB,EAAK,CAC5Cd,YAAY,CAACc,OAAO,CAACC,EAAE,CAAC,CACxBb,WAAW,CAACY,OAAO,CAACE,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIlB,SAAS,EAAIJ,MAAM,EAAIM,QAAQ,CAACW,IAAI,CAAC,CAAC,CAAE,CAC1CjB,MAAM,CAACI,SAAS,CAAEE,QAAQ,CAACW,IAAI,CAAC,CAAC,CAAC,CACpC,CACAZ,YAAY,CAAC,IAAI,CAAC,CAClBE,WAAW,CAAC,EAAE,CAAC,CACjB,CAAC,CAED,KAAM,CAAAgB,gBAAgB,CAAGA,CAAA,GAAM,CAC7BlB,YAAY,CAAC,IAAI,CAAC,CAClBE,WAAW,CAAC,EAAE,CAAC,CACjB,CAAC,CAED,mBACEd,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,EAEvB7B,QAAQ,CAACgB,MAAM,CAAG,CAAC,eAClBnB,KAAA,QAAK+B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtClC,IAAA,QAAKiC,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cACrFlC,IAAA,QACEiC,SAAS,CAAC,qFAAqF,CAC/FE,KAAK,CAAE,CAAEC,KAAK,IAAAC,MAAA,CAAKf,kBAAkB,KAAI,CAAE,CAC5C,CAAC,CACC,CAAC,cACNpB,KAAA,SAAM+B,SAAS,CAAC,wDAAwD,CAAAC,QAAA,EACrEjB,cAAc,CAAC,GAAC,CAACZ,QAAQ,CAACgB,MAAM,EAC7B,CAAC,EACJ,CACN,cAGDrB,IAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB7B,QAAQ,CAACiC,GAAG,CAAEV,OAAO,eACpB1B,KAAA,QAEE+B,SAAS,+DAAAI,MAAA,CACPT,OAAO,CAACR,SAAS,CACb,sCAAsC,CACtC,kCAAkC,CACrC,CAAAc,QAAA,eAGHlC,IAAA,WACEuC,OAAO,CAAEA,CAAA,GAAMjC,QAAQ,CAACsB,OAAO,CAACC,EAAE,CAAE,CACpCI,SAAS,2FAAAI,MAAA,CACPT,OAAO,CAACR,SAAS,CACb,8CAA8C,CAC9C,iEAAiE,CACpE,CAAAc,QAAA,CAEFN,OAAO,CAACR,SAAS,eAChBpB,IAAA,QAAKiC,SAAS,CAAC,SAAS,CAACO,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAR,QAAA,cAC5ElC,IAAA,SAAM2C,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CACN,CACK,CAAC,CAGRjC,SAAS,GAAKe,OAAO,CAACC,EAAE,cACvB7B,IAAA,UACE+C,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEjC,QAAS,CAChBkC,QAAQ,CAAGzB,CAAC,EAAKR,WAAW,CAACQ,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAE,CAC7CG,MAAM,CAAEpB,cAAe,CACvBqB,SAAS,CAAG5B,CAAC,EAAK,CAChB,GAAIA,CAAC,CAAC6B,GAAG,GAAK,OAAO,CAAEtB,cAAc,CAAC,CAAC,CACvC,GAAIP,CAAC,CAAC6B,GAAG,GAAK,QAAQ,CAAErB,gBAAgB,CAAC,CAAC,CAC5C,CAAE,CACFC,SAAS,CAAC,wIAAwI,CAClJqB,SAAS,MACV,CAAC,cAEFtD,IAAA,SACEiC,SAAS,WAAAI,MAAA,CACPT,OAAO,CAACR,SAAS,CACb,iDAAiD,CACjD,oCAAoC,CACvC,CACHmC,aAAa,CAAEA,CAAA,GAAM7C,UAAU,EAAIiB,eAAe,CAACC,OAAO,CAAE,CAAAM,QAAA,CAE3DN,OAAO,CAACE,IAAI,CACT,CACP,CAGApB,UAAU,EAAIG,SAAS,GAAKe,OAAO,CAACC,EAAE,eACrC3B,KAAA,QAAK+B,SAAS,CAAC,iEAAiE,CAAAC,QAAA,EAC7EzB,MAAM,eACLT,IAAA,WACEuC,OAAO,CAAEA,CAAA,GAAMZ,eAAe,CAACC,OAAO,CAAE,CACxCK,SAAS,CAAC,uFAAuF,CACjGuB,KAAK,CAAC,cAAc,CAAAtB,QAAA,cAEpBlC,IAAA,QAAKiC,SAAS,CAAC,SAAS,CAACO,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAR,QAAA,cAC5ElC,IAAA,SAAM2C,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,wHAAwH,CAAE,CAAC,CAC7L,CAAC,CACA,CACT,cACD9C,IAAA,WACEuC,OAAO,CAAEA,CAAA,GAAM/B,QAAQ,CAACoB,OAAO,CAACC,EAAE,CAAE,CACpCI,SAAS,CAAC,mFAAmF,CAC7FuB,KAAK,CAAC,gBAAgB,CAAAtB,QAAA,cAEtBlC,IAAA,QAAKiC,SAAS,CAAC,SAAS,CAACO,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAR,QAAA,cAC5ElC,IAAA,SAAM2C,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,8HAA8H,CAAE,CAAC,CACnM,CAAC,CACA,CAAC,EACN,CACN,GA1EIlB,OAAO,CAACC,EA2EV,CACN,CAAC,CACC,CAAC,CAGLnB,UAAU,eACTR,KAAA,SAAMuD,QAAQ,CAAElC,gBAAiB,CAACU,SAAS,CAAC,YAAY,CAAAC,QAAA,eACtDlC,IAAA,UACE+C,IAAI,CAAC,MAAM,CACXC,KAAK,CAAErC,cAAe,CACtBsC,QAAQ,CAAGzB,CAAC,EAAKZ,iBAAiB,CAACY,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAE,CACnDU,WAAW,CAAC,kBAAkB,CAC9BzB,SAAS,CAAC,mJAAmJ,CAC9J,CAAC,cACFjC,IAAA,WACE+C,IAAI,CAAC,QAAQ,CACbY,QAAQ,CAAE,CAAChD,cAAc,CAACe,IAAI,CAAC,CAAE,CACjCO,SAAS,CAAC,sJAAsJ,CAAAC,QAAA,CACjK,KAED,CAAQ,CAAC,EACL,CACP,EACE,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}