{"ast":null,"code":"import _objectSpread from\"/home/zobair-qauomi/todo_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * TemplateContext - State management for task templates with Apollo integration\n */import React,{createContext,useContext,useState,useEffect,useCallback,useMemo}from'react';import{useQuery,useMutation}from'@apollo/client/react';import{BUILT_IN_TEMPLATES,CATEGORY_CONFIG}from'../constants/templates';import{createTemplateFromTask,filterTemplates,sortTemplatesByUsage}from'../utils/templateUtils';import{GET_TEMPLATES,GET_MOST_USED_TEMPLATES}from'../graphql/queries';import{CREATE_TEMPLATE,UPDATE_TEMPLATE,DELETE_TEMPLATE,USE_TEMPLATE}from'../graphql/mutations';import{isAuthenticated}from'../lib/apollo';// Storage key for custom templates (fallback when not authenticated)\nimport{jsx as _jsx}from\"react/jsx-runtime\";const STORAGE_KEY='taskflow_custom_templates';const USAGE_KEY='taskflow_template_usage';const TemplateContext=/*#__PURE__*/createContext(undefined);// Type for GraphQL query results\nexport function TemplateProvider(_ref){let{children}=_ref;// Local state for custom templates (fallback when not authenticated)\nconst[localCustomTemplates,setLocalCustomTemplates]=useState([]);const[usageStats,setUsageStats]=useState({});// Apollo queries (only when authenticated)\nconst{data:templatesData,refetch:refetchTemplates}=useQuery(GET_TEMPLATES,{skip:!isAuthenticated(),fetchPolicy:'cache-and-network'});const{data:mostUsedData}=useQuery(GET_MOST_USED_TEMPLATES,{skip:!isAuthenticated(),variables:{limit:10}});// Apollo mutations\nconst[createTemplateMutation]=useMutation(CREATE_TEMPLATE,{refetchQueries:[{query:GET_TEMPLATES},{query:GET_MOST_USED_TEMPLATES}]});const[updateTemplateMutation]=useMutation(UPDATE_TEMPLATE,{refetchQueries:[{query:GET_TEMPLATES}]});const[deleteTemplateMutation]=useMutation(DELETE_TEMPLATE,{refetchQueries:[{query:GET_TEMPLATES},{query:GET_MOST_USED_TEMPLATES}]});const[useTemplateMutation]=useMutation(USE_TEMPLATE,{refetchQueries:[{query:GET_TEMPLATES},{query:GET_MOST_USED_TEMPLATES}]});// Load local templates from localStorage (fallback)\nuseEffect(()=>{try{const stored=localStorage.getItem(STORAGE_KEY);if(stored){setLocalCustomTemplates(JSON.parse(stored));}}catch(e){console.error('Failed to load templates:',e);}try{const usageStored=localStorage.getItem(USAGE_KEY);if(usageStored){setUsageStats(JSON.parse(usageStored));}}catch(e){console.error('Failed to load usage stats:',e);}},[]);// Save local templates to localStorage\nuseEffect(()=>{if(!isAuthenticated()){localStorage.setItem(STORAGE_KEY,JSON.stringify(localCustomTemplates));}},[localCustomTemplates]);// Save usage stats to localStorage\nuseEffect(()=>{localStorage.setItem(USAGE_KEY,JSON.stringify(usageStats));},[usageStats]);// Transform Apollo template data to local format\nconst serverTemplates=useMemo(()=>{if(!(templatesData!==null&&templatesData!==void 0&&templatesData.templates))return[];return templatesData.templates.map(t=>({id:t.id,name:t.name,description:t.description||'',category:t.category,icon:t.icon||'⭐',isBuiltIn:t.isBuiltIn,createdAt:new Date(t.createdAt).getTime(),usageCount:t.usageCount||0,// Default values for other template properties\ndefaultPriority:'medium',defaultCategory:t.category,subtaskTemplates:[]}));},[templatesData]);// Determine which custom templates to use\nconst customTemplates=useMemo(()=>{if(isAuthenticated()&&serverTemplates.length>0){// Use server templates, filtering out built-in ones\nreturn serverTemplates.filter(t=>!t.isBuiltIn);}// Fallback to local templates\nreturn localCustomTemplates;},[serverTemplates,localCustomTemplates]);// Combine built-in and custom templates\nconst templates=useMemo(()=>{// When authenticated, server provides all templates\nif(isAuthenticated()&&serverTemplates.length>0){return serverTemplates.map(t=>_objectSpread(_objectSpread({},t),{},{usageCount:usageStats[t.id]||t.usageCount||0}));}// Otherwise, combine built-in with local custom\nconst all=[...BUILT_IN_TEMPLATES,...localCustomTemplates];return all.map(t=>_objectSpread(_objectSpread({},t),{},{usageCount:usageStats[t.id]||t.usageCount||0}));},[serverTemplates,localCustomTemplates,usageStats]);// Get categories with template counts\nconst categories=useMemo(()=>{const counts={work:0,personal:0,health:0,finance:0,learning:0,custom:0};templates.forEach(t=>{counts[t.category]++;});return Object.entries(counts).filter(_ref2=>{let[_,count]=_ref2;return count>0;}).map(_ref3=>{let[category,count]=_ref3;return{category:category,count};});},[templates]);// Add a new custom template\nconst addTemplate=useCallback(async templateData=>{const newTemplate=_objectSpread(_objectSpread({},templateData),{},{id:\"custom-\".concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9)),isBuiltIn:false,createdAt:Date.now(),usageCount:0});if(isAuthenticated()){try{var _templateData$subtask,_result$data;const result=await createTemplateMutation({variables:{input:{name:templateData.name,description:templateData.description,category:templateData.category,icon:templateData.icon,defaultPriority:templateData.defaultPriority,defaultCategory:templateData.defaultCategory,subtaskTemplates:(_templateData$subtask=templateData.subtaskTemplates)===null||_templateData$subtask===void 0?void 0:_templateData$subtask.map(s=>({text:s.text}))}}});if((_result$data=result.data)!==null&&_result$data!==void 0&&_result$data.createTemplate){return _objectSpread(_objectSpread({},newTemplate),{},{id:result.data.createTemplate.id,createdAt:new Date(result.data.createTemplate.createdAt).getTime()});}}catch(error){console.error('Failed to create template on server:',error);}}// Fallback to local storage\nsetLocalCustomTemplates(prev=>[...prev,newTemplate]);return newTemplate;},[createTemplateMutation]);// Create template from an existing task\nconst createFromTask=useCallback(async function(task,name,description){let category=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'custom';let icon=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'⭐';const newTemplate=createTemplateFromTask(task,name,description,category,icon);if(isAuthenticated()){try{var _newTemplate$subtaskT,_result$data2;const result=await createTemplateMutation({variables:{input:{name:newTemplate.name,description:newTemplate.description,category:newTemplate.category,icon:newTemplate.icon,defaultPriority:newTemplate.defaultPriority,defaultCategory:newTemplate.defaultCategory,subtaskTemplates:(_newTemplate$subtaskT=newTemplate.subtaskTemplates)===null||_newTemplate$subtaskT===void 0?void 0:_newTemplate$subtaskT.map(s=>({text:s.text}))}}});if((_result$data2=result.data)!==null&&_result$data2!==void 0&&_result$data2.createTemplate){return _objectSpread(_objectSpread({},newTemplate),{},{id:result.data.createTemplate.id,createdAt:new Date(result.data.createTemplate.createdAt).getTime()});}}catch(error){console.error('Failed to create template on server:',error);}}// Fallback to local storage\nsetLocalCustomTemplates(prev=>[...prev,newTemplate]);return newTemplate;},[createTemplateMutation]);// Update a custom template\nconst updateTemplate=useCallback(async(id,updates)=>{if(isAuthenticated()&&!id.startsWith('custom-')){try{var _updates$subtaskTempl;await updateTemplateMutation({variables:{id,input:{name:updates.name,description:updates.description,category:updates.category,icon:updates.icon,defaultPriority:updates.defaultPriority,defaultCategory:updates.defaultCategory,subtaskTemplates:(_updates$subtaskTempl=updates.subtaskTemplates)===null||_updates$subtaskTempl===void 0?void 0:_updates$subtaskTempl.map(s=>({text:s.text}))}}});return;}catch(error){console.error('Failed to update template on server:',error);}}// Fallback to local\nsetLocalCustomTemplates(prev=>prev.map(t=>t.id===id?_objectSpread(_objectSpread({},t),updates):t));},[updateTemplateMutation]);// Delete a custom template\nconst deleteTemplate=useCallback(async id=>{// Don't allow deleting built-in templates\nif(id.startsWith('builtin-'))return;if(isAuthenticated()&&!id.startsWith('custom-')){try{await deleteTemplateMutation({variables:{id}});return;}catch(error){console.error('Failed to delete template on server:',error);}}// Fallback to local\nsetLocalCustomTemplates(prev=>prev.filter(t=>t.id!==id));},[deleteTemplateMutation]);// Increment usage count for a template\nconst incrementUsage=useCallback(async id=>{// Update local usage stats\nsetUsageStats(prev=>_objectSpread(_objectSpread({},prev),{},{[id]:(prev[id]||0)+1}));// Note: Usage is tracked on the server when USE_TEMPLATE mutation is called\n},[]);// Get a single template by ID\nconst getTemplate=useCallback(id=>{return templates.find(t=>t.id===id);},[templates]);// Filter templates by category\nconst filterByCategory=useCallback(category=>{if(!category)return templates;return filterTemplates(templates,{category});},[templates]);// Search templates\nconst searchTemplates=useCallback(query=>{return filterTemplates(templates,{searchQuery:query});},[templates]);// Get most used templates\nconst getMostUsed=useCallback(function(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;// Use server data if available\nif(isAuthenticated()&&mostUsedData!==null&&mostUsedData!==void 0&&mostUsedData.mostUsedTemplates){return mostUsedData.mostUsedTemplates.slice(0,limit).map(t=>({id:t.id,name:t.name,description:t.description||'',category:t.category,icon:t.icon||'⭐',isBuiltIn:t.isBuiltIn||false,createdAt:0,usageCount:t.usageCount||0,defaultPriority:'medium',defaultCategory:t.category,subtaskTemplates:[]}));}return sortTemplatesByUsage(templates).slice(0,limit);},[templates,mostUsedData]);const value={templates,customTemplates,builtInTemplates:BUILT_IN_TEMPLATES,categories,addTemplate,createFromTask,updateTemplate,deleteTemplate,incrementUsage,getTemplate,filterByCategory,searchTemplates,getMostUsed};return/*#__PURE__*/_jsx(TemplateContext.Provider,{value:value,children:children});}export function useTemplates(){const context=useContext(TemplateContext);if(!context){throw new Error('useTemplates must be used within a TemplateProvider');}return context;}// Export category config for use in components\nexport{CATEGORY_CONFIG};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","useMemo","useQuery","useMutation","BUILT_IN_TEMPLATES","CATEGORY_CONFIG","createTemplateFromTask","filterTemplates","sortTemplatesByUsage","GET_TEMPLATES","GET_MOST_USED_TEMPLATES","CREATE_TEMPLATE","UPDATE_TEMPLATE","DELETE_TEMPLATE","USE_TEMPLATE","isAuthenticated","jsx","_jsx","STORAGE_KEY","USAGE_KEY","TemplateContext","undefined","TemplateProvider","_ref","children","localCustomTemplates","setLocalCustomTemplates","usageStats","setUsageStats","data","templatesData","refetch","refetchTemplates","skip","fetchPolicy","mostUsedData","variables","limit","createTemplateMutation","refetchQueries","query","updateTemplateMutation","deleteTemplateMutation","useTemplateMutation","stored","localStorage","getItem","JSON","parse","e","console","error","usageStored","setItem","stringify","serverTemplates","templates","map","t","id","name","description","category","icon","isBuiltIn","createdAt","Date","getTime","usageCount","defaultPriority","defaultCategory","subtaskTemplates","customTemplates","length","filter","_objectSpread","all","categories","counts","work","personal","health","finance","learning","custom","forEach","Object","entries","_ref2","_","count","_ref3","addTemplate","templateData","newTemplate","concat","now","Math","random","toString","substr","_templateData$subtask","_result$data","result","input","s","text","createTemplate","prev","createFromTask","task","arguments","_newTemplate$subtaskT","_result$data2","updateTemplate","updates","startsWith","_updates$subtaskTempl","deleteTemplate","incrementUsage","getTemplate","find","filterByCategory","searchTemplates","searchQuery","getMostUsed","mostUsedTemplates","slice","value","builtInTemplates","Provider","useTemplates","context","Error"],"sources":["/home/zobair-qauomi/todo_app/frontend/src/contexts/TemplateContext.tsx"],"sourcesContent":["/**\n * TemplateContext - State management for task templates with Apollo integration\n */\n\nimport React, { createContext, useContext, useState, useEffect, useCallback, useMemo } from 'react';\nimport { useQuery, useMutation } from '@apollo/client/react';\nimport { TaskTemplate, TemplateCategory } from '../types/template.types';\nimport { Task } from '../types/task.types';\nimport { BUILT_IN_TEMPLATES, CATEGORY_CONFIG } from '../constants/templates';\nimport {\n  createTemplateFromTask,\n  filterTemplates,\n  sortTemplatesByUsage,\n} from '../utils/templateUtils';\nimport { GET_TEMPLATES, GET_MOST_USED_TEMPLATES } from '../graphql/queries';\nimport { CREATE_TEMPLATE, UPDATE_TEMPLATE, DELETE_TEMPLATE, USE_TEMPLATE } from '../graphql/mutations';\nimport { isAuthenticated } from '../lib/apollo';\n\n// Storage key for custom templates (fallback when not authenticated)\nconst STORAGE_KEY = 'taskflow_custom_templates';\nconst USAGE_KEY = 'taskflow_template_usage';\n\ninterface TemplateContextType {\n  // All templates (built-in + custom)\n  templates: TaskTemplate[];\n  // Custom templates only\n  customTemplates: TaskTemplate[];\n  // Built-in templates only\n  builtInTemplates: TaskTemplate[];\n  // Categories with templates\n  categories: { category: TemplateCategory; count: number }[];\n\n  // Actions\n  addTemplate: (template: Omit<TaskTemplate, 'id' | 'createdAt' | 'usageCount' | 'isBuiltIn'>) => TaskTemplate;\n  createFromTask: (task: Task, name: string, description: string, category?: TemplateCategory, icon?: string) => TaskTemplate;\n  updateTemplate: (id: string, updates: Partial<TaskTemplate>) => void;\n  deleteTemplate: (id: string) => void;\n  incrementUsage: (id: string) => void;\n  getTemplate: (id: string) => TaskTemplate | undefined;\n\n  // Filtering\n  filterByCategory: (category?: TemplateCategory) => TaskTemplate[];\n  searchTemplates: (query: string) => TaskTemplate[];\n  getMostUsed: (limit?: number) => TaskTemplate[];\n}\n\nconst TemplateContext = createContext<TemplateContextType | undefined>(undefined);\n\n// Type for GraphQL query results\ninterface TemplatesQueryResult {\n  templates: Array<{\n    id: string;\n    name: string;\n    description?: string;\n    category: string;\n    icon?: string;\n    isBuiltIn: boolean;\n    createdAt: string;\n    usageCount: number;\n  }>;\n}\n\ninterface MostUsedTemplatesQueryResult {\n  mostUsedTemplates: Array<{\n    id: string;\n    name: string;\n    description?: string;\n    category: string;\n    icon?: string;\n    isBuiltIn?: boolean;\n    usageCount: number;\n  }>;\n}\n\nexport function TemplateProvider({ children }: { children: React.ReactNode }) {\n  // Local state for custom templates (fallback when not authenticated)\n  const [localCustomTemplates, setLocalCustomTemplates] = useState<TaskTemplate[]>([]);\n  const [usageStats, setUsageStats] = useState<Record<string, number>>({});\n\n  // Apollo queries (only when authenticated)\n  const { data: templatesData, refetch: refetchTemplates } = useQuery<TemplatesQueryResult>(GET_TEMPLATES, {\n    skip: !isAuthenticated(),\n    fetchPolicy: 'cache-and-network',\n  });\n\n  const { data: mostUsedData } = useQuery<MostUsedTemplatesQueryResult>(GET_MOST_USED_TEMPLATES, {\n    skip: !isAuthenticated(),\n    variables: { limit: 10 },\n  });\n\n  // Apollo mutations\n  const [createTemplateMutation] = useMutation(CREATE_TEMPLATE, {\n    refetchQueries: [{ query: GET_TEMPLATES }, { query: GET_MOST_USED_TEMPLATES }],\n  });\n\n  const [updateTemplateMutation] = useMutation(UPDATE_TEMPLATE, {\n    refetchQueries: [{ query: GET_TEMPLATES }],\n  });\n\n  const [deleteTemplateMutation] = useMutation(DELETE_TEMPLATE, {\n    refetchQueries: [{ query: GET_TEMPLATES }, { query: GET_MOST_USED_TEMPLATES }],\n  });\n\n  const [useTemplateMutation] = useMutation(USE_TEMPLATE, {\n    refetchQueries: [{ query: GET_TEMPLATES }, { query: GET_MOST_USED_TEMPLATES }],\n  });\n\n  // Load local templates from localStorage (fallback)\n  useEffect(() => {\n    try {\n      const stored = localStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        setLocalCustomTemplates(JSON.parse(stored));\n      }\n    } catch (e) {\n      console.error('Failed to load templates:', e);\n    }\n\n    try {\n      const usageStored = localStorage.getItem(USAGE_KEY);\n      if (usageStored) {\n        setUsageStats(JSON.parse(usageStored));\n      }\n    } catch (e) {\n      console.error('Failed to load usage stats:', e);\n    }\n  }, []);\n\n  // Save local templates to localStorage\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(localCustomTemplates));\n    }\n  }, [localCustomTemplates]);\n\n  // Save usage stats to localStorage\n  useEffect(() => {\n    localStorage.setItem(USAGE_KEY, JSON.stringify(usageStats));\n  }, [usageStats]);\n\n  // Transform Apollo template data to local format\n  const serverTemplates: TaskTemplate[] = useMemo(() => {\n    if (!templatesData?.templates) return [];\n\n    return templatesData.templates.map((t: any) => ({\n      id: t.id,\n      name: t.name,\n      description: t.description || '',\n      category: t.category as TemplateCategory,\n      icon: t.icon || '⭐',\n      isBuiltIn: t.isBuiltIn,\n      createdAt: new Date(t.createdAt).getTime(),\n      usageCount: t.usageCount || 0,\n      // Default values for other template properties\n      defaultPriority: 'medium' as const,\n      defaultCategory: t.category,\n      subtaskTemplates: [],\n    }));\n  }, [templatesData]);\n\n  // Determine which custom templates to use\n  const customTemplates = useMemo(() => {\n    if (isAuthenticated() && serverTemplates.length > 0) {\n      // Use server templates, filtering out built-in ones\n      return serverTemplates.filter(t => !t.isBuiltIn);\n    }\n    // Fallback to local templates\n    return localCustomTemplates;\n  }, [serverTemplates, localCustomTemplates]);\n\n  // Combine built-in and custom templates\n  const templates = useMemo(() => {\n    // When authenticated, server provides all templates\n    if (isAuthenticated() && serverTemplates.length > 0) {\n      return serverTemplates.map(t => ({\n        ...t,\n        usageCount: usageStats[t.id] || t.usageCount || 0,\n      }));\n    }\n\n    // Otherwise, combine built-in with local custom\n    const all = [...BUILT_IN_TEMPLATES, ...localCustomTemplates];\n    return all.map(t => ({\n      ...t,\n      usageCount: usageStats[t.id] || t.usageCount || 0,\n    }));\n  }, [serverTemplates, localCustomTemplates, usageStats]);\n\n  // Get categories with template counts\n  const categories = useMemo(() => {\n    const counts: Record<TemplateCategory, number> = {\n      work: 0,\n      personal: 0,\n      health: 0,\n      finance: 0,\n      learning: 0,\n      custom: 0,\n    };\n\n    templates.forEach(t => {\n      counts[t.category]++;\n    });\n\n    return Object.entries(counts)\n      .filter(([_, count]) => count > 0)\n      .map(([category, count]) => ({\n        category: category as TemplateCategory,\n        count,\n      }));\n  }, [templates]);\n\n  // Add a new custom template\n  const addTemplate = useCallback(async (\n    templateData: Omit<TaskTemplate, 'id' | 'createdAt' | 'usageCount' | 'isBuiltIn'>\n  ): Promise<TaskTemplate> => {\n    const newTemplate: TaskTemplate = {\n      ...templateData,\n      id: `custom-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      isBuiltIn: false,\n      createdAt: Date.now(),\n      usageCount: 0,\n    };\n\n    if (isAuthenticated()) {\n      try {\n        const result = await createTemplateMutation({\n          variables: {\n            input: {\n              name: templateData.name,\n              description: templateData.description,\n              category: templateData.category,\n              icon: templateData.icon,\n              defaultPriority: templateData.defaultPriority,\n              defaultCategory: templateData.defaultCategory,\n              subtaskTemplates: templateData.subtaskTemplates?.map(s => ({\n                text: s.text,\n              })),\n            },\n          },\n        });\n        if (result.data?.createTemplate) {\n          return {\n            ...newTemplate,\n            id: result.data.createTemplate.id,\n            createdAt: new Date(result.data.createTemplate.createdAt).getTime(),\n          };\n        }\n      } catch (error) {\n        console.error('Failed to create template on server:', error);\n      }\n    }\n\n    // Fallback to local storage\n    setLocalCustomTemplates(prev => [...prev, newTemplate]);\n    return newTemplate;\n  }, [createTemplateMutation]);\n\n  // Create template from an existing task\n  const createFromTask = useCallback(async (\n    task: Task,\n    name: string,\n    description: string,\n    category: TemplateCategory = 'custom',\n    icon: string = '⭐'\n  ): Promise<TaskTemplate> => {\n    const newTemplate = createTemplateFromTask(task, name, description, category, icon);\n\n    if (isAuthenticated()) {\n      try {\n        const result = await createTemplateMutation({\n          variables: {\n            input: {\n              name: newTemplate.name,\n              description: newTemplate.description,\n              category: newTemplate.category,\n              icon: newTemplate.icon,\n              defaultPriority: newTemplate.defaultPriority,\n              defaultCategory: newTemplate.defaultCategory,\n              subtaskTemplates: newTemplate.subtaskTemplates?.map(s => ({\n                text: s.text,\n              })),\n            },\n          },\n        });\n        if (result.data?.createTemplate) {\n          return {\n            ...newTemplate,\n            id: result.data.createTemplate.id,\n            createdAt: new Date(result.data.createTemplate.createdAt).getTime(),\n          };\n        }\n      } catch (error) {\n        console.error('Failed to create template on server:', error);\n      }\n    }\n\n    // Fallback to local storage\n    setLocalCustomTemplates(prev => [...prev, newTemplate]);\n    return newTemplate;\n  }, [createTemplateMutation]);\n\n  // Update a custom template\n  const updateTemplate = useCallback(async (id: string, updates: Partial<TaskTemplate>) => {\n    if (isAuthenticated() && !id.startsWith('custom-')) {\n      try {\n        await updateTemplateMutation({\n          variables: {\n            id,\n            input: {\n              name: updates.name,\n              description: updates.description,\n              category: updates.category,\n              icon: updates.icon,\n              defaultPriority: updates.defaultPriority,\n              defaultCategory: updates.defaultCategory,\n              subtaskTemplates: updates.subtaskTemplates?.map(s => ({\n                text: s.text,\n              })),\n            },\n          },\n        });\n        return;\n      } catch (error) {\n        console.error('Failed to update template on server:', error);\n      }\n    }\n\n    // Fallback to local\n    setLocalCustomTemplates(prev =>\n      prev.map(t => (t.id === id ? { ...t, ...updates } : t))\n    );\n  }, [updateTemplateMutation]);\n\n  // Delete a custom template\n  const deleteTemplate = useCallback(async (id: string) => {\n    // Don't allow deleting built-in templates\n    if (id.startsWith('builtin-')) return;\n\n    if (isAuthenticated() && !id.startsWith('custom-')) {\n      try {\n        await deleteTemplateMutation({\n          variables: { id },\n        });\n        return;\n      } catch (error) {\n        console.error('Failed to delete template on server:', error);\n      }\n    }\n\n    // Fallback to local\n    setLocalCustomTemplates(prev => prev.filter(t => t.id !== id));\n  }, [deleteTemplateMutation]);\n\n  // Increment usage count for a template\n  const incrementUsage = useCallback(async (id: string) => {\n    // Update local usage stats\n    setUsageStats(prev => ({\n      ...prev,\n      [id]: (prev[id] || 0) + 1,\n    }));\n\n    // Note: Usage is tracked on the server when USE_TEMPLATE mutation is called\n  }, []);\n\n  // Get a single template by ID\n  const getTemplate = useCallback((id: string): TaskTemplate | undefined => {\n    return templates.find(t => t.id === id);\n  }, [templates]);\n\n  // Filter templates by category\n  const filterByCategory = useCallback((category?: TemplateCategory): TaskTemplate[] => {\n    if (!category) return templates;\n    return filterTemplates(templates, { category });\n  }, [templates]);\n\n  // Search templates\n  const searchTemplates = useCallback((query: string): TaskTemplate[] => {\n    return filterTemplates(templates, { searchQuery: query });\n  }, [templates]);\n\n  // Get most used templates\n  const getMostUsed = useCallback((limit: number = 5): TaskTemplate[] => {\n    // Use server data if available\n    if (isAuthenticated() && mostUsedData?.mostUsedTemplates) {\n      return mostUsedData.mostUsedTemplates.slice(0, limit).map((t: any) => ({\n        id: t.id,\n        name: t.name,\n        description: t.description || '',\n        category: t.category as TemplateCategory,\n        icon: t.icon || '⭐',\n        isBuiltIn: t.isBuiltIn || false,\n        createdAt: 0,\n        usageCount: t.usageCount || 0,\n        defaultPriority: 'medium' as const,\n        defaultCategory: t.category,\n        subtaskTemplates: [],\n      }));\n    }\n    return sortTemplatesByUsage(templates).slice(0, limit);\n  }, [templates, mostUsedData]);\n\n  const value: TemplateContextType = {\n    templates,\n    customTemplates,\n    builtInTemplates: BUILT_IN_TEMPLATES,\n    categories,\n    addTemplate,\n    createFromTask,\n    updateTemplate,\n    deleteTemplate,\n    incrementUsage,\n    getTemplate,\n    filterByCategory,\n    searchTemplates,\n    getMostUsed,\n  };\n\n  return (\n    <TemplateContext.Provider value={value}>\n      {children}\n    </TemplateContext.Provider>\n  );\n}\n\nexport function useTemplates() {\n  const context = useContext(TemplateContext);\n  if (!context) {\n    throw new Error('useTemplates must be used within a TemplateProvider');\n  }\n  return context;\n}\n\n// Export category config for use in components\nexport { CATEGORY_CONFIG };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}