{"ast":null,"code":"/**\n * Add task form component with enhanced description, recurrence, template, and smart features\n */import React,{useState,useRef,useCallback}from'react';import{CATEGORIES}from'../../constants/categories';import{PRIORITIES}from'../../constants/priorities';import{countWords,estimateReadingTime}from'../../utils/taskUtils';import{getRecurrenceDescription}from'../../utils/recurrenceUtils';import{parseTask,hasNaturalLanguage}from'../../utils/nlp/taskParser';import{getBreakdownSuggestions}from'../../utils/ai/smartSuggestions';import{RecurrencePicker}from'./RecurrencePicker';import{TemplateGallery}from'../templates';import{TaskBreakdown,useTaskBreakdown}from'./TaskBreakdown';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MAX_DESCRIPTION_LENGTH=1000;export const AddTaskForm=_ref=>{let{onAdd,showDescription=true}=_ref;const[isExpanded,setIsExpanded]=useState(false);const[inputValue,setInputValue]=useState('');const[inputDescription,setInputDescription]=useState('');const[priority,setPriority]=useState('medium');const[category,setCategory]=useState(CATEGORIES[0]);const[dueDate,setDueDate]=useState('');const[isRecurring,setIsRecurring]=useState(false);const[recurrencePattern,setRecurrencePattern]=useState(null);const[showRecurrencePicker,setShowRecurrencePicker]=useState(false);const[showTemplateGallery,setShowTemplateGallery]=useState(false);const[subtasks,setSubtasks]=useState([]);const[showSmartHints,setShowSmartHints]=useState(true);const inputRef=useRef(null);// Task breakdown hook\nconst taskBreakdown=useTaskBreakdown();// Check if input has natural language patterns\nconst hasNLP=hasNaturalLanguage(inputValue);const parsedTask=inputValue.trim().length>2?parseTask(inputValue):null;const hasBreakdownSuggestions=inputValue.trim().length>3&&getBreakdownSuggestions(inputValue).length>0;const handleSubmit=()=>{var _inputRef$current;if(inputValue.trim()==='')return;// Use parsed data if natural language detected, otherwise use form values\nconst parsedPriority=(parsedTask===null||parsedTask===void 0?void 0:parsedTask.priority)||priority;const parsedCategory=(parsedTask===null||parsedTask===void 0?void 0:parsedTask.category)||category;const parsedDueDate=(parsedTask===null||parsedTask===void 0?void 0:parsedTask.dueDate)||dueDate;const taskText=(parsedTask===null||parsedTask===void 0?void 0:parsedTask.text)||inputValue.trim();onAdd({text:taskText,description:inputDescription.trim(),priority:parsedPriority,category:parsedCategory,dueDate:parsedDueDate,isRecurring:isRecurring&&!!recurrencePattern,recurrencePattern:isRecurring&&recurrencePattern?recurrencePattern:undefined,subtasks:subtasks.length>0?subtasks:undefined});resetForm();(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};// Handle applying subtasks from breakdown\nconst handleApplyBreakdown=useCallback(newSubtasks=>{const formattedSubtasks=newSubtasks.map((text,index)=>({id:\"st-\".concat(Date.now(),\"-\").concat(index),text,completed:false}));setSubtasks(prev=>[...prev,...formattedSubtasks]);},[]);// Open breakdown modal\nconst handleOpenBreakdown=()=>{const taskText=(parsedTask===null||parsedTask===void 0?void 0:parsedTask.text)||inputValue.trim();taskBreakdown.open(taskText,handleApplyBreakdown);};const resetForm=()=>{setInputValue('');setInputDescription('');setPriority('medium');setCategory(CATEGORIES[0]);setDueDate('');setIsRecurring(false);setRecurrencePattern(null);setShowRecurrencePicker(false);setSubtasks([]);};const handleQuickAdd=()=>{setIsExpanded(true);setTimeout(()=>{var _inputRef$current2;return(_inputRef$current2=inputRef.current)===null||_inputRef$current2===void 0?void 0:_inputRef$current2.focus();},100);};const handleTemplateSelect=templateData=>{setIsExpanded(true);if(templateData.text)setInputValue(templateData.text);if(templateData.description)setInputDescription(templateData.description);if(templateData.priority)setPriority(templateData.priority);if(templateData.category&&CATEGORIES.includes(templateData.category)){setCategory(templateData.category);}if(templateData.subtasks)setSubtasks(templateData.subtasks);if(templateData.recurrencePattern){setRecurrencePattern(templateData.recurrencePattern);setIsRecurring(true);}if(templateData.dueDate)setDueDate(templateData.dueDate);setShowTemplateGallery(false);setTimeout(()=>{var _inputRef$current3;return(_inputRef$current3=inputRef.current)===null||_inputRef$current3===void 0?void 0:_inputRef$current3.focus();},100);};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSubmit();}};const handleToggleRecurring=()=>{if(!isRecurring){setIsRecurring(true);setShowRecurrencePicker(true);}else{setIsRecurring(false);setShowRecurrencePicker(false);setRecurrencePattern(null);}};const descriptionLength=inputDescription.length;const isNearLimit=descriptionLength>MAX_DESCRIPTION_LENGTH*0.8;const isAtLimit=descriptionLength>=MAX_DESCRIPTION_LENGTH;return/*#__PURE__*/_jsxs(_Fragment,{children:[!isExpanded&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleQuickAdd,className:\"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-4 rounded-2xl font-semibold transition-all hover:shadow-lg hover:shadow-indigo-200 dark:hover:shadow-indigo-900/50 active:scale-[0.98] flex items-center justify-center gap-3 shadow-md\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"Add New Task\"})]}),/*#__PURE__*/_jsxs(\"button\",{\"data-action\":\"open-templates\",onClick:()=>setShowTemplateGallery(true),className:\"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white px-5 py-4 rounded-2xl font-semibold transition-all hover:shadow-lg hover:shadow-emerald-200 dark:hover:shadow-emerald-900/50 active:scale-[0.98] flex items-center justify-center gap-2 shadow-md\",title:\"Choose from templates - Meeting prep, Bug reports, and more!\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"Templates\"})]})]}),isExpanded&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-b border-slate-100 dark:border-slate-700\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-indigo-600 dark:text-indigo-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})}),\"New Task\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsExpanded(false),className:\"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors\",title:\"Collapse\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-slate-600 dark:text-slate-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[hasNLP&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-3 top-1/2 -translate-y-1/2 z-10\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center justify-center w-6 h-6 bg-indigo-100 dark:bg-indigo-900/50 rounded-full\",title:\"Smart input detected\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-indigo-600 dark:text-indigo-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z\"})})})}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:inputValue,onChange:e=>setInputValue(e.target.value),onKeyPress:handleKeyPress,placeholder:\"What needs to be done? (try 'Buy milk tomorrow #shopping high priority')\",className:\"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none transition-all text-slate-700 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 text-lg bg-white dark:bg-slate-700 \".concat(hasNLP?'pl-12':'')})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:!inputValue.trim(),className:\"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all hover:shadow-lg hover:shadow-indigo-200 dark:hover:shadow-indigo-900/50 active:scale-95 flex items-center justify-center min-w-[80px] shadow-md disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100\",children:\"Add\"})]}),parsedTask&&(parsedTask.dueDate||parsedTask.priority||parsedTask.category)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 px-1\",children:[parsedTask.dueDate&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3.5 h-3.5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})}),\"Due: \",parsedTask.dueDate]}),parsedTask.priority&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full \".concat(parsedTask.priority==='high'?'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300':parsedTask.priority==='medium'?'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300':'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300'),children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3.5 h-3.5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9\"})}),parsedTask.priority,\" priority\"]}),parsedTask.category&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3.5 h-3.5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"})}),\"#\",parsedTask.category]})]}),hasBreakdownSuggestions&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleOpenBreakdown,className:\"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 rounded-lg text-sm text-amber-700 dark:text-amber-300 hover:from-amber-100 hover:to-orange-100 dark:hover:from-amber-900/30 dark:hover:to-orange-900/30 transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})}),\"AI suggests breaking this into subtasks\",/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-amber-200 dark:bg-amber-800 px-1.5 py-0.5 rounded\",children:\"Click to view\"})]}),showSmartHints&&inputValue.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2 p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-indigo-500 flex-shrink-0 mt-0.5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-indigo-700 dark:text-indigo-300\",children:\"Smart Input Tips\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-indigo-600 dark:text-indigo-400 mt-1\",children:[\"Type naturally! Try: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono bg-white dark:bg-slate-800 px-1 rounded\",children:\"\\\"Meeting tomorrow #work high priority\\\"\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSmartHints(false),className:\"text-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-200\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})]}),showDescription&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3 pt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-0.5 flex-1 transition-colors duration-300 \".concat(inputDescription?'bg-gradient-to-r from-indigo-500 to-purple-500':'bg-slate-200 dark:bg-slate-600')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold uppercase tracking-wider transition-colors duration-300 \".concat(inputDescription?'text-indigo-600 dark:text-indigo-400':'text-slate-400 dark:text-slate-500'),children:\"Optional Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-0.5 flex-1 transition-colors duration-300 \".concat(inputDescription?'bg-gradient-to-l from-indigo-500 to-purple-500':'bg-slate-200 dark:bg-slate-600')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:inputDescription,onChange:e=>setInputDescription(e.target.value.slice(0,MAX_DESCRIPTION_LENGTH)),placeholder:\"Add context, notes, or steps to complete this task... \\uD83D\\uDCA1 Tips:\\n\\u2022 Break down complex tasks into steps\\n\\u2022 Add links, reference materials\\n\\u2022 Include acceptance criteria\",rows:inputDescription?4:3,className:\"w-full px-4 py-3 rounded-xl border transition-all text-slate-600 dark:text-slate-300 placeholder-slate-400 dark:placeholder-slate-500 resize-none bg-slate-50 dark:bg-slate-700/50 focus:bg-white dark:focus:bg-slate-700 \".concat(isAtLimit?'border-rose-300 dark:border-rose-500 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 dark:focus:ring-rose-900/50':isNearLimit?'border-amber-300 dark:border-amber-500 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-900/50':'border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50',\" outline-none\")}),descriptionLength>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-2 right-2 text-xs font-medium transition-colors \".concat(isAtLimit?'text-rose-500':isNearLimit?'text-amber-500':'text-slate-400 dark:text-slate-500'),children:[descriptionLength,\"/\",MAX_DESCRIPTION_LENGTH]})]}),inputDescription&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 pt-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3.5 h-3.5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),countWords(inputDescription),\" words\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3.5 h-3.5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),estimateReadingTime(inputDescription)]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-3 pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:['low','medium','high'].map(p=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPriority(p),className:\"px-3 py-2 rounded-lg text-sm font-medium transition-all flex-1 \".concat(priority===p?\"\".concat(PRIORITIES[p].badge,\" shadow-sm\"):'bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-600'),children:PRIORITIES[p].label},p))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\",children:\"Category\"}),/*#__PURE__*/_jsx(\"select\",{value:category,onChange:e=>setCategory(e.target.value),className:\"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none bg-white dark:bg-slate-700\",children:CATEGORIES.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c,children:c},c))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dueDate,onChange:e=>setDueDate(e.target.value),min:new Date().toISOString().split('T')[0],className:\"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none bg-white dark:bg-slate-700\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleToggleRecurring,className:\"w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all \".concat(isRecurring?'bg-indigo-100 dark:bg-indigo-900/40 border-2 border-indigo-400 dark:border-indigo-500':'bg-slate-50 dark:bg-slate-700/50 border-2 border-dashed border-slate-200 dark:border-slate-600 hover:border-indigo-300 dark:hover:border-indigo-500'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg \".concat(isRecurring?'bg-indigo-500 text-white':'bg-slate-200 dark:bg-slate-600 text-slate-500 dark:text-slate-400'),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold \".concat(isRecurring?'text-indigo-700 dark:text-indigo-300':'text-slate-700 dark:text-slate-300'),children:\"Make this a recurring task\"}),isRecurring&&recurrencePattern&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-indigo-600 dark:text-indigo-400 mt-0.5\",children:getRecurrenceDescription(recurrencePattern)}),!isRecurring&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500 dark:text-slate-400 mt-0.5\",children:\"Daily, weekly, monthly, or custom schedule\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 \".concat(isRecurring?'text-indigo-600 dark:text-indigo-400':'text-slate-400'),children:[isRecurring&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();setShowRecurrencePicker(!showRecurrencePicker);},className:\"px-3 py-1 text-sm font-medium rounded-lg bg-indigo-200 dark:bg-indigo-800 hover:bg-indigo-300 dark:hover:bg-indigo-700 transition-colors\",children:showRecurrencePicker?'Hide':'Edit'}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-6 rounded-full transition-all \".concat(isRecurring?'bg-indigo-500':'bg-slate-300 dark:bg-slate-600'),children:/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 rounded-full bg-white shadow-md transform transition-transform mt-0.5 \".concat(isRecurring?'translate-x-4.5 ml-0.5':'translate-x-0.5')})})]})]}),isRecurring&&showRecurrencePicker&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 animate-in slide-in-from-top-2 fade-in duration-200\",children:/*#__PURE__*/_jsx(RecurrencePicker,{value:recurrencePattern,onChange:pattern=>setRecurrencePattern(pattern),startDate:dueDate?new Date(dueDate):new Date()})})]}),subtasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\",children:[\"Subtasks (\",subtasks.filter(s=>s.completed).length,\"/\",subtasks.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSubtasks([]),className:\"text-xs text-slate-400 hover:text-red-500 transition-colors\",children:\"Clear\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 max-h-32 overflow-y-auto\",children:subtasks.map((st,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 rounded border flex-shrink-0 flex items-center justify-center \".concat(st.completed?'bg-indigo-500 border-indigo-500 text-white':'border-slate-300 dark:border-slate-500'),children:st.completed&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:3,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"span\",{className:st.completed?'line-through text-slate-400':'',children:st.text})]},st.id))})]}),showDescription&&!inputValue&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-xs text-slate-400 dark:text-slate-500 pt-2 border-t border-slate-50 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pro tip:\"}),\" Use Shift+Enter to add a new line, Enter to submit task\"]})]}),isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-2 border-t border-slate-50 dark:border-slate-700\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTemplateGallery(true),className:\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\"})}),\"Choose from templates\"]})})]})})]}),showTemplateGallery&&/*#__PURE__*/_jsx(TemplateGallery,{onSelect:handleTemplateSelect,onClose:()=>setShowTemplateGallery(false)}),taskBreakdown.isOpen&&/*#__PURE__*/_jsx(TaskBreakdown,{taskText:taskBreakdown.taskText,onApply:taskBreakdown.handleApply,onClose:taskBreakdown.close,existingSubtasks:subtasks.map(s=>s.text)})]});};","map":{"version":3,"names":["React","useState","useRef","useCallback","CATEGORIES","PRIORITIES","countWords","estimateReadingTime","getRecurrenceDescription","parseTask","hasNaturalLanguage","getBreakdownSuggestions","RecurrencePicker","TemplateGallery","TaskBreakdown","useTaskBreakdown","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MAX_DESCRIPTION_LENGTH","AddTaskForm","_ref","onAdd","showDescription","isExpanded","setIsExpanded","inputValue","setInputValue","inputDescription","setInputDescription","priority","setPriority","category","setCategory","dueDate","setDueDate","isRecurring","setIsRecurring","recurrencePattern","setRecurrencePattern","showRecurrencePicker","setShowRecurrencePicker","showTemplateGallery","setShowTemplateGallery","subtasks","setSubtasks","showSmartHints","setShowSmartHints","inputRef","taskBreakdown","hasNLP","parsedTask","trim","length","hasBreakdownSuggestions","handleSubmit","_inputRef$current","parsedPriority","parsedCategory","parsedDueDate","taskText","text","description","undefined","resetForm","current","focus","handleApplyBreakdown","newSubtasks","formattedSubtasks","map","index","id","concat","Date","now","completed","prev","handleOpenBreakdown","open","handleQuickAdd","setTimeout","_inputRef$current2","handleTemplateSelect","templateData","includes","_inputRef$current3","handleKeyPress","e","key","shiftKey","preventDefault","handleToggleRecurring","descriptionLength","isNearLimit","isAtLimit","children","className","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","title","ref","type","value","onChange","target","onKeyPress","placeholder","disabled","slice","rows","p","badge","label","c","min","toISOString","split","stopPropagation","pattern","startDate","filter","s","st","onSelect","onClose","isOpen","onApply","handleApply","close","existingSubtasks"],"sources":["/home/zobair-qauomi/todo_app/frontend/src/components/tasks/AddTaskForm.tsx"],"sourcesContent":["/**\n * Add task form component with enhanced description, recurrence, template, and smart features\n */\n\nimport React, { useState, useRef, useCallback } from 'react';\nimport { TaskPriority } from '../../types';\nimport { RecurrencePattern } from '../../types/recurrence.types';\nimport { CATEGORIES, Category } from '../../constants/categories';\nimport { PRIORITIES } from '../../constants/priorities';\nimport { countWords, estimateReadingTime } from '../../utils/taskUtils';\nimport { getRecurrenceDescription } from '../../utils/recurrenceUtils';\nimport { parseTask, hasNaturalLanguage } from '../../utils/nlp/taskParser';\nimport { getBreakdownSuggestions } from '../../utils/ai/smartSuggestions';\nimport { RecurrencePicker } from './RecurrencePicker';\nimport { TemplateGallery } from '../templates';\nimport { TaskBreakdown, useTaskBreakdown } from './TaskBreakdown';\n\ninterface AddTaskFormProps {\n  onAdd: (task: {\n    text: string;\n    description: string;\n    priority: TaskPriority;\n    category: string;\n    dueDate: string;\n    isRecurring?: boolean;\n    recurrencePattern?: RecurrencePattern;\n    subtasks?: { id: string; text: string; completed: boolean }[];\n  }) => void;\n  showDescription?: boolean;\n}\n\nconst MAX_DESCRIPTION_LENGTH = 1000;\n\nexport const AddTaskForm: React.FC<AddTaskFormProps> = ({\n  onAdd,\n  showDescription = true,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [inputDescription, setInputDescription] = useState('');\n  const [priority, setPriority] = useState<TaskPriority>('medium');\n  const [category, setCategory] = useState<Category>(CATEGORIES[0]);\n  const [dueDate, setDueDate] = useState('');\n  const [isRecurring, setIsRecurring] = useState(false);\n  const [recurrencePattern, setRecurrencePattern] = useState<RecurrencePattern | null>(null);\n  const [showRecurrencePicker, setShowRecurrencePicker] = useState(false);\n  const [showTemplateGallery, setShowTemplateGallery] = useState(false);\n  const [subtasks, setSubtasks] = useState<{ id: string; text: string; completed: boolean }[]>([]);\n  const [showSmartHints, setShowSmartHints] = useState(true);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Task breakdown hook\n  const taskBreakdown = useTaskBreakdown();\n\n  // Check if input has natural language patterns\n  const hasNLP = hasNaturalLanguage(inputValue);\n  const parsedTask = inputValue.trim().length > 2 ? parseTask(inputValue) : null;\n  const hasBreakdownSuggestions = inputValue.trim().length > 3 && getBreakdownSuggestions(inputValue).length > 0;\n\n  const handleSubmit = () => {\n    if (inputValue.trim() === '') return;\n\n    // Use parsed data if natural language detected, otherwise use form values\n    const parsedPriority = parsedTask?.priority || priority;\n    const parsedCategory = parsedTask?.category || category;\n    const parsedDueDate = parsedTask?.dueDate || dueDate;\n    const taskText = parsedTask?.text || inputValue.trim();\n\n    onAdd({\n      text: taskText,\n      description: inputDescription.trim(),\n      priority: parsedPriority,\n      category: parsedCategory,\n      dueDate: parsedDueDate,\n      isRecurring: isRecurring && !!recurrencePattern,\n      recurrencePattern: isRecurring && recurrencePattern ? recurrencePattern : undefined,\n      subtasks: subtasks.length > 0 ? subtasks : undefined,\n    });\n\n    resetForm();\n    inputRef.current?.focus();\n  };\n\n  // Handle applying subtasks from breakdown\n  const handleApplyBreakdown = useCallback((newSubtasks: string[]) => {\n    const formattedSubtasks = newSubtasks.map((text, index) => ({\n      id: `st-${Date.now()}-${index}`,\n      text,\n      completed: false,\n    }));\n    setSubtasks(prev => [...prev, ...formattedSubtasks]);\n  }, []);\n\n  // Open breakdown modal\n  const handleOpenBreakdown = () => {\n    const taskText = parsedTask?.text || inputValue.trim();\n    taskBreakdown.open(taskText, handleApplyBreakdown);\n  };\n\n  const resetForm = () => {\n    setInputValue('');\n    setInputDescription('');\n    setPriority('medium');\n    setCategory(CATEGORIES[0]);\n    setDueDate('');\n    setIsRecurring(false);\n    setRecurrencePattern(null);\n    setShowRecurrencePicker(false);\n    setSubtasks([]);\n  };\n\n  const handleQuickAdd = () => {\n    setIsExpanded(true);\n    setTimeout(() => inputRef.current?.focus(), 100);\n  };\n\n  const handleTemplateSelect = (templateData: Partial<{\n    text: string;\n    description: string;\n    priority: 'low' | 'medium' | 'high';\n    category: string;\n    subtasks: { id: string; text: string; completed: boolean }[];\n    recurrencePattern: RecurrencePattern;\n    dueDate: string;\n  }>) => {\n    setIsExpanded(true);\n    if (templateData.text) setInputValue(templateData.text);\n    if (templateData.description) setInputDescription(templateData.description);\n    if (templateData.priority) setPriority(templateData.priority);\n    if (templateData.category && CATEGORIES.includes(templateData.category as Category)) {\n      setCategory(templateData.category as Category);\n    }\n    if (templateData.subtasks) setSubtasks(templateData.subtasks);\n    if (templateData.recurrencePattern) {\n      setRecurrencePattern(templateData.recurrencePattern);\n      setIsRecurring(true);\n    }\n    if (templateData.dueDate) setDueDate(templateData.dueDate);\n    setShowTemplateGallery(false);\n    setTimeout(() => inputRef.current?.focus(), 100);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  const handleToggleRecurring = () => {\n    if (!isRecurring) {\n      setIsRecurring(true);\n      setShowRecurrencePicker(true);\n    } else {\n      setIsRecurring(false);\n      setShowRecurrencePicker(false);\n      setRecurrencePattern(null);\n    }\n  };\n\n  const descriptionLength = inputDescription.length;\n  const isNearLimit = descriptionLength > MAX_DESCRIPTION_LENGTH * 0.8;\n  const isAtLimit = descriptionLength >= MAX_DESCRIPTION_LENGTH;\n\n  return (\n    <>\n      {/* Collapsed View */}\n      {!isExpanded && (\n        <div className=\"flex gap-3\">\n          <button\n            onClick={handleQuickAdd}\n            className=\"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-4 rounded-2xl font-semibold transition-all hover:shadow-lg hover:shadow-indigo-200 dark:hover:shadow-indigo-900/50 active:scale-[0.98] flex items-center justify-center gap-3 shadow-md\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n            </svg>\n            <span className=\"text-lg\">Add New Task</span>\n          </button>\n          <button\n            data-action=\"open-templates\"\n            onClick={() => setShowTemplateGallery(true)}\n            className=\"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white px-5 py-4 rounded-2xl font-semibold transition-all hover:shadow-lg hover:shadow-emerald-200 dark:hover:shadow-emerald-900/50 active:scale-[0.98] flex items-center justify-center gap-2 shadow-md\"\n            title=\"Choose from templates - Meeting prep, Bug reports, and more!\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" />\n            </svg>\n            <span className=\"text-lg\">Templates</span>\n          </button>\n        </div>\n      )}\n\n      {/* Expanded View */}\n      {isExpanded && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 overflow-hidden\">\n          {/* Header with collapse button */}\n          <div className=\"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-b border-slate-100 dark:border-slate-700\">\n            <h3 className=\"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n              <svg className=\"w-5 h-5 text-indigo-600 dark:text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n              </svg>\n              New Task\n            </h3>\n            <button\n              onClick={() => setIsExpanded(false)}\n              className=\"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              title=\"Collapse\"\n            >\n              <svg className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div className=\"p-6 space-y-4\">\n            <div className=\"space-y-2\">\n              {/* Main Task Input */}\n              <div className=\"space-y-2\">\n                <div className=\"flex gap-2\">\n                  <div className=\"flex-1 relative\">\n                    {/* Smart indicator */}\n                    {hasNLP && (\n                      <div className=\"absolute left-3 top-1/2 -translate-y-1/2 z-10\">\n                        <span className=\"inline-flex items-center justify-center w-6 h-6 bg-indigo-100 dark:bg-indigo-900/50 rounded-full\" title=\"Smart input detected\">\n                          <svg className=\"w-4 h-4 text-indigo-600 dark:text-indigo-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path d=\"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z\" />\n                          </svg>\n                        </span>\n                      </div>\n                    )}\n                    <input\n                      ref={inputRef}\n                      type=\"text\"\n                      value={inputValue}\n                      onChange={(e) => setInputValue(e.target.value)}\n                      onKeyPress={handleKeyPress}\n                      placeholder=\"What needs to be done? (try 'Buy milk tomorrow #shopping high priority')\"\n                      className={`w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none transition-all text-slate-700 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 text-lg bg-white dark:bg-slate-700 ${hasNLP ? 'pl-12' : ''}`}\n                    />\n                  </div>\n                  <button\n                    onClick={handleSubmit}\n                    disabled={!inputValue.trim()}\n                    className=\"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all hover:shadow-lg hover:shadow-indigo-200 dark:hover:shadow-indigo-900/50 active:scale-95 flex items-center justify-center min-w-[80px] shadow-md disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100\"\n                  >\n                    Add\n                  </button>\n                </div>\n\n                {/* Smart Input Parsed Preview */}\n                {parsedTask && (parsedTask.dueDate || parsedTask.priority || parsedTask.category) && (\n                  <div className=\"flex flex-wrap gap-2 px-1\">\n                    {parsedTask.dueDate && (\n                      <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full\">\n                        <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                        </svg>\n                        Due: {parsedTask.dueDate}\n                      </span>\n                    )}\n                    {parsedTask.priority && (\n                      <span className={`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${\n                        parsedTask.priority === 'high'\n                          ? 'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300'\n                          : parsedTask.priority === 'medium'\n                          ? 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300'\n                          : 'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300'\n                      }`}>\n                        <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9\" />\n                        </svg>\n                        {parsedTask.priority} priority\n                      </span>\n                    )}\n                    {parsedTask.category && (\n                      <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full\">\n                        <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n                        </svg>\n                        #{parsedTask.category}\n                      </span>\n                    )}\n                  </div>\n                )}\n\n                {/* AI Breakdown Button */}\n                {hasBreakdownSuggestions && (\n                  <button\n                    onClick={handleOpenBreakdown}\n                    className=\"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 rounded-lg text-sm text-amber-700 dark:text-amber-300 hover:from-amber-100 hover:to-orange-100 dark:hover:from-amber-900/30 dark:hover:to-orange-900/30 transition-colors\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                    </svg>\n                    AI suggests breaking this into subtasks\n                    <span className=\"text-xs bg-amber-200 dark:bg-amber-800 px-1.5 py-0.5 rounded\">Click to view</span>\n                  </button>\n                )}\n\n                {/* Smart Hints (collapsible) */}\n                {showSmartHints && inputValue.length === 0 && (\n                  <div className=\"flex items-start gap-2 p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800\">\n                    <svg className=\"w-5 h-5 text-indigo-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm font-medium text-indigo-700 dark:text-indigo-300\">Smart Input Tips</p>\n                      <p className=\"text-xs text-indigo-600 dark:text-indigo-400 mt-1\">\n                        Type naturally! Try: <span className=\"font-mono bg-white dark:bg-slate-800 px-1 rounded\">\"Meeting tomorrow #work high priority\"</span>\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => setShowSmartHints(false)}\n                      className=\"text-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-200\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                )}\n              </div>\n\n              {/* Enhanced Description Section */}\n              {showDescription && (\n                <div className=\"space-y-2\">\n                  {/* Decorative Header */}\n                  <div className=\"flex items-center gap-2 mb-3 pt-2\">\n                    <div className={`h-0.5 flex-1 transition-colors duration-300 ${inputDescription ? 'bg-gradient-to-r from-indigo-500 to-purple-500' : 'bg-slate-200 dark:bg-slate-600'}`} />\n                    <span className={`text-xs font-semibold uppercase tracking-wider transition-colors duration-300 ${inputDescription ? 'text-indigo-600 dark:text-indigo-400' : 'text-slate-400 dark:text-slate-500'}`}>\n                      Optional Details\n                    </span>\n                    <div className={`h-0.5 flex-1 transition-colors duration-300 ${inputDescription ? 'bg-gradient-to-l from-indigo-500 to-purple-500' : 'bg-slate-200 dark:bg-slate-600'}`} />\n                  </div>\n\n                  {/* Description Textarea with Enhanced Features */}\n                  <div className=\"relative\">\n                    <textarea\n                      value={inputDescription}\n                      onChange={(e) => setInputDescription(e.target.value.slice(0, MAX_DESCRIPTION_LENGTH))}\n                      placeholder=\"Add context, notes, or steps to complete this task...\n\nðŸ’¡ Tips:\nâ€¢ Break down complex tasks into steps\nâ€¢ Add links, reference materials\nâ€¢ Include acceptance criteria\"\n                      rows={inputDescription ? 4 : 3}\n                      className={`w-full px-4 py-3 rounded-xl border transition-all text-slate-600 dark:text-slate-300 placeholder-slate-400 dark:placeholder-slate-500 resize-none bg-slate-50 dark:bg-slate-700/50 focus:bg-white dark:focus:bg-slate-700 ${\n                        isAtLimit\n                          ? 'border-rose-300 dark:border-rose-500 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 dark:focus:ring-rose-900/50'\n                          : isNearLimit\n                          ? 'border-amber-300 dark:border-amber-500 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-900/50'\n                          : 'border-slate-200 dark:border-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50'\n                      } outline-none`}\n                    />\n\n                    {/* Character Counter */}\n                    {descriptionLength > 0 && (\n                      <div className={`absolute bottom-2 right-2 text-xs font-medium transition-colors ${\n                        isAtLimit\n                          ? 'text-rose-500'\n                          : isNearLimit\n                          ? 'text-amber-500'\n                          : 'text-slate-400 dark:text-slate-500'\n                      }`}>\n                        {descriptionLength}/{MAX_DESCRIPTION_LENGTH}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Stats Bar */}\n                  {inputDescription && (\n                    <div className=\"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 pt-1\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"flex items-center gap-1\">\n                          <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                          </svg>\n                          {countWords(inputDescription)} words\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                          </svg>\n                          {estimateReadingTime(inputDescription)}\n                        </span>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Options Grid */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\">\n                {/* Priority Selection */}\n                <div className=\"space-y-1\">\n                  <label className=\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\">\n                    Priority\n                  </label>\n                  <div className=\"flex gap-2\">\n                    {(['low', 'medium', 'high'] as const).map((p) => (\n                      <button\n                        key={p}\n                        onClick={() => setPriority(p)}\n                        className={`px-3 py-2 rounded-lg text-sm font-medium transition-all flex-1 ${\n                          priority === p\n                            ? `${PRIORITIES[p].badge} shadow-sm`\n                            : 'bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-600'\n                        }`}\n                      >\n                        {PRIORITIES[p].label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Category Selection */}\n                <div className=\"space-y-1\">\n                  <label className=\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\">\n                    Category\n                  </label>\n                  <select\n                    value={category}\n                    onChange={(e) => setCategory(e.target.value as Category)}\n                    className=\"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none bg-white dark:bg-slate-700\"\n                  >\n                    {CATEGORIES.map((c) => (\n                      <option key={c} value={c}>\n                        {c}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Due Date Selection */}\n                <div className=\"space-y-1\">\n                  <label className=\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\">\n                    Due Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={dueDate}\n                    onChange={(e) => setDueDate(e.target.value)}\n                    min={new Date().toISOString().split('T')[0]}\n                    className=\"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 text-sm text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900/50 outline-none bg-white dark:bg-slate-700\"\n                  />\n                </div>\n              </div>\n\n              {/* Prominent Recurring Task Toggle */}\n              <div className=\"pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\">\n                <button\n                  onClick={handleToggleRecurring}\n                  className={`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all ${\n                    isRecurring\n                      ? 'bg-indigo-100 dark:bg-indigo-900/40 border-2 border-indigo-400 dark:border-indigo-500'\n                      : 'bg-slate-50 dark:bg-slate-700/50 border-2 border-dashed border-slate-200 dark:border-slate-600 hover:border-indigo-300 dark:hover:border-indigo-500'\n                  }`}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className={`p-2 rounded-lg ${\n                      isRecurring\n                        ? 'bg-indigo-500 text-white'\n                        : 'bg-slate-200 dark:bg-slate-600 text-slate-500 dark:text-slate-400'\n                    }`}>\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                      </svg>\n                    </div>\n                    <div className=\"text-left\">\n                      <span className={`font-semibold ${isRecurring ? 'text-indigo-700 dark:text-indigo-300' : 'text-slate-700 dark:text-slate-300'}`}>\n                        Make this a recurring task\n                      </span>\n                      {isRecurring && recurrencePattern && (\n                        <p className=\"text-sm text-indigo-600 dark:text-indigo-400 mt-0.5\">\n                          {getRecurrenceDescription(recurrencePattern)}\n                        </p>\n                      )}\n                      {!isRecurring && (\n                        <p className=\"text-xs text-slate-500 dark:text-slate-400 mt-0.5\">\n                          Daily, weekly, monthly, or custom schedule\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                  <div className={`flex items-center gap-2 ${\n                    isRecurring ? 'text-indigo-600 dark:text-indigo-400' : 'text-slate-400'\n                  }`}>\n                    {isRecurring && (\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setShowRecurrencePicker(!showRecurrencePicker);\n                        }}\n                        className=\"px-3 py-1 text-sm font-medium rounded-lg bg-indigo-200 dark:bg-indigo-800 hover:bg-indigo-300 dark:hover:bg-indigo-700 transition-colors\"\n                      >\n                        {showRecurrencePicker ? 'Hide' : 'Edit'}\n                      </button>\n                    )}\n                    <div className={`w-10 h-6 rounded-full transition-all ${\n                      isRecurring ? 'bg-indigo-500' : 'bg-slate-300 dark:bg-slate-600'\n                    }`}>\n                      <div className={`w-5 h-5 rounded-full bg-white shadow-md transform transition-transform mt-0.5 ${\n                        isRecurring ? 'translate-x-4.5 ml-0.5' : 'translate-x-0.5'\n                      }`} />\n                    </div>\n                  </div>\n                </button>\n\n                {/* Recurrence Picker (when expanded) */}\n                {isRecurring && showRecurrencePicker && (\n                  <div className=\"mt-3 animate-in slide-in-from-top-2 fade-in duration-200\">\n                    <RecurrencePicker\n                      value={recurrencePattern}\n                      onChange={(pattern) => setRecurrencePattern(pattern)}\n                      startDate={dueDate ? new Date(dueDate) : new Date()}\n                    />\n                  </div>\n                )}\n              </div>\n\n              {/* Subtasks Preview */}\n              {subtasks.length > 0 && (\n                <div className=\"pt-3 border-t border-slate-50 dark:border-slate-700 mt-2\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide\">\n                      Subtasks ({subtasks.filter(s => s.completed).length}/{subtasks.length})\n                    </span>\n                    <button\n                      onClick={() => setSubtasks([])}\n                      className=\"text-xs text-slate-400 hover:text-red-500 transition-colors\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                  <div className=\"space-y-1 max-h-32 overflow-y-auto\">\n                    {subtasks.map((st, index) => (\n                      <div key={st.id} className=\"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300\">\n                        <div className={`w-4 h-4 rounded border flex-shrink-0 flex items-center justify-center ${\n                          st.completed\n                            ? 'bg-indigo-500 border-indigo-500 text-white'\n                            : 'border-slate-300 dark:border-slate-500'\n                        }`}>\n                          {st.completed && (\n                            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                            </svg>\n                          )}\n                        </div>\n                        <span className={st.completed ? 'line-through text-slate-400' : ''}>\n                          {st.text}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Quick Tips Footer */}\n              {showDescription && !inputValue && (\n                <div className=\"flex items-center gap-2 text-xs text-slate-400 dark:text-slate-500 pt-2 border-t border-slate-50 dark:border-slate-700\">\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <span>\n                    <strong>Pro tip:</strong> Use Shift+Enter to add a new line, Enter to submit task\n                  </span>\n                </div>\n              )}\n\n              {/* Use Template Link (when expanded) */}\n              {isExpanded && (\n                <div className=\"pt-2 border-t border-slate-50 dark:border-slate-700\">\n                  <button\n                    onClick={() => setShowTemplateGallery(true)}\n                    className=\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" />\n                    </svg>\n                    Choose from templates\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Template Gallery Modal */}\n      {showTemplateGallery && (\n        <TemplateGallery\n          onSelect={handleTemplateSelect}\n          onClose={() => setShowTemplateGallery(false)}\n        />\n      )}\n\n      {/* Task Breakdown Modal */}\n      {taskBreakdown.isOpen && (\n        <TaskBreakdown\n          taskText={taskBreakdown.taskText}\n          onApply={taskBreakdown.handleApply}\n          onClose={taskBreakdown.close}\n          existingSubtasks={subtasks.map(s => s.text)}\n        />\n      )}\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}