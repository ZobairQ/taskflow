{"ast":null,"code":"import _objectSpread from\"/home/zobair-qauomi/todo_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * Template Utilities - Functions for working with templates\n */import{VARIABLE_REGEX}from'../types/template.types';/**\n * Replace template variables in text with provided values\n */export function interpolateVariables(text,values){return text.replace(VARIABLE_REGEX,(match,varName)=>{return values[varName]||match;});}/**\n * Get default values for template variables\n */export function getDefaultVariableValues(variables){if(!variables)return{};const defaults={};variables.forEach(v=>{if(v.defaultValue){defaults[v.name]=v.defaultValue;}});return defaults;}/**\n * Check if all required variables have values\n */export function validateVariables(variables,values){if(!variables)return{valid:true,missing:[]};const missing=[];variables.forEach(v=>{var _values$v$name;if(v.required&&!((_values$v$name=values[v.name])!==null&&_values$v$name!==void 0&&_values$v$name.trim())){missing.push(v.name);}});return{valid:missing.length===0,missing};}/**\n * Create a task from a template\n */export function createTaskFromTemplate(template){var _template$template$su;let variableValues=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const values=_objectSpread(_objectSpread({},getDefaultVariableValues(template.variables)),variableValues);const text=interpolateVariables(template.template.text,values);const description=template.template.description?interpolateVariables(template.template.description,values):'';// Create subtasks with unique IDs\nconst now=Date.now();const subtasks=(_template$template$su=template.template.subtasks)===null||_template$template$su===void 0?void 0:_template$template$su.map((st,index)=>({id:(now+index).toString(),text:interpolateVariables(st.text,values),completed:st.completed,createdAt:new Date().toISOString()}));return{text,description,priority:template.template.priority,category:template.template.category,subtasks,recurrencePattern:template.template.recurrencePattern,dueDate:template.template.dueDate};}/**\n * Create a custom template from a task\n */export function createTemplateFromTask(task,name,description){var _task$subtasks;let category=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'custom';let icon=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'⭐';return{id:\"custom-\".concat(Date.now()),name,description,category,icon,isBuiltIn:false,createdAt:Date.now(),usageCount:0,template:{text:task.text,description:task.description,priority:task.priority,category:task.category,subtasks:(_task$subtasks=task.subtasks)===null||_task$subtasks===void 0?void 0:_task$subtasks.map(s=>({text:s.text,completed:false})),recurrencePattern:task.recurrencePattern,dueDate:task.dueDate||undefined}};}/**\n * Generate a unique ID for custom templates\n */export function generateTemplateId(){return\"custom-\".concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9));}/**\n * Sort templates by usage count (most used first)\n */export function sortTemplatesByUsage(templates){return[...templates].sort((a,b)=>b.usageCount-a.usageCount);}/**\n * Filter templates based on criteria\n */export function filterTemplates(templates,filter){let filtered=[...templates];if(filter.category){filtered=filtered.filter(t=>t.category===filter.category);}if(filter.searchQuery){const query=filter.searchQuery.toLowerCase();filtered=filtered.filter(t=>t.name.toLowerCase().includes(query)||t.description.toLowerCase().includes(query)||t.template.text.toLowerCase().includes(query));}if(filter.showBuiltIn===false){filtered=filtered.filter(t=>!t.isBuiltIn);}if(filter.showCustom===false){filtered=filtered.filter(t=>t.isBuiltIn);}return filtered;}","map":{"version":3,"names":["VARIABLE_REGEX","interpolateVariables","text","values","replace","match","varName","getDefaultVariableValues","variables","defaults","forEach","v","defaultValue","name","validateVariables","valid","missing","_values$v$name","required","trim","push","length","createTaskFromTemplate","template","_template$template$su","variableValues","arguments","undefined","_objectSpread","description","now","Date","subtasks","map","st","index","id","toString","completed","createdAt","toISOString","priority","category","recurrencePattern","dueDate","createTemplateFromTask","task","_task$subtasks","icon","concat","isBuiltIn","usageCount","s","generateTemplateId","Math","random","substr","sortTemplatesByUsage","templates","sort","a","b","filterTemplates","filter","filtered","t","searchQuery","query","toLowerCase","includes","showBuiltIn","showCustom"],"sources":["/home/zobair-qauomi/todo_app/frontend/src/utils/templateUtils.ts"],"sourcesContent":["/**\n * Template Utilities - Functions for working with templates\n */\n\nimport { TaskTemplate, TemplateVariable, VARIABLE_REGEX } from '../types/template.types';\nimport { Task, Subtask } from '../types/task.types';\n\n/**\n * Replace template variables in text with provided values\n */\nexport function interpolateVariables(\n  text: string,\n  values: Record<string, string>\n): string {\n  return text.replace(VARIABLE_REGEX, (match, varName) => {\n    return values[varName] || match;\n  });\n}\n\n/**\n * Get default values for template variables\n */\nexport function getDefaultVariableValues(\n  variables?: TemplateVariable[]\n): Record<string, string> {\n  if (!variables) return {};\n  const defaults: Record<string, string> = {};\n  variables.forEach(v => {\n    if (v.defaultValue) {\n      defaults[v.name] = v.defaultValue;\n    }\n  });\n  return defaults;\n}\n\n/**\n * Check if all required variables have values\n */\nexport function validateVariables(\n  variables: TemplateVariable[] | undefined,\n  values: Record<string, string>\n): { valid: boolean; missing: string[] } {\n  if (!variables) return { valid: true, missing: [] };\n\n  const missing: string[] = [];\n  variables.forEach(v => {\n    if (v.required && !values[v.name]?.trim()) {\n      missing.push(v.name);\n    }\n  });\n\n  return {\n    valid: missing.length === 0,\n    missing,\n  };\n}\n\n/**\n * Create a task from a template\n */\nexport function createTaskFromTemplate(\n  template: TaskTemplate,\n  variableValues: Record<string, string> = {}\n): Partial<Task> {\n  const values = {\n    ...getDefaultVariableValues(template.variables),\n    ...variableValues,\n  };\n\n  const text = interpolateVariables(template.template.text, values);\n  const description = template.template.description\n    ? interpolateVariables(template.template.description, values)\n    : '';\n\n  // Create subtasks with unique IDs\n  const now = Date.now();\n  const subtasks: Subtask[] | undefined = template.template.subtasks?.map((st, index) => ({\n    id: (now + index).toString(),\n    text: interpolateVariables(st.text, values),\n    completed: st.completed,\n    createdAt: new Date().toISOString(),\n  }));\n\n  return {\n    text,\n    description,\n    priority: template.template.priority,\n    category: template.template.category,\n    subtasks,\n    recurrencePattern: template.template.recurrencePattern,\n    dueDate: template.template.dueDate,\n  };\n}\n\n/**\n * Create a custom template from a task\n */\nexport function createTemplateFromTask(\n  task: Task,\n  name: string,\n  description: string,\n  category: TaskTemplate['category'] = 'custom',\n  icon: string = '⭐'\n): TaskTemplate {\n  return {\n    id: `custom-${Date.now()}`,\n    name,\n    description,\n    category,\n    icon,\n    isBuiltIn: false,\n    createdAt: Date.now(),\n    usageCount: 0,\n    template: {\n      text: task.text,\n      description: task.description,\n      priority: task.priority,\n      category: task.category,\n      subtasks: task.subtasks?.map(s => ({ text: s.text, completed: false })),\n      recurrencePattern: task.recurrencePattern,\n      dueDate: task.dueDate || undefined,\n    },\n  };\n}\n\n/**\n * Generate a unique ID for custom templates\n */\nexport function generateTemplateId(): string {\n  return `custom-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n}\n\n/**\n * Sort templates by usage count (most used first)\n */\nexport function sortTemplatesByUsage(templates: TaskTemplate[]): TaskTemplate[] {\n  return [...templates].sort((a, b) => b.usageCount - a.usageCount);\n}\n\n/**\n * Filter templates based on criteria\n */\nexport function filterTemplates(\n  templates: TaskTemplate[],\n  filter: {\n    category?: TaskTemplate['category'];\n    searchQuery?: string;\n    showBuiltIn?: boolean;\n    showCustom?: boolean;\n  }\n): TaskTemplate[] {\n  let filtered = [...templates];\n\n  if (filter.category) {\n    filtered = filtered.filter(t => t.category === filter.category);\n  }\n\n  if (filter.searchQuery) {\n    const query = filter.searchQuery.toLowerCase();\n    filtered = filtered.filter(\n      t =>\n        t.name.toLowerCase().includes(query) ||\n        t.description.toLowerCase().includes(query) ||\n        t.template.text.toLowerCase().includes(query)\n    );\n  }\n\n  if (filter.showBuiltIn === false) {\n    filtered = filtered.filter(t => !t.isBuiltIn);\n  }\n\n  if (filter.showCustom === false) {\n    filtered = filtered.filter(t => t.isBuiltIn);\n  }\n\n  return filtered;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}