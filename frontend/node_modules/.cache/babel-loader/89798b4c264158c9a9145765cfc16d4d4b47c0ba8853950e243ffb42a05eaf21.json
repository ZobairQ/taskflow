{"ast":null,"code":"import { invariant } from \"@apollo/client/utilities/invariant\";\n/**\n* @internal\n* \n* @deprecated This is an internal API and should not be used directly. This can be removed or changed at any time.\n*/\nexport function shouldInclude(_ref, variables) {\n  let {\n    directives\n  } = _ref;\n  if (!directives || !directives.length) {\n    return true;\n  }\n  return getInclusionDirectives(directives).every(_ref2 => {\n    let {\n      directive,\n      ifArgument\n    } = _ref2;\n    let evaledValue = false;\n    if (ifArgument.value.kind === \"Variable\") {\n      evaledValue = variables && variables[ifArgument.value.name.value];\n      invariant(evaledValue !== void 0, 15, directive.name.value);\n    } else {\n      evaledValue = ifArgument.value.value;\n    }\n    return directive.name.value === \"skip\" ? !evaledValue : evaledValue;\n  });\n}\nfunction isInclusionDirective(_ref3) {\n  let {\n    name: {\n      value\n    }\n  } = _ref3;\n  return value === \"skip\" || value === \"include\";\n}\nfunction getInclusionDirectives(directives) {\n  const result = [];\n  if (directives && directives.length) {\n    directives.forEach(directive => {\n      if (!isInclusionDirective(directive)) return;\n      const directiveArguments = directive.arguments;\n      const directiveName = directive.name.value;\n      invariant(directiveArguments && directiveArguments.length === 1, 16, directiveName);\n      const ifArgument = directiveArguments[0];\n      invariant(ifArgument.name && ifArgument.name.value === \"if\", 17, directiveName);\n      const ifValue = ifArgument.value;\n      // means it has to be a variable value if this is a valid @skip or @include directive\n      invariant(ifValue && (ifValue.kind === \"Variable\" || ifValue.kind === \"BooleanValue\"), 18, directiveName);\n      result.push({\n        directive,\n        ifArgument\n      });\n    });\n  }\n  return result;\n}","map":{"version":3,"names":["invariant","shouldInclude","_ref","variables","directives","length","getInclusionDirectives","every","_ref2","directive","ifArgument","evaledValue","value","kind","name","isInclusionDirective","_ref3","result","forEach","directiveArguments","arguments","directiveName","ifValue","push"],"sources":["/home/zobair-qauomi/todo_app/node_modules/@apollo/src/utilities/internal/shouldInclude.ts"],"sourcesContent":["import type {\n  ArgumentNode,\n  BooleanValueNode,\n  DirectiveNode,\n  SelectionNode,\n  ValueNode,\n  VariableNode,\n} from \"graphql\";\n\nimport { invariant } from \"@apollo/client/utilities/invariant\";\n\n/** @internal */\nexport function shouldInclude(\n  { directives }: SelectionNode,\n  variables?: Record<string, any>\n): boolean {\n  if (!directives || !directives.length) {\n    return true;\n  }\n  return getInclusionDirectives(directives).every(\n    ({ directive, ifArgument }) => {\n      let evaledValue: boolean = false;\n      if (ifArgument.value.kind === \"Variable\") {\n        evaledValue =\n          variables && variables[(ifArgument.value as VariableNode).name.value];\n        invariant(\n          evaledValue !== void 0,\n          `Invalid variable referenced in @%s directive.`,\n          directive.name.value\n        );\n      } else {\n        evaledValue = (ifArgument.value as BooleanValueNode).value;\n      }\n      return directive.name.value === \"skip\" ? !evaledValue : evaledValue;\n    }\n  );\n}\n\nfunction isInclusionDirective({ name: { value } }: DirectiveNode): boolean {\n  return value === \"skip\" || value === \"include\";\n}\n\ntype InclusionDirectives = Array<{\n  directive: DirectiveNode;\n  ifArgument: ArgumentNode;\n}>;\n\nfunction getInclusionDirectives(\n  directives: ReadonlyArray<DirectiveNode>\n): InclusionDirectives {\n  const result: InclusionDirectives = [];\n\n  if (directives && directives.length) {\n    directives.forEach((directive) => {\n      if (!isInclusionDirective(directive)) return;\n\n      const directiveArguments = directive.arguments;\n      const directiveName = directive.name.value;\n\n      invariant(\n        directiveArguments && directiveArguments.length === 1,\n        `Incorrect number of arguments for the @%s directive.`,\n        directiveName\n      );\n\n      const ifArgument = directiveArguments![0];\n      invariant(\n        ifArgument.name && ifArgument.name.value === \"if\",\n        `Invalid argument for the @%s directive.`,\n        directiveName\n      );\n\n      const ifValue: ValueNode = ifArgument.value;\n\n      // means it has to be a variable value if this is a valid @skip or @include directive\n      invariant(\n        ifValue &&\n          (ifValue.kind === \"Variable\" || ifValue.kind === \"BooleanValue\"),\n        `Argument for the @%s directive must be a variable or a boolean value.`,\n        directiveName\n      );\n\n      result.push({ directive, ifArgument });\n    });\n  }\n\n  return result;\n}\n"],"mappings":"AASA,SAASA,SAAT,QAA0B,oCAAoC;;;;;;AAG9D,gBAAgBC,aAAaA,CAAAC,IAAA,EAE3BC,SAA+B,EAFjC;EAAA,IACE;IAAEC;EADJ,CAC+B,GAAAF,IAAA;EAG7B,IAAI,CAACE,UAAP,IAAqB,CAACA,UAAU,CAACC,MAAM,EAAE;IACrC,OAAO,IAAI;EACb;SACOC,sBAAsB,CAACF,UAAU,CAAC,CAACG,KAAK,CAC7CC,KAAA,IADJ;IAAA,IACK;MAAEC,SAAS;MAAEC;IADlB,CAC8B,GAAAF,KAAA;IACxB,IAAIG,WAAV,GAAiC,KAAK;IAChC,IAAID,UAAU,CAACE,KAAK,CAACC,IAA3B,KAAoC,UAAU,EAAE;MACxCF,WAAR,GACUR,SAAV,IAAuBA,SAAS,CAAEO,UAAU,CAACE,KAAsB,CAACE,IAAI,CAACF,KAAK,CAAC;MACvEZ,SAAR,CACUW,WADV,KAC0B,KAAK,OAErBF,SAAS,CAACK,IAAI,CAACF,KAHzB,CAIS;IACH,OAAO;MACLD,WAAR,GAAuBD,UAAU,CAACE,KAA0B,CAACA,KAAK;IAC5D;IACA,OAAOH,SAAS,CAACK,IAAI,CAACF,KAA5B,KAAsC,MAAtC,GAA+C,CAACD,WAAhD,GAA8DA,WAAW;EACrE,CAAC;AAEL;AAEA,SAASI,oBAAoBA,CAAAC,KAAA,EAA7B;EAAA,IAA8B;IAAEF,IAAI,EAAE;MAAEF;IAAxC;EAAA,CAAgE,GAAAI,KAAA;EAC9D,OAAOJ,KAAT,KAAmB,MAAnB,IAA6BA,KAA7B,KAAuC,SAAS;AAChD;AAOA,SAASN,sBAAsBA,CAC7BF,UAAwC,EAD1C;EAGE,MAAMa,MAAR,GAAsC,EAAE;EAEtC,IAAIb,UAAN,IAAoBA,UAAU,CAACC,MAAM,EAAE;IACnCD,UAAU,CAACc,OAAO,CAAET,SAAS,IAAjC;MACM,IAAI,CAACM,oBAAoB,CAACN,SAAS,CAAC,EAAE;MAEtC,MAAMU,kBAAZ,GAAiCV,SAAS,CAACW,SAAS;MAC9C,MAAMC,aAAZ,GAA4BZ,SAAS,CAACK,IAAI,CAACF,KAAK;MAE1CZ,SAAN,CACQmB,kBADR,IAC8BA,kBAAkB,CAACd,MADjD,KAC4D,OAEpDgB,aAHR,CAIO;MAED,MAAMX,UAAZ,GAAyBS,kBAAmB,CAAC,CAAC,CAAC;MACzCnB,SAAN,CACQU,UAAU,CAACI,IADnB,IAC2BJ,UAAU,CAACI,IAAI,CAACF,KAD3C,KACqD,IADrD,MAGQS,aAHR,CAIO;MAED,MAAMC,OAAZ,GAAiCZ,UAAU,CAACE,KAAK;MAE3C;MACAZ,SAAN,CACQsB,OADR,KAEWA,OAAO,CAACT,IAAnB,KAA4B,UAA5B,IAA0CS,OAAO,CAACT,IAAlD,KAA2D,cAAc,OAEjEQ,aAFR,CAGO;MAEDJ,MAAM,CAACM,IAAI,CAAC;QAAEd,SAAS;QAAEC;MAA/B,CAA2C,CAAC;IACxC,CAAC,CAAC;EACJ;EAEA,OAAOO,MAAM;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}