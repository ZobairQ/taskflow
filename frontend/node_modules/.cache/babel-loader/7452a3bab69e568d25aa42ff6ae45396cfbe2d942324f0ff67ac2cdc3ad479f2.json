{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const ThemeContext=/*#__PURE__*/createContext(undefined);export function ThemeProvider(_ref){let{children}=_ref;const[theme,setTheme]=useState(()=>{if(typeof window!=='undefined'){const savedTheme=localStorage.getItem('theme');if(savedTheme==='light'||savedTheme==='dark'){return savedTheme;}// Check system preference\nif(window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches){return'dark';}}return'light';});useEffect(()=>{const root=window.document.documentElement;root.classList.remove('light','dark');root.classList.add(theme);localStorage.setItem('theme',theme);},[theme]);const toggleTheme=()=>{setTheme(prev=>prev==='light'?'dark':'light');};return/*#__PURE__*/_jsx(ThemeContext.Provider,{value:{theme,toggleTheme},children:children});}export function useTheme(){const context=useContext(ThemeContext);if(context===undefined){throw new Error('useTheme must be used within a ThemeProvider');}return context;}","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","ThemeContext","undefined","ThemeProvider","_ref","children","theme","setTheme","window","savedTheme","localStorage","getItem","matchMedia","matches","root","document","documentElement","classList","remove","add","setItem","toggleTheme","prev","Provider","value","useTheme","context","Error"],"sources":["/home/zobair-qauomi/todo_app/frontend/src/ThemeContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, type ReactNode } from 'react';\n\ninterface ThemeContextType {\n  theme: 'light' | 'dark';\n  toggleTheme: () => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: ReactNode }) {\n  const [theme, setTheme] = useState<'light' | 'dark'>(() => {\n    if (typeof window !== 'undefined') {\n      const savedTheme = localStorage.getItem('theme');\n      if (savedTheme === 'light' || savedTheme === 'dark') {\n        return savedTheme;\n      }\n      // Check system preference\n      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        return 'dark';\n      }\n    }\n    return 'light';\n  });\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n    root.classList.remove('light', 'dark');\n    root.classList.add(theme);\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n\n  const toggleTheme = () => {\n    setTheme((prev) => (prev === 'light' ? 'dark' : 'light'));\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAwB,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAO9F,KAAM,CAAAC,YAAY,cAAGN,aAAa,CAA+BO,SAAS,CAAC,CAE3E,MAAO,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAwC,IAAvC,CAAEC,QAAkC,CAAC,CAAAD,IAAA,CACjE,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAmB,IAAM,CACzD,GAAI,MAAO,CAAAW,MAAM,GAAK,WAAW,CAAE,CACjC,KAAM,CAAAC,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAChD,GAAIF,UAAU,GAAK,OAAO,EAAIA,UAAU,GAAK,MAAM,CAAE,CACnD,MAAO,CAAAA,UAAU,CACnB,CACA;AACA,GAAID,MAAM,CAACI,UAAU,EAAIJ,MAAM,CAACI,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,CAAE,CAClF,MAAO,MAAM,CACf,CACF,CACA,MAAO,OAAO,CAChB,CAAC,CAAC,CAEFf,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,IAAI,CAAGN,MAAM,CAACO,QAAQ,CAACC,eAAe,CAC5CF,IAAI,CAACG,SAAS,CAACC,MAAM,CAAC,OAAO,CAAE,MAAM,CAAC,CACtCJ,IAAI,CAACG,SAAS,CAACE,GAAG,CAACb,KAAK,CAAC,CACzBI,YAAY,CAACU,OAAO,CAAC,OAAO,CAAEd,KAAK,CAAC,CACtC,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAe,WAAW,CAAGA,CAAA,GAAM,CACxBd,QAAQ,CAAEe,IAAI,EAAMA,IAAI,GAAK,OAAO,CAAG,MAAM,CAAG,OAAQ,CAAC,CAC3D,CAAC,CAED,mBACEtB,IAAA,CAACC,YAAY,CAACsB,QAAQ,EAACC,KAAK,CAAE,CAAElB,KAAK,CAAEe,WAAY,CAAE,CAAAhB,QAAA,CAClDA,QAAQ,CACY,CAAC,CAE5B,CAEA,MAAO,SAAS,CAAAoB,QAAQA,CAAA,CAAG,CACzB,KAAM,CAAAC,OAAO,CAAG9B,UAAU,CAACK,YAAY,CAAC,CACxC,GAAIyB,OAAO,GAAKxB,SAAS,CAAE,CACzB,KAAM,IAAI,CAAAyB,KAAK,CAAC,8CAA8C,CAAC,CACjE,CACA,MAAO,CAAAD,OAAO,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}