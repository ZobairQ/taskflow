{"ast":null,"code":"import React,{createContext,useContext,useEffect}from'react';import{useQuery,useMutation}from'@apollo/client/react';import{XP_PER_LEVEL_BASE,XP_PER_TASK}from'./constants/gamification';import{LEVEL_GRADIENTS,LEVEL_COLORS}from'./constants/colors';import{GET_GAME_PROFILE}from'./graphql/queries';import{ACTIVATE_POWER_UP,DEACTIVATE_POWER_UP}from'./graphql/mutations';import{isAuthenticated}from'./lib/apollo';// Re-export types and utilities for backward compatibility\nimport{jsx as _jsx}from\"react/jsx-runtime\";export{XP_PER_LEVEL_BASE,XP_PER_TASK};export function getLevelFromXP(xp){let level=1;let totalXP=0;while(true){const xpNeeded=Math.floor(XP_PER_LEVEL_BASE*Math.pow(1.5,level-1));if(totalXP+xpNeeded>xp){break;}totalXP+=xpNeeded;level++;}return level;}export function getXpProgress(level,xp){const xpNeeded=Math.floor(XP_PER_LEVEL_BASE*Math.pow(1.5,level-1));const prevLevelXP=Math.floor(XP_PER_LEVEL_BASE*(Math.pow(1.5,level-1)-1)/0.5);const xpInCurrentLevel=xp-prevLevelXP;return Math.min(100,Math.max(0,xpInCurrentLevel/xpNeeded*100));}export function getStreakBadge(streak){if(streak>=60)return{color:'bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 text-white',emoji:'ðŸ‘‘',multiplier:5};if(streak>=30)return{color:'bg-gradient-to-r from-purple-500 via-indigo-600 to-purple-600 text-white',emoji:'ðŸ’Ž',multiplier:4};if(streak>=14)return{color:'bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 text-white',emoji:'ðŸ”¥',multiplier:3};if(streak>=7)return{color:'bg-gradient-to-r from-orange-400 via-amber-500 to-yellow-500 text-white',emoji:'âš¡',multiplier:2};if(streak>=3)return{color:'bg-gradient-to-r from-red-400 via-rose-500 to-pink-500 text-white',emoji:'âš¡',multiplier:1.5};return{color:'bg-gradient-to-r from-slate-400 to-slate-500 text-white',emoji:'âœ¨',multiplier:1};}export function getLevelGradient(level){const levelMod=(level-1)%10+1;return LEVEL_GRADIENTS[levelMod]||'from-slate-500 to-slate-600';}export function getLevelColor(level){return LEVEL_COLORS[(level-1)%LEVEL_COLORS.length];}// Default game data for unauthenticated users\nconst DEFAULT_GAME_DATA={xp:0,level:1,streak:0,lastLogin:null,totalTasksCompleted:0,completedTasksToday:0,achievements:[],dailyChallenges:[],sessionStart:Date.now(),maxStreak:0,powerUps:[],lastStreakReward:null};export function GamificationProvider(_ref){let{children}=_ref;// Query game profile from server\nconst{data:gameProfileData,loading,refetch:refetchGameProfile}=useQuery(GET_GAME_PROFILE,{skip:!isAuthenticated(),fetchPolicy:'cache-and-network',pollInterval:60000// Refresh every minute to check power-up expirations\n});// Power up mutations\nconst[activatePowerUpMutation]=useMutation(ACTIVATE_POWER_UP,{refetchQueries:[{query:GET_GAME_PROFILE}]});const[deactivatePowerUpMutation]=useMutation(DEACTIVATE_POWER_UP,{refetchQueries:[{query:GET_GAME_PROFILE}]});// Transform Apollo data to GameData format\nconst transformToGameData=()=>{var _profile$achievements,_profile$dailyChallen,_profile$activePowerU;if(!(gameProfileData!==null&&gameProfileData!==void 0&&gameProfileData.gameProfile)){return DEFAULT_GAME_DATA;}const profile=gameProfileData.gameProfile;// Transform achievements from server format\nconst achievements=((_profile$achievements=profile.achievements)===null||_profile$achievements===void 0?void 0:_profile$achievements.map(ua=>({id:ua.achievement.id,title:ua.achievement.title,description:ua.achievement.description,icon:ua.achievement.icon,unlocked:true,unlockedAt:ua.unlockedAt?new Date(ua.unlockedAt).getTime():undefined,points:ua.achievement.points,category:ua.achievement.category})))||[];// Transform daily challenges from server format\nconst dailyChallenges=((_profile$dailyChallen=profile.dailyChallenges)===null||_profile$dailyChallen===void 0?void 0:_profile$dailyChallen.map(dc=>({id:dc.challenge.id,title:dc.challenge.title,description:dc.challenge.description,target:dc.challenge.target,current:dc.current,completed:dc.completed,reward:dc.challenge.reward,icon:dc.challenge.icon})))||[];// Transform power-ups from server format\nconst powerUps=((_profile$activePowerU=profile.activePowerUps)===null||_profile$activePowerU===void 0?void 0:_profile$activePowerU.map(p=>({id:p.id,name:p.name,description:p.description,icon:p.icon,active:p.active,multiplier:p.multiplier,duration:p.duration,expiresAt:p.expiresAt?new Date(p.expiresAt).getTime():undefined})))||[];return{xp:profile.xp||0,level:profile.level||1,streak:profile.currentStreak||0,lastLogin:profile.lastStreakDate||null,totalTasksCompleted:profile.totalTasksCompleted||0,completedTasksToday:profile.completedTasksToday||0,achievements,dailyChallenges,sessionStart:Date.now(),maxStreak:profile.maxStreak||0,powerUps,lastStreakReward:null};};const gameData=transformToGameData();// Complete task - with Apollo, this is handled by the backend when task is completed\n// This function is kept for backward compatibility but primarily triggers a refetch\nconst completeTask=function(){let _isHighPriority=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;// The actual XP/level calculation happens on the backend\n// Just refetch the game profile to get updated data\nif(isAuthenticated()){refetchGameProfile();}};// Streak functions - handled by backend\nconst incrementStreak=()=>{// Handled by backend - just refetch\nif(isAuthenticated()){refetchGameProfile();}};const resetStreak=()=>{// Handled by backend - just refetch\nif(isAuthenticated()){refetchGameProfile();}};// Activate power up\nconst activatePowerUp=async powerUpId=>{try{await activatePowerUpMutation({variables:{id:powerUpId}});}catch(error){console.error('Failed to activate power up:',error);}};// Deactivate power up\nconst deactivatePowerUp=async powerUpId=>{try{await deactivatePowerUpMutation({variables:{id:powerUpId}});}catch(error){console.error('Failed to deactivate power up:',error);}};// Check achievements - handled by backend\nconst checkAchievements=(_total,_today,_highPriority)=>{// Achievements are checked on the backend when tasks are completed\n// Just refetch to get the latest state\nif(isAuthenticated()){refetchGameProfile();}};// Refetch on window focus to ensure data is fresh\nuseEffect(()=>{const handleFocus=()=>{if(isAuthenticated()){refetchGameProfile();}};window.addEventListener('focus',handleFocus);return()=>window.removeEventListener('focus',handleFocus);},[refetchGameProfile]);const contextValue={gameData,completeTask,incrementStreak,resetStreak,checkAchievements,getLevelColor,getStreakBadge,getLevelFromXP,getXpProgress,activatePowerUp,deactivatePowerUp,getLevelGradient,powerUps:gameData.powerUps};return/*#__PURE__*/_jsx(GamificationContext.Provider,{value:contextValue,children:children});}const GamificationContext=/*#__PURE__*/createContext(undefined);export function useGame(){const context=useContext(GamificationContext);if(!context)throw new Error('useGame must be used within GamificationProvider');return context;}","map":{"version":3,"names":["React","createContext","useContext","useEffect","useQuery","useMutation","XP_PER_LEVEL_BASE","XP_PER_TASK","LEVEL_GRADIENTS","LEVEL_COLORS","GET_GAME_PROFILE","ACTIVATE_POWER_UP","DEACTIVATE_POWER_UP","isAuthenticated","jsx","_jsx","getLevelFromXP","xp","level","totalXP","xpNeeded","Math","floor","pow","getXpProgress","prevLevelXP","xpInCurrentLevel","min","max","getStreakBadge","streak","color","emoji","multiplier","getLevelGradient","levelMod","getLevelColor","length","DEFAULT_GAME_DATA","lastLogin","totalTasksCompleted","completedTasksToday","achievements","dailyChallenges","sessionStart","Date","now","maxStreak","powerUps","lastStreakReward","GamificationProvider","_ref","children","data","gameProfileData","loading","refetch","refetchGameProfile","skip","fetchPolicy","pollInterval","activatePowerUpMutation","refetchQueries","query","deactivatePowerUpMutation","transformToGameData","_profile$achievements","_profile$dailyChallen","_profile$activePowerU","gameProfile","profile","map","ua","id","achievement","title","description","icon","unlocked","unlockedAt","getTime","undefined","points","category","dc","challenge","target","current","completed","reward","activePowerUps","p","name","active","duration","expiresAt","currentStreak","lastStreakDate","gameData","completeTask","_isHighPriority","arguments","incrementStreak","resetStreak","activatePowerUp","powerUpId","variables","error","console","deactivatePowerUp","checkAchievements","_total","_today","_highPriority","handleFocus","window","addEventListener","removeEventListener","contextValue","GamificationContext","Provider","value","useGame","context","Error"],"sources":["/home/zobair-qauomi/todo_app/frontend/src/GamificationContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, type ReactNode } from 'react';\nimport { useQuery, useMutation } from '@apollo/client/react';\nimport {\n  Achievement,\n  DailyChallenge,\n  PowerUp,\n  GameData,\n  StreakBadge,\n  GamificationContextValue,\n} from './types';\nimport {\n  XP_PER_LEVEL_BASE,\n  XP_PER_TASK,\n} from './constants/gamification';\nimport { LEVEL_GRADIENTS, LEVEL_COLORS } from './constants/colors';\nimport { GET_GAME_PROFILE } from './graphql/queries';\nimport { ACTIVATE_POWER_UP, DEACTIVATE_POWER_UP } from './graphql/mutations';\nimport { isAuthenticated } from './lib/apollo';\n\n// Re-export types and utilities for backward compatibility\nexport type { Achievement, DailyChallenge, PowerUp, GameData, StreakBadge };\nexport { XP_PER_LEVEL_BASE, XP_PER_TASK };\n\nexport function getLevelFromXP(xp: number): number {\n  let level = 1;\n  let totalXP = 0;\n\n  while (true) {\n    const xpNeeded = Math.floor(XP_PER_LEVEL_BASE * Math.pow(1.5, level - 1));\n    if (totalXP + xpNeeded > xp) {\n      break;\n    }\n    totalXP += xpNeeded;\n    level++;\n  }\n  return level;\n}\n\nexport function getXpProgress(level: number, xp: number): number {\n  const xpNeeded = Math.floor(XP_PER_LEVEL_BASE * Math.pow(1.5, level - 1));\n  const prevLevelXP = Math.floor(XP_PER_LEVEL_BASE * (Math.pow(1.5, level - 1) - 1) / 0.5);\n  const xpInCurrentLevel = xp - prevLevelXP;\n  return Math.min(100, Math.max(0, (xpInCurrentLevel / xpNeeded) * 100));\n}\n\nexport function getStreakBadge(streak: number): StreakBadge {\n  if (streak >= 60) return { color: 'bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 text-white', emoji: 'ðŸ‘‘', multiplier: 5 };\n  if (streak >= 30) return { color: 'bg-gradient-to-r from-purple-500 via-indigo-600 to-purple-600 text-white', emoji: 'ðŸ’Ž', multiplier: 4 };\n  if (streak >= 14) return { color: 'bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 text-white', emoji: 'ðŸ”¥', multiplier: 3 };\n  if (streak >= 7) return { color: 'bg-gradient-to-r from-orange-400 via-amber-500 to-yellow-500 text-white', emoji: 'âš¡', multiplier: 2 };\n  if (streak >= 3) return { color: 'bg-gradient-to-r from-red-400 via-rose-500 to-pink-500 text-white', emoji: 'âš¡', multiplier: 1.5 };\n  return { color: 'bg-gradient-to-r from-slate-400 to-slate-500 text-white', emoji: 'âœ¨', multiplier: 1 };\n}\n\nexport function getLevelGradient(level: number): string {\n  const levelMod = ((level - 1) % 10) + 1;\n  return LEVEL_GRADIENTS[levelMod] || 'from-slate-500 to-slate-600';\n}\n\nexport function getLevelColor(level: number): string {\n  return LEVEL_COLORS[(level - 1) % LEVEL_COLORS.length];\n}\n\n// Default game data for unauthenticated users\nconst DEFAULT_GAME_DATA: GameData = {\n  xp: 0,\n  level: 1,\n  streak: 0,\n  lastLogin: null,\n  totalTasksCompleted: 0,\n  completedTasksToday: 0,\n  achievements: [],\n  dailyChallenges: [],\n  sessionStart: Date.now(),\n  maxStreak: 0,\n  powerUps: [],\n  lastStreakReward: null,\n};\n\nexport function GamificationProvider({ children }: { children: ReactNode }) {\n  // Query game profile from server\n  const {\n    data: gameProfileData,\n    loading,\n    refetch: refetchGameProfile,\n  } = useQuery(GET_GAME_PROFILE, {\n    skip: !isAuthenticated(),\n    fetchPolicy: 'cache-and-network',\n    pollInterval: 60000, // Refresh every minute to check power-up expirations\n  });\n\n  // Power up mutations\n  const [activatePowerUpMutation] = useMutation(ACTIVATE_POWER_UP, {\n    refetchQueries: [{ query: GET_GAME_PROFILE }],\n  });\n\n  const [deactivatePowerUpMutation] = useMutation(DEACTIVATE_POWER_UP, {\n    refetchQueries: [{ query: GET_GAME_PROFILE }],\n  });\n\n  // Transform Apollo data to GameData format\n  const transformToGameData = (): GameData => {\n    if (!gameProfileData?.gameProfile) {\n      return DEFAULT_GAME_DATA;\n    }\n\n    const profile = gameProfileData.gameProfile;\n\n    // Transform achievements from server format\n    const achievements: Achievement[] = profile.achievements?.map((ua: any) => ({\n      id: ua.achievement.id,\n      title: ua.achievement.title,\n      description: ua.achievement.description,\n      icon: ua.achievement.icon,\n      unlocked: true,\n      unlockedAt: ua.unlockedAt ? new Date(ua.unlockedAt).getTime() : undefined,\n      points: ua.achievement.points,\n      category: ua.achievement.category,\n    })) || [];\n\n    // Transform daily challenges from server format\n    const dailyChallenges: DailyChallenge[] = profile.dailyChallenges?.map((dc: any) => ({\n      id: dc.challenge.id,\n      title: dc.challenge.title,\n      description: dc.challenge.description,\n      target: dc.challenge.target,\n      current: dc.current,\n      completed: dc.completed,\n      reward: dc.challenge.reward,\n      icon: dc.challenge.icon,\n    })) || [];\n\n    // Transform power-ups from server format\n    const powerUps: PowerUp[] = profile.activePowerUps?.map((p: any) => ({\n      id: p.id,\n      name: p.name,\n      description: p.description,\n      icon: p.icon,\n      active: p.active,\n      multiplier: p.multiplier,\n      duration: p.duration,\n      expiresAt: p.expiresAt ? new Date(p.expiresAt).getTime() : undefined,\n    })) || [];\n\n    return {\n      xp: profile.xp || 0,\n      level: profile.level || 1,\n      streak: profile.currentStreak || 0,\n      lastLogin: profile.lastStreakDate || null,\n      totalTasksCompleted: profile.totalTasksCompleted || 0,\n      completedTasksToday: profile.completedTasksToday || 0,\n      achievements,\n      dailyChallenges,\n      sessionStart: Date.now(),\n      maxStreak: profile.maxStreak || 0,\n      powerUps,\n      lastStreakReward: null,\n    };\n  };\n\n  const gameData = transformToGameData();\n\n  // Complete task - with Apollo, this is handled by the backend when task is completed\n  // This function is kept for backward compatibility but primarily triggers a refetch\n  const completeTask = (_isHighPriority: boolean = false) => {\n    // The actual XP/level calculation happens on the backend\n    // Just refetch the game profile to get updated data\n    if (isAuthenticated()) {\n      refetchGameProfile();\n    }\n  };\n\n  // Streak functions - handled by backend\n  const incrementStreak = () => {\n    // Handled by backend - just refetch\n    if (isAuthenticated()) {\n      refetchGameProfile();\n    }\n  };\n\n  const resetStreak = () => {\n    // Handled by backend - just refetch\n    if (isAuthenticated()) {\n      refetchGameProfile();\n    }\n  };\n\n  // Activate power up\n  const activatePowerUp = async (powerUpId: string) => {\n    try {\n      await activatePowerUpMutation({\n        variables: { id: powerUpId },\n      });\n    } catch (error) {\n      console.error('Failed to activate power up:', error);\n    }\n  };\n\n  // Deactivate power up\n  const deactivatePowerUp = async (powerUpId: string) => {\n    try {\n      await deactivatePowerUpMutation({\n        variables: { id: powerUpId },\n      });\n    } catch (error) {\n      console.error('Failed to deactivate power up:', error);\n    }\n  };\n\n  // Check achievements - handled by backend\n  const checkAchievements = (_total: number, _today: number, _highPriority: number) => {\n    // Achievements are checked on the backend when tasks are completed\n    // Just refetch to get the latest state\n    if (isAuthenticated()) {\n      refetchGameProfile();\n    }\n  };\n\n  // Refetch on window focus to ensure data is fresh\n  useEffect(() => {\n    const handleFocus = () => {\n      if (isAuthenticated()) {\n        refetchGameProfile();\n      }\n    };\n\n    window.addEventListener('focus', handleFocus);\n    return () => window.removeEventListener('focus', handleFocus);\n  }, [refetchGameProfile]);\n\n  const contextValue: GamificationContextValue = {\n    gameData,\n    completeTask,\n    incrementStreak,\n    resetStreak,\n    checkAchievements,\n    getLevelColor,\n    getStreakBadge,\n    getLevelFromXP,\n    getXpProgress,\n    activatePowerUp,\n    deactivatePowerUp,\n    getLevelGradient,\n    powerUps: gameData.powerUps,\n  };\n\n  return (\n    <GamificationContext.Provider value={contextValue}>\n      {children}\n    </GamificationContext.Provider>\n  );\n}\n\nconst GamificationContext = createContext<GamificationContextValue | undefined>(undefined);\n\nexport function useGame() {\n  const context = useContext(GamificationContext);\n  if (!context) throw new Error('useGame must be used within GamificationProvider');\n  return context;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}