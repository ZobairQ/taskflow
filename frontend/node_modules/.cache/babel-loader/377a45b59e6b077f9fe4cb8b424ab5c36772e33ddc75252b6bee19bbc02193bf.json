{"ast":null,"code":"import { Kind } from \"graphql\";\nimport { Slot } from \"optimism\";\nimport { __DEV__ } from \"@apollo/client/utilities/environment\";\nimport { invariant } from \"@apollo/client/utilities/invariant\";\n// Contextual slot that allows us to disable accessor warnings on fields when in\n// migrate mode.\n/**\n* @internal\n* \n* @deprecated This is an internal API and should not be used directly. This can be removed or changed at any time.\n*/\nexport const disableWarningsSlot = new Slot();\nexport function getFragmentMaskMode(fragment) {\n  var _fragment$directives, _directive$arguments;\n  const directive = (_fragment$directives = fragment.directives) === null || _fragment$directives === void 0 ? void 0 : _fragment$directives.find(_ref => {\n    let {\n      name\n    } = _ref;\n    return name.value === \"unmask\";\n  });\n  if (!directive) {\n    return \"mask\";\n  }\n  const modeArg = (_directive$arguments = directive.arguments) === null || _directive$arguments === void 0 ? void 0 : _directive$arguments.find(_ref2 => {\n    let {\n      name\n    } = _ref2;\n    return name.value === \"mode\";\n  });\n  if (__DEV__) {\n    if (modeArg) {\n      if (modeArg.value.kind === Kind.VARIABLE) {\n        __DEV__ && invariant.warn(44);\n      } else if (modeArg.value.kind !== Kind.STRING) {\n        __DEV__ && invariant.warn(45);\n      } else if (modeArg.value.value !== \"migrate\") {\n        __DEV__ && invariant.warn(46, modeArg.value.value);\n      }\n    }\n  }\n  if (modeArg && \"value\" in modeArg.value && modeArg.value.value === \"migrate\") {\n    return \"migrate\";\n  }\n  return \"unmask\";\n}","map":{"version":3,"names":["Kind","Slot","__DEV__","invariant","disableWarningsSlot","getFragmentMaskMode","fragment","_fragment$directives","_directive$arguments","directive","directives","find","_ref","name","value","modeArg","arguments","_ref2","kind","VARIABLE","warn","STRING"],"sources":["/home/zobair-qauomi/todo_app/node_modules/@apollo/src/masking/utils.ts"],"sourcesContent":["import type { FragmentSpreadNode } from \"graphql\";\nimport { Kind } from \"graphql\";\nimport { Slot } from \"optimism\";\n\nimport { __DEV__ } from \"@apollo/client/utilities/environment\";\nimport { invariant } from \"@apollo/client/utilities/invariant\";\n\n// Contextual slot that allows us to disable accessor warnings on fields when in\n// migrate mode.\n/** @internal */\nexport const disableWarningsSlot = new Slot<boolean>();\n\nexport function getFragmentMaskMode(\n  fragment: FragmentSpreadNode\n): \"mask\" | \"migrate\" | \"unmask\" {\n  const directive = fragment.directives?.find(\n    ({ name }) => name.value === \"unmask\"\n  );\n\n  if (!directive) {\n    return \"mask\";\n  }\n\n  const modeArg = directive.arguments?.find(\n    ({ name }) => name.value === \"mode\"\n  );\n\n  if (__DEV__) {\n    if (modeArg) {\n      if (modeArg.value.kind === Kind.VARIABLE) {\n        invariant.warn(\"@unmask 'mode' argument does not support variables.\");\n      } else if (modeArg.value.kind !== Kind.STRING) {\n        invariant.warn(\"@unmask 'mode' argument must be of type string.\");\n      } else if (modeArg.value.value !== \"migrate\") {\n        invariant.warn(\n          \"@unmask 'mode' argument does not recognize value '%s'.\",\n          modeArg.value.value\n        );\n      }\n    }\n  }\n\n  if (\n    modeArg &&\n    \"value\" in modeArg.value &&\n    modeArg.value.value === \"migrate\"\n  ) {\n    return \"migrate\";\n  }\n\n  return \"unmask\";\n}\n"],"mappings":"AACA,SAASA,IAAT,QAAqB,SAAS;AAC9B,SAASC,IAAT,QAAqB,UAAU;AAE/B,SAASC,OAAT,QAAwB,sCAAsC;AAC9D,SAASC,SAAT,QAA0B,oCAAoC;AAE9D;AACA;;;;;;AAEA,OAAO,MAAMC,mBAAb,GAAmC,IAAIH,IAAI,CAA3C,CAAsD;AAEtD,gBAAgBI,mBAAmBA,CACjCC,QAA4B,EAD9B;EAAA,IAAAC,oBAAA,EAAAC,oBAAA;EAGE,MAAMC,SAAR,IAAAF,oBAAA,GAAoBD,QAAQ,CAACI,UAAU,cAAAH,oBAAA,uBAAnBA,oBAAA,CAAqBI,IAAI,CACzCC,IAAA;IAAA,IAAC;MAAEC;IADP,CACa,GAAAD,IAAA;IAAA,OAAKC,IAAI,CAACC,KADvB,KACiC,QAAQ;EAAA,EACtC;EAED,IAAI,CAACL,SAAS,EAAE;IACd,OAAO,MAAM;EACf;EAEA,MAAMM,OAAR,IAAAP,oBAAA,GAAkBC,SAAS,CAACO,SAAS,cAAAR,oBAAA,uBAAnBA,oBAAA,CAAqBG,IAAI,CACvCM,KAAA;IAAA,IAAC;MAAEJ;IADP,CACa,GAAAI,KAAA;IAAA,OAAKJ,IAAI,CAACC,KADvB,KACiC,MAAM;EAAA,EACpC;EAED,IAAIZ,OAAO,EAAE;IACX,IAAIa,OAAO,EAAE;MACX,IAAIA,OAAO,CAACD,KAAK,CAACI,IAAxB,KAAiClB,IAAI,CAACmB,QAAQ,EAAE;mBACxChB,SAAS,CAACiB,IAAlB,IAA6E;MACvE,OAAO,IAAIL,OAAO,CAACD,KAAK,CAACI,IAA/B,KAAwClB,IAAI,CAACqB,MAAM,EAAE;mBAC7ClB,SAAS,CAACiB,IAAlB,IAAyE;MACnE,OAAO,IAAIL,OAAO,CAACD,KAAK,CAACA,KAA/B,KAAyC,SAAS,EAAE;mBAC5CX,SAAS,CAACiB,IAAlB,KAEUL,OAAO,CAACD,KAAK,CAACA,KAFxB,CAGS;MACH;IACF;EACF;EAEA,IACEC,OADJ,IAEI,OAAJ,IAAeA,OAAO,CAACD,KAAvB,IACIC,OAAO,CAACD,KAAK,CAACA,KAAlB,KAA4B,SAAS,EACjC;IACA,OAAO,SAAS;EAClB;EAEA,OAAO,QAAQ;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}