{"ast":null,"code":"import _objectSpread from\"/home/zobair-qauomi/todo_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * Timer Context - Manages Pomodoro timer state and sessions with Apollo integration\n */import React,{createContext,useContext,useState,useEffect,useCallback,useRef}from'react';import{useQuery,useMutation}from'@apollo/client';import{DEFAULT_POMODORO_SETTINGS}from'./types/timer.types';import{getPhaseDuration,getNextPhase,calculateTimerStats,generateSessionId,playNotificationSound,showNotification,getPhaseLabel}from'./utils/timeTracking';import{GET_TIMER_SESSIONS,GET_TIMER_STATS}from'./graphql/queries';import{START_TIMER,PAUSE_TIMER,COMPLETE_TIMER,SKIP_PHASE}from'./graphql/mutations';import{isAuthenticated}from'./lib/apollo';import{jsx as _jsx}from\"react/jsx-runtime\";const TimerContext=/*#__PURE__*/createContext(undefined);const STORAGE_KEY='taskflow_timer';export function TimerProvider(_ref){let{children}=_ref;// Local UI state - these remain local for real-time responsiveness\nconst[timerState,setTimerState]=useState('idle');const[currentPhase,setCurrentPhase]=useState('work');const[timeRemaining,setTimeRemaining]=useState(DEFAULT_POMODORO_SETTINGS.workDuration*60);const[settings,setSettings]=useState(DEFAULT_POMODORO_SETTINGS);const[completedWorkSessions,setCompletedWorkSessions]=useState(0);const[currentSessionId,setCurrentSessionId]=useState(null);const[currentTaskId,setCurrentTaskId]=useState(null);// Track server session ID for Apollo mutations\nconst[serverSessionId,setServerSessionId]=useState(null);const intervalRef=useRef(null);// Apollo queries for historical data (only when authenticated)\nconst{data:sessionsData}=useQuery(GET_TIMER_SESSIONS,{skip:!isAuthenticated(),fetchPolicy:'cache-and-network'});const{data:statsData}=useQuery(GET_TIMER_STATS,{skip:!isAuthenticated(),fetchPolicy:'cache-and-network'});// Apollo mutations\nconst[startTimerMutation]=useMutation(START_TIMER,{refetchQueries:[{query:GET_TIMER_SESSIONS},{query:GET_TIMER_STATS}]});const[pauseTimerMutation]=useMutation(PAUSE_TIMER,{refetchQueries:[{query:GET_TIMER_SESSIONS}]});const[completeTimerMutation]=useMutation(COMPLETE_TIMER,{refetchQueries:[{query:GET_TIMER_SESSIONS},{query:GET_TIMER_STATS}]});const[skipPhaseMutation]=useMutation(SKIP_PHASE,{refetchQueries:[{query:GET_TIMER_SESSIONS}]});// Load settings from localStorage\nuseEffect(()=>{const stored=localStorage.getItem(STORAGE_KEY);if(stored){try{const data=JSON.parse(stored);setSettings(data.settings||DEFAULT_POMODORO_SETTINGS);setCompletedWorkSessions(data.completedWorkSessions||0);}catch(e){console.error('Failed to load timer data:',e);}}},[]);// Save settings to localStorage\nuseEffect(()=>{const data={settings,completedWorkSessions};localStorage.setItem(STORAGE_KEY,JSON.stringify(data));},[settings,completedWorkSessions]);// Calculate progress\nconst totalTime=getPhaseDuration(currentPhase,settings);const progress=(totalTime-timeRemaining)/totalTime*100;// Calculate stats - use server data if available, otherwise local\nconst localSessions=[];// Local sessions are transient\nconst stats=isAuthenticated()&&statsData!==null&&statsData!==void 0&&statsData.timerStats?{todayMinutes:statsData.timerStats.todayMinutes||0,weekMinutes:statsData.timerStats.weekMinutes||0,totalSessions:statsData.timerStats.totalSessions||0,currentStreak:statsData.timerStats.currentStreak||0,averageSessionLength:statsData.timerStats.averageSessionLength||0}:calculateTimerStats(localSessions);// Handle phase completion\nconst handlePhaseComplete=useCallback(async()=>{setTimerState('idle');// Play sound and show notification\nplayNotificationSound();const phaseLabel=getPhaseLabel(currentPhase);showNotification(\"\".concat(phaseLabel,\" Complete!\"),currentPhase==='work'?'Great job! Time for a break.':'Break is over. Ready to focus?');// Complete timer on server\nif(serverSessionId&&isAuthenticated()){try{await completeTimerMutation({variables:{sessionId:serverSessionId}});}catch(error){console.error('Failed to complete timer on server:',error);}}// Update completed work sessions count\nif(currentPhase==='work'){setCompletedWorkSessions(prev=>prev+1);}// Move to next phase\nconst nextPhase=getNextPhase(currentPhase,completedWorkSessions+(currentPhase==='work'?1:0),settings);setCurrentPhase(nextPhase);setTimeRemaining(getPhaseDuration(nextPhase,settings));setCurrentSessionId(null);setServerSessionId(null);},[currentPhase,completedWorkSessions,settings,serverSessionId,completeTimerMutation]);// Store handlePhaseComplete in ref to avoid dependency issues\nconst handlePhaseCompleteRef=useRef(handlePhaseComplete);handlePhaseCompleteRef.current=handlePhaseComplete;// Timer tick\nuseEffect(()=>{if(timerState==='running'){intervalRef.current=setInterval(()=>{setTimeRemaining(prev=>{if(prev<=1){// Timer completed\nhandlePhaseCompleteRef.current();return 0;}return prev-1;});},1000);}return()=>{if(intervalRef.current){clearInterval(intervalRef.current);}};},[timerState]);// Start timer\nconst startTimer=useCallback(async taskId=>{const sessionId=generateSessionId();// Start timer on server if authenticated\nif(isAuthenticated()){try{var _result$data;const result=await startTimerMutation({variables:{taskId:taskId?String(taskId):undefined,type:currentPhase.toUpperCase()}});if((_result$data=result.data)!==null&&_result$data!==void 0&&_result$data.startTimer){setServerSessionId(result.data.startTimer.id);}}catch(error){console.error('Failed to start timer on server:',error);}}setCurrentSessionId(sessionId);setCurrentTaskId(taskId||null);setTimerState('running');},[currentPhase,startTimerMutation]);// Pause timer\nconst pauseTimer=useCallback(async()=>{setTimerState('paused');// Pause timer on server if authenticated\nif(serverSessionId&&isAuthenticated()){try{await pauseTimerMutation({variables:{sessionId:serverSessionId}});}catch(error){console.error('Failed to pause timer on server:',error);}}},[serverSessionId,pauseTimerMutation]);// Resume timer\nconst resumeTimer=useCallback(()=>{setTimerState('running');},[]);// Reset timer\nconst resetTimer=useCallback(()=>{setTimerState('idle');setTimeRemaining(getPhaseDuration(currentPhase,settings));setCurrentSessionId(null);setCurrentTaskId(null);setServerSessionId(null);},[currentPhase,settings]);// Skip to next phase\nconst skipPhase=useCallback(async()=>{// Skip phase on server if authenticated\nif(serverSessionId&&isAuthenticated()){try{await skipPhaseMutation({variables:{sessionId:serverSessionId}});}catch(error){console.error('Failed to skip phase on server:',error);}}const nextPhase=getNextPhase(currentPhase,completedWorkSessions,settings);setCurrentPhase(nextPhase);setTimeRemaining(getPhaseDuration(nextPhase,settings));setTimerState('idle');setCurrentSessionId(null);setCurrentTaskId(null);setServerSessionId(null);},[currentPhase,completedWorkSessions,settings,serverSessionId,skipPhaseMutation]);// Update settings\nconst updateSettings=useCallback(newSettings=>{setSettings(prev=>{const updated=_objectSpread(_objectSpread({},prev),newSettings);// Update time remaining if timer is idle and work duration changed\nif(timerState==='idle'&&currentPhase==='work'&&newSettings.workDuration){setTimeRemaining(updated.workDuration*60);}return updated;});},[timerState,currentPhase]);return/*#__PURE__*/_jsx(TimerContext.Provider,{value:{timerState,currentPhase,timeRemaining,progress,settings,stats,completedWorkSessions,currentSessionId,currentTaskId,startTimer,pauseTimer,resumeTimer,resetTimer,skipPhase,updateSettings},children:children});}export function useTimer(){const context=useContext(TimerContext);if(context===undefined){throw new Error('useTimer must be used within a TimerProvider');}return context;}","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","useRef","useQuery","useMutation","DEFAULT_POMODORO_SETTINGS","getPhaseDuration","getNextPhase","calculateTimerStats","generateSessionId","playNotificationSound","showNotification","getPhaseLabel","GET_TIMER_SESSIONS","GET_TIMER_STATS","START_TIMER","PAUSE_TIMER","COMPLETE_TIMER","SKIP_PHASE","isAuthenticated","jsx","_jsx","TimerContext","undefined","STORAGE_KEY","TimerProvider","_ref","children","timerState","setTimerState","currentPhase","setCurrentPhase","timeRemaining","setTimeRemaining","workDuration","settings","setSettings","completedWorkSessions","setCompletedWorkSessions","currentSessionId","setCurrentSessionId","currentTaskId","setCurrentTaskId","serverSessionId","setServerSessionId","intervalRef","data","sessionsData","skip","fetchPolicy","statsData","startTimerMutation","refetchQueries","query","pauseTimerMutation","completeTimerMutation","skipPhaseMutation","stored","localStorage","getItem","JSON","parse","e","console","error","setItem","stringify","totalTime","progress","localSessions","stats","timerStats","todayMinutes","weekMinutes","totalSessions","currentStreak","averageSessionLength","handlePhaseComplete","phaseLabel","concat","variables","sessionId","prev","nextPhase","handlePhaseCompleteRef","current","setInterval","clearInterval","startTimer","taskId","_result$data","result","String","type","toUpperCase","id","pauseTimer","resumeTimer","resetTimer","skipPhase","updateSettings","newSettings","updated","_objectSpread","Provider","value","useTimer","context","Error"],"sources":["/home/zobair-qauomi/todo_app/frontend/src/TimerContext.tsx"],"sourcesContent":["/**\n * Timer Context - Manages Pomodoro timer state and sessions with Apollo integration\n */\n\nimport React, { createContext, useContext, useState, useEffect, useCallback, useRef } from 'react';\nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n  TimerState,\n  PomodoroPhase,\n  PomodoroSession,\n  PomodoroSettings,\n  TimerStats,\n  DEFAULT_POMODORO_SETTINGS,\n} from './types/timer.types';\nimport {\n  getPhaseDuration,\n  getNextPhase,\n  calculateTimerStats,\n  generateSessionId,\n  playNotificationSound,\n  showNotification,\n  getPhaseLabel,\n} from './utils/timeTracking';\nimport { GET_TIMER_SESSIONS, GET_TIMER_STATS } from './graphql/queries';\nimport { START_TIMER, PAUSE_TIMER, COMPLETE_TIMER, SKIP_PHASE } from './graphql/mutations';\nimport { isAuthenticated } from './lib/apollo';\n\ninterface TimerContextType {\n  // Timer state\n  timerState: TimerState;\n  currentPhase: PomodoroPhase;\n  timeRemaining: number;\n  progress: number;\n\n  // Settings\n  settings: PomodoroSettings;\n\n  // Stats\n  stats: TimerStats;\n  completedWorkSessions: number;\n\n  // Current session\n  currentSessionId: number | null;\n  currentTaskId: number | null;\n\n  // Actions\n  startTimer: (taskId?: number) => void;\n  pauseTimer: () => void;\n  resumeTimer: () => void;\n  resetTimer: () => void;\n  skipPhase: () => void;\n  updateSettings: (newSettings: Partial<PomodoroSettings>) => void;\n}\n\nconst TimerContext = createContext<TimerContextType | undefined>(undefined);\n\nconst STORAGE_KEY = 'taskflow_timer';\n\ninterface StoredTimerData {\n  settings: PomodoroSettings;\n  completedWorkSessions: number;\n}\n\nexport function TimerProvider({ children }: { children: React.ReactNode }) {\n  // Local UI state - these remain local for real-time responsiveness\n  const [timerState, setTimerState] = useState<TimerState>('idle');\n  const [currentPhase, setCurrentPhase] = useState<PomodoroPhase>('work');\n  const [timeRemaining, setTimeRemaining] = useState(DEFAULT_POMODORO_SETTINGS.workDuration * 60);\n  const [settings, setSettings] = useState<PomodoroSettings>(DEFAULT_POMODORO_SETTINGS);\n  const [completedWorkSessions, setCompletedWorkSessions] = useState(0);\n  const [currentSessionId, setCurrentSessionId] = useState<number | null>(null);\n  const [currentTaskId, setCurrentTaskId] = useState<number | null>(null);\n  // Track server session ID for Apollo mutations\n  const [serverSessionId, setServerSessionId] = useState<string | null>(null);\n\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Apollo queries for historical data (only when authenticated)\n  const { data: sessionsData } = useQuery(GET_TIMER_SESSIONS, {\n    skip: !isAuthenticated(),\n    fetchPolicy: 'cache-and-network',\n  });\n\n  const { data: statsData } = useQuery(GET_TIMER_STATS, {\n    skip: !isAuthenticated(),\n    fetchPolicy: 'cache-and-network',\n  });\n\n  // Apollo mutations\n  const [startTimerMutation] = useMutation(START_TIMER, {\n    refetchQueries: [{ query: GET_TIMER_SESSIONS }, { query: GET_TIMER_STATS }],\n  });\n\n  const [pauseTimerMutation] = useMutation(PAUSE_TIMER, {\n    refetchQueries: [{ query: GET_TIMER_SESSIONS }],\n  });\n\n  const [completeTimerMutation] = useMutation(COMPLETE_TIMER, {\n    refetchQueries: [{ query: GET_TIMER_SESSIONS }, { query: GET_TIMER_STATS }],\n  });\n\n  const [skipPhaseMutation] = useMutation(SKIP_PHASE, {\n    refetchQueries: [{ query: GET_TIMER_SESSIONS }],\n  });\n\n  // Load settings from localStorage\n  useEffect(() => {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      try {\n        const data: StoredTimerData = JSON.parse(stored);\n        setSettings(data.settings || DEFAULT_POMODORO_SETTINGS);\n        setCompletedWorkSessions(data.completedWorkSessions || 0);\n      } catch (e) {\n        console.error('Failed to load timer data:', e);\n      }\n    }\n  }, []);\n\n  // Save settings to localStorage\n  useEffect(() => {\n    const data: StoredTimerData = {\n      settings,\n      completedWorkSessions,\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n  }, [settings, completedWorkSessions]);\n\n  // Calculate progress\n  const totalTime = getPhaseDuration(currentPhase, settings);\n  const progress = ((totalTime - timeRemaining) / totalTime) * 100;\n\n  // Calculate stats - use server data if available, otherwise local\n  const localSessions: PomodoroSession[] = []; // Local sessions are transient\n  const stats = isAuthenticated() && statsData?.timerStats\n    ? {\n        todayMinutes: statsData.timerStats.todayMinutes || 0,\n        weekMinutes: statsData.timerStats.weekMinutes || 0,\n        totalSessions: statsData.timerStats.totalSessions || 0,\n        currentStreak: statsData.timerStats.currentStreak || 0,\n        averageSessionLength: statsData.timerStats.averageSessionLength || 0,\n      }\n    : calculateTimerStats(localSessions);\n\n  // Handle phase completion\n  const handlePhaseComplete = useCallback(async () => {\n    setTimerState('idle');\n\n    // Play sound and show notification\n    playNotificationSound();\n    const phaseLabel = getPhaseLabel(currentPhase);\n    showNotification(\n      `${phaseLabel} Complete!`,\n      currentPhase === 'work'\n        ? 'Great job! Time for a break.'\n        : 'Break is over. Ready to focus?'\n    );\n\n    // Complete timer on server\n    if (serverSessionId && isAuthenticated()) {\n      try {\n        await completeTimerMutation({\n          variables: { sessionId: serverSessionId },\n        });\n      } catch (error) {\n        console.error('Failed to complete timer on server:', error);\n      }\n    }\n\n    // Update completed work sessions count\n    if (currentPhase === 'work') {\n      setCompletedWorkSessions((prev) => prev + 1);\n    }\n\n    // Move to next phase\n    const nextPhase = getNextPhase(currentPhase, completedWorkSessions + (currentPhase === 'work' ? 1 : 0), settings);\n    setCurrentPhase(nextPhase);\n    setTimeRemaining(getPhaseDuration(nextPhase, settings));\n    setCurrentSessionId(null);\n    setServerSessionId(null);\n  }, [currentPhase, completedWorkSessions, settings, serverSessionId, completeTimerMutation]);\n\n  // Store handlePhaseComplete in ref to avoid dependency issues\n  const handlePhaseCompleteRef = useRef(handlePhaseComplete);\n  handlePhaseCompleteRef.current = handlePhaseComplete;\n\n  // Timer tick\n  useEffect(() => {\n    if (timerState === 'running') {\n      intervalRef.current = setInterval(() => {\n        setTimeRemaining((prev) => {\n          if (prev <= 1) {\n            // Timer completed\n            handlePhaseCompleteRef.current();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [timerState]);\n\n  // Start timer\n  const startTimer = useCallback(async (taskId?: number) => {\n    const sessionId = generateSessionId();\n\n    // Start timer on server if authenticated\n    if (isAuthenticated()) {\n      try {\n        const result = await startTimerMutation({\n          variables: {\n            taskId: taskId ? String(taskId) : undefined,\n            type: currentPhase.toUpperCase() as 'WORK' | 'SHORT_BREAK' | 'LONG_BREAK',\n          },\n        });\n        if (result.data?.startTimer) {\n          setServerSessionId(result.data.startTimer.id);\n        }\n      } catch (error) {\n        console.error('Failed to start timer on server:', error);\n      }\n    }\n\n    setCurrentSessionId(sessionId);\n    setCurrentTaskId(taskId || null);\n    setTimerState('running');\n  }, [currentPhase, startTimerMutation]);\n\n  // Pause timer\n  const pauseTimer = useCallback(async () => {\n    setTimerState('paused');\n\n    // Pause timer on server if authenticated\n    if (serverSessionId && isAuthenticated()) {\n      try {\n        await pauseTimerMutation({\n          variables: { sessionId: serverSessionId },\n        });\n      } catch (error) {\n        console.error('Failed to pause timer on server:', error);\n      }\n    }\n  }, [serverSessionId, pauseTimerMutation]);\n\n  // Resume timer\n  const resumeTimer = useCallback(() => {\n    setTimerState('running');\n  }, []);\n\n  // Reset timer\n  const resetTimer = useCallback(() => {\n    setTimerState('idle');\n    setTimeRemaining(getPhaseDuration(currentPhase, settings));\n    setCurrentSessionId(null);\n    setCurrentTaskId(null);\n    setServerSessionId(null);\n  }, [currentPhase, settings]);\n\n  // Skip to next phase\n  const skipPhase = useCallback(async () => {\n    // Skip phase on server if authenticated\n    if (serverSessionId && isAuthenticated()) {\n      try {\n        await skipPhaseMutation({\n          variables: { sessionId: serverSessionId },\n        });\n      } catch (error) {\n        console.error('Failed to skip phase on server:', error);\n      }\n    }\n\n    const nextPhase = getNextPhase(currentPhase, completedWorkSessions, settings);\n    setCurrentPhase(nextPhase);\n    setTimeRemaining(getPhaseDuration(nextPhase, settings));\n    setTimerState('idle');\n    setCurrentSessionId(null);\n    setCurrentTaskId(null);\n    setServerSessionId(null);\n  }, [currentPhase, completedWorkSessions, settings, serverSessionId, skipPhaseMutation]);\n\n  // Update settings\n  const updateSettings = useCallback((newSettings: Partial<PomodoroSettings>) => {\n    setSettings((prev) => {\n      const updated = { ...prev, ...newSettings };\n      // Update time remaining if timer is idle and work duration changed\n      if (timerState === 'idle' && currentPhase === 'work' && newSettings.workDuration) {\n        setTimeRemaining(updated.workDuration * 60);\n      }\n      return updated;\n    });\n  }, [timerState, currentPhase]);\n\n  return (\n    <TimerContext.Provider\n      value={{\n        timerState,\n        currentPhase,\n        timeRemaining,\n        progress,\n        settings,\n        stats,\n        completedWorkSessions,\n        currentSessionId,\n        currentTaskId,\n        startTimer,\n        pauseTimer,\n        resumeTimer,\n        resetTimer,\n        skipPhase,\n        updateSettings,\n      }}\n    >\n      {children}\n    </TimerContext.Provider>\n  );\n}\n\nexport function useTimer() {\n  const context = useContext(TimerContext);\n  if (context === undefined) {\n    throw new Error('useTimer must be used within a TimerProvider');\n  }\n  return context;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}